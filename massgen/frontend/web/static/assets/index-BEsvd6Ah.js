const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/angular-html-LfdN0zeE.js","assets/html-C2L_23MC.js","assets/javascript-ySlJ1b_l.js","assets/css-BPhBrDlE.js","assets/angular-ts-CKsD7JZE.js","assets/scss-C31hgJw-.js","assets/apl-BBq3IX1j.js","assets/xml-e3z08dGr.js","assets/java-xI-RfyKK.js","assets/json-BQoSv7ci.js","assets/astro-CqkE3fuf.js","assets/typescript-Dj6nwHGl.js","assets/postcss-B3ZDOciz.js","assets/blade-a8OxSdnT.js","assets/sql-COK4E0Yg.js","assets/bsl-Dgyn0ogV.js","assets/sdbl-BLhTXw86.js","assets/cairo--RitsXJZ.js","assets/python-DhUJRlN_.js","assets/cobol-PTqiYgYu.js","assets/coffee-dyiR41kL.js","assets/cpp-BksuvNSY.js","assets/regexp-DWJ3fJO_.js","assets/glsl-DBO2IWDn.js","assets/c-C3t2pwGQ.js","assets/crystal-DtDmRg-F.js","assets/shellscript-atvbtKCR.js","assets/edge-D5gP-w-T.js","assets/html-derivative-CSfWNPLT.js","assets/elixir-CLiX3zqd.js","assets/elm-CmHSxxaM.js","assets/erb-BYTLMnw6.js","assets/ruby-DeZ3UC14.js","assets/haml-B2EZWmdv.js","assets/graphql-cDcHW_If.js","assets/jsx-BAng5TT0.js","assets/tsx-B6W0miNI.js","assets/lua-CvWAzNxB.js","assets/yaml-CVw76BM1.js","assets/fortran-fixed-form-TqA4NnZg.js","assets/fortran-free-form-DKXYxT9g.js","assets/fsharp-XplgxFYe.js","assets/markdown-UIAJJxZW.js","assets/gdresource-BHYsBjWJ.js","assets/gdshader-SKMF96pI.js","assets/gdscript-DfxzS6Rs.js","assets/git-commit-i4q6IMui.js","assets/diff-BgYniUM_.js","assets/git-rebase-B-v9cOL2.js","assets/glimmer-js-D-cwc0-E.js","assets/glimmer-ts-pgjy16dm.js","assets/hack-D1yCygmZ.js","assets/handlebars-BQGss363.js","assets/http-FRrOvY1W.js","assets/hxml-TIA70rKU.js","assets/haxe-C5wWYbrZ.js","assets/imba-bv_oIlVt.js","assets/jinja-DGy0s7-h.js","assets/jison-BqZprYcd.js","assets/julia-BBuGR-5E.js","assets/r-CwjWoCRV.js","assets/latex-C-cWTeAZ.js","assets/tex-rYs2v40G.js","assets/liquid-D3W5UaiH.js","assets/marko-z0MBrx5-.js","assets/less-BfCpw3nA.js","assets/mdc-DB_EDNY_.js","assets/nginx-D_VnBJ67.js","assets/nim-ZlGxZxc3.js","assets/perl-CHQXSrWU.js","assets/php-B5ebYQev.js","assets/pug-CM9l7STV.js","assets/qml-D8XfuvdV.js","assets/razor-CNLDkMZG.js","assets/csharp-D9R-vmeu.js","assets/rst-4NLicBqY.js","assets/cmake-DbXoA79R.js","assets/sas-BmTFh92c.js","assets/shaderlab-B7qAK45m.js","assets/hlsl-ifBTmRxC.js","assets/shellsession-C_rIy8kc.js","assets/soy-C-lX7w71.js","assets/sparql-bYkjHRlG.js","assets/turtle-BMR_PYu6.js","assets/stata-DorPZHa4.js","assets/svelte-MSaWC3Je.js","assets/templ-dwX3ZSMB.js","assets/go-B1SYOhNW.js","assets/ts-tags-CipyTH0X.js","assets/twig-NC5TFiHP.js","assets/vue-BuYVFjOK.js","assets/vue-html-xdeiXROB.js","assets/xsl-Dd0NUgwM.js"])))=>i.map(i=>d[i]);
var F1=Object.defineProperty;var B1=(e,t,r)=>t in e?F1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var H=(e,t,r)=>B1(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();function r0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xc={exports:{}},gi={},Jc={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function z1(){if(Gp)return Te;Gp=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=x&&L[x]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function S(L,W,J){this.props=L,this.context=W,this.refs=k,this.updater=J||w}S.prototype.isReactComponent={},S.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},S.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function N(){}N.prototype=S.prototype;function T(L,W,J){this.props=L,this.context=W,this.refs=k,this.updater=J||w}var E=T.prototype=new N;E.constructor=T,_(E,S.prototype),E.isPureReactComponent=!0;var R=Array.isArray,I=Object.prototype.hasOwnProperty,G={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function z(L,W,J){var le,ke={},B=null,ee=null;if(W!=null)for(le in W.ref!==void 0&&(ee=W.ref),W.key!==void 0&&(B=""+W.key),W)I.call(W,le)&&!F.hasOwnProperty(le)&&(ke[le]=W[le]);var re=arguments.length-2;if(re===1)ke.children=J;else if(1<re){for(var Ce=Array(re),We=0;We<re;We++)Ce[We]=arguments[We+2];ke.children=Ce}if(L&&L.defaultProps)for(le in re=L.defaultProps,re)ke[le]===void 0&&(ke[le]=re[le]);return{$$typeof:e,type:L,key:B,ref:ee,props:ke,_owner:G.current}}function te(L,W){return{$$typeof:e,type:L.type,key:W,ref:L.ref,props:L.props,_owner:L._owner}}function ge(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function Pe(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(J){return W[J]})}var Ae=/\/+/g;function Le(L,W){return typeof L=="object"&&L!==null&&L.key!=null?Pe(""+L.key):W.toString(36)}function Se(L,W,J,le,ke){var B=typeof L;(B==="undefined"||B==="boolean")&&(L=null);var ee=!1;if(L===null)ee=!0;else switch(B){case"string":case"number":ee=!0;break;case"object":switch(L.$$typeof){case e:case t:ee=!0}}if(ee)return ee=L,ke=ke(ee),L=le===""?"."+Le(ee,0):le,R(ke)?(J="",L!=null&&(J=L.replace(Ae,"$&/")+"/"),Se(ke,W,J,"",function(We){return We})):ke!=null&&(ge(ke)&&(ke=te(ke,J+(!ke.key||ee&&ee.key===ke.key?"":(""+ke.key).replace(Ae,"$&/")+"/")+L)),W.push(ke)),1;if(ee=0,le=le===""?".":le+":",R(L))for(var re=0;re<L.length;re++){B=L[re];var Ce=le+Le(B,re);ee+=Se(B,W,J,Ce,ke)}else if(Ce=v(L),typeof Ce=="function")for(L=Ce.call(L),re=0;!(B=L.next()).done;)B=B.value,Ce=le+Le(B,re++),ee+=Se(B,W,J,Ce,ke);else if(B==="object")throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return ee}function ue(L,W,J){if(L==null)return L;var le=[],ke=0;return Se(L,le,"","",function(B){return W.call(J,B,ke++)}),le}function pe(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(J){(L._status===0||L._status===-1)&&(L._status=1,L._result=J)},function(J){(L._status===0||L._status===-1)&&(L._status=2,L._result=J)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var ve={current:null},q={transition:null},oe={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:q,ReactCurrentOwner:G};function O(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:ue,forEach:function(L,W,J){ue(L,function(){W.apply(this,arguments)},J)},count:function(L){var W=0;return ue(L,function(){W++}),W},toArray:function(L){return ue(L,function(W){return W})||[]},only:function(L){if(!ge(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Te.Component=S,Te.Fragment=r,Te.Profiler=a,Te.PureComponent=T,Te.StrictMode=i,Te.Suspense=h,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Te.act=O,Te.cloneElement=function(L,W,J){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var le=_({},L.props),ke=L.key,B=L.ref,ee=L._owner;if(W!=null){if(W.ref!==void 0&&(B=W.ref,ee=G.current),W.key!==void 0&&(ke=""+W.key),L.type&&L.type.defaultProps)var re=L.type.defaultProps;for(Ce in W)I.call(W,Ce)&&!F.hasOwnProperty(Ce)&&(le[Ce]=W[Ce]===void 0&&re!==void 0?re[Ce]:W[Ce])}var Ce=arguments.length-2;if(Ce===1)le.children=J;else if(1<Ce){re=Array(Ce);for(var We=0;We<Ce;We++)re[We]=arguments[We+2];le.children=re}return{$$typeof:e,type:L.type,key:ke,ref:B,props:le,_owner:ee}},Te.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:c,_context:L},L.Consumer=L},Te.createElement=z,Te.createFactory=function(L){var W=z.bind(null,L);return W.type=L,W},Te.createRef=function(){return{current:null}},Te.forwardRef=function(L){return{$$typeof:f,render:L}},Te.isValidElement=ge,Te.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:pe}},Te.memo=function(L,W){return{$$typeof:m,type:L,compare:W===void 0?null:W}},Te.startTransition=function(L){var W=q.transition;q.transition={};try{L()}finally{q.transition=W}},Te.unstable_act=O,Te.useCallback=function(L,W){return ve.current.useCallback(L,W)},Te.useContext=function(L){return ve.current.useContext(L)},Te.useDebugValue=function(){},Te.useDeferredValue=function(L){return ve.current.useDeferredValue(L)},Te.useEffect=function(L,W){return ve.current.useEffect(L,W)},Te.useId=function(){return ve.current.useId()},Te.useImperativeHandle=function(L,W,J){return ve.current.useImperativeHandle(L,W,J)},Te.useInsertionEffect=function(L,W){return ve.current.useInsertionEffect(L,W)},Te.useLayoutEffect=function(L,W){return ve.current.useLayoutEffect(L,W)},Te.useMemo=function(L,W){return ve.current.useMemo(L,W)},Te.useReducer=function(L,W,J){return ve.current.useReducer(L,W,J)},Te.useRef=function(L){return ve.current.useRef(L)},Te.useState=function(L){return ve.current.useState(L)},Te.useSyncExternalStore=function(L,W,J){return ve.current.useSyncExternalStore(L,W,J)},Te.useTransition=function(){return ve.current.useTransition()},Te.version="18.3.1",Te}var Hp;function ld(){return Hp||(Hp=1,Jc.exports=z1()),Jc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function $1(){if(Kp)return gi;Kp=1;var e=ld(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,m){var y,x={},v=null,w=null;m!==void 0&&(v=""+m),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(w=h.ref);for(y in h)i.call(h,y)&&!c.hasOwnProperty(y)&&(x[y]=h[y]);if(f&&f.defaultProps)for(y in h=f.defaultProps,h)x[y]===void 0&&(x[y]=h[y]);return{$$typeof:t,type:f,key:v,ref:w,props:x,_owner:a.current}}return gi.Fragment=r,gi.jsx=u,gi.jsxs=u,gi}var qp;function U1(){return qp||(qp=1,Xc.exports=$1()),Xc.exports}var o=U1(),j=ld();const ji=r0(j);var uo={},Zc={exports:{}},Lt={},eu={exports:{}},tu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function W1(){return Yp||(Yp=1,(function(e){function t(q,oe){var O=q.length;q.push(oe);e:for(;0<O;){var L=O-1>>>1,W=q[L];if(0<a(W,oe))q[L]=oe,q[O]=W,O=L;else break e}}function r(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var oe=q[0],O=q.pop();if(O!==oe){q[0]=O;e:for(var L=0,W=q.length,J=W>>>1;L<J;){var le=2*(L+1)-1,ke=q[le],B=le+1,ee=q[B];if(0>a(ke,O))B<W&&0>a(ee,ke)?(q[L]=ee,q[B]=O,L=B):(q[L]=ke,q[le]=O,L=le);else if(B<W&&0>a(ee,O))q[L]=ee,q[B]=O,L=B;else break e}}return oe}function a(q,oe){var O=q.sortIndex-oe.sortIndex;return O!==0?O:q.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],m=[],y=1,x=null,v=3,w=!1,_=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(q){for(var oe=r(m);oe!==null;){if(oe.callback===null)i(m);else if(oe.startTime<=q)i(m),oe.sortIndex=oe.expirationTime,t(h,oe);else break;oe=r(m)}}function R(q){if(k=!1,E(q),!_)if(r(h)!==null)_=!0,pe(I);else{var oe=r(m);oe!==null&&ve(R,oe.startTime-q)}}function I(q,oe){_=!1,k&&(k=!1,N(z),z=-1),w=!0;var O=v;try{for(E(oe),x=r(h);x!==null&&(!(x.expirationTime>oe)||q&&!Pe());){var L=x.callback;if(typeof L=="function"){x.callback=null,v=x.priorityLevel;var W=L(x.expirationTime<=oe);oe=e.unstable_now(),typeof W=="function"?x.callback=W:x===r(h)&&i(h),E(oe)}else i(h);x=r(h)}if(x!==null)var J=!0;else{var le=r(m);le!==null&&ve(R,le.startTime-oe),J=!1}return J}finally{x=null,v=O,w=!1}}var G=!1,F=null,z=-1,te=5,ge=-1;function Pe(){return!(e.unstable_now()-ge<te)}function Ae(){if(F!==null){var q=e.unstable_now();ge=q;var oe=!0;try{oe=F(!0,q)}finally{oe?Le():(G=!1,F=null)}}else G=!1}var Le;if(typeof T=="function")Le=function(){T(Ae)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,ue=Se.port2;Se.port1.onmessage=Ae,Le=function(){ue.postMessage(null)}}else Le=function(){S(Ae,0)};function pe(q){F=q,G||(G=!0,Le())}function ve(q,oe){z=S(function(){q(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){_||w||(_=!0,pe(I))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(h)},e.unstable_next=function(q){switch(v){case 1:case 2:case 3:var oe=3;break;default:oe=v}var O=v;v=oe;try{return q()}finally{v=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,oe){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var O=v;v=q;try{return oe()}finally{v=O}},e.unstable_scheduleCallback=function(q,oe,O){var L=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?L+O:L):O=L,q){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=O+W,q={id:y++,callback:oe,priorityLevel:q,startTime:O,expirationTime:W,sortIndex:-1},O>L?(q.sortIndex=O,t(m,q),r(h)===null&&q===r(m)&&(k?(N(z),z=-1):k=!0,ve(R,O-L))):(q.sortIndex=W,t(h,q),_||w||(_=!0,pe(I))),q},e.unstable_shouldYield=Pe,e.unstable_wrapCallback=function(q){var oe=v;return function(){var O=v;v=oe;try{return q.apply(this,arguments)}finally{v=O}}}})(tu)),tu}var Qp;function G1(){return Qp||(Qp=1,eu.exports=W1()),eu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function H1(){if(Xp)return Lt;Xp=1;var e=ld(),t=G1();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function c(n,s){u(n,s),u(n+"Capture",s)}function u(n,s){for(a[n]=s,n=0;n<s.length;n++)i.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function v(n){return h.call(x,n)?!0:h.call(y,n)?!1:m.test(n)?x[n]=!0:(y[n]=!0,!1)}function w(n,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function _(n,s,l,d){if(s===null||typeof s>"u"||w(n,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(n,s,l,d,p,g,b){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=b}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){S[n]=new k(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];S[s]=new k(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){S[n]=new k(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){S[n]=new k(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){S[n]=new k(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){S[n]=new k(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){S[n]=new k(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){S[n]=new k(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){S[n]=new k(n,5,!1,n.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function T(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(N,T);S[s]=new k(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(N,T);S[s]=new k(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(N,T);S[s]=new k(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){S[n]=new k(n,1,!1,n.toLowerCase(),null,!1,!1)}),S.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){S[n]=new k(n,1,!1,n.toLowerCase(),null,!0,!0)});function E(n,s,l,d){var p=S.hasOwnProperty(s)?S[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(_(s,l,p,d)&&(l=null),d||p===null?v(s)&&(l===null?n.removeAttribute(s):n.setAttribute(s,""+l)):p.mustUseProperty?n[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?n.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?n.setAttributeNS(d,s,l):n.setAttribute(s,l))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),G=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),Pe=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),q=Symbol.iterator;function oe(n){return n===null||typeof n!="object"?null:(n=q&&n[q]||n["@@iterator"],typeof n=="function"?n:null)}var O=Object.assign,L;function W(n){if(L===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+n}var J=!1;function le(n,s){if(!n||J)return"";J=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var d=$}Reflect.construct(n,[],s)}else{try{s.call()}catch($){d=$}n.call(s.prototype)}else{try{throw Error()}catch($){d=$}n()}}catch($){if($&&d&&typeof $.stack=="string"){for(var p=$.stack.split(`
`),g=d.stack.split(`
`),b=p.length-1,P=g.length-1;1<=b&&0<=P&&p[b]!==g[P];)P--;for(;1<=b&&0<=P;b--,P--)if(p[b]!==g[P]){if(b!==1||P!==1)do if(b--,P--,0>P||p[b]!==g[P]){var A=`
`+p[b].replace(" at new "," at ");return n.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",n.displayName)),A}while(1<=b&&0<=P);break}}}finally{J=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?W(n):""}function ke(n){switch(n.tag){case 5:return W(n.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return n=le(n.type,!1),n;case 11:return n=le(n.type.render,!1),n;case 1:return n=le(n.type,!0),n;default:return""}}function B(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case F:return"Fragment";case G:return"Portal";case te:return"Profiler";case z:return"StrictMode";case Le:return"Suspense";case Se:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Pe:return(n.displayName||"Context")+".Consumer";case ge:return(n._context.displayName||"Context")+".Provider";case Ae:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ue:return s=n.displayName||null,s!==null?s:B(n.type)||"Memo";case pe:s=n._payload,n=n._init;try{return B(n(s))}catch{}}return null}function ee(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(s);case 8:return s===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function re(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ce(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function We(n){var s=Ce(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),d=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return p.call(this)},set:function(b){d=""+b,g.call(this,b)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(b){d=""+b},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function It(n){n._valueTracker||(n._valueTracker=We(n))}function En(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return n&&(d=Ce(n)?n.checked?"true":"false":n.value),n=d,n!==l?(s.setValue(n),!0):!1}function Ut(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Wt(n,s){var l=s.checked;return O({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function K(n,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=re(s.value!=null?s.value:l),n._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function U(n,s){s=s.checked,s!=null&&E(n,"checked",s,!1)}function se(n,s){U(n,s);var l=re(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Be(n,s.type,l):s.hasOwnProperty("defaultValue")&&Be(n,s.type,re(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Re(n,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,l||s===n.value||(n.value=s),n.defaultValue=s}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function Be(n,s,l){(s!=="number"||Ut(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var Pn=Array.isArray;function tn(n,s,l,d){if(n=n.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<n.length;l++)p=s.hasOwnProperty("$"+n[l].value),n[l].selected!==p&&(n[l].selected=p),p&&d&&(n[l].defaultSelected=!0)}else{for(l=""+re(l),s=null,p=0;p<n.length;p++){if(n[p].value===l){n[p].selected=!0,d&&(n[p].defaultSelected=!0);return}s!==null||n[p].disabled||(s=n[p])}s!==null&&(s.selected=!0)}}function yr(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return O({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function xr(n,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(r(92));if(Pn(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),l=s}n._wrapperState={initialValue:re(l)}}function he(n,s){var l=re(s.value),d=re(s.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),s.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),d!=null&&(n.defaultValue=""+d)}function Ge(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function mn(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nn(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?mn(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Wr,Gr=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return n(s,l,d,p)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Wr=Wr||document.createElement("div"),Wr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Wr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Rs(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var Ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ux=["Webkit","ms","Moz","O"];Object.keys(Ls).forEach(function(n){Ux.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Ls[s]=Ls[n]})});function af(n,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Ls.hasOwnProperty(n)&&Ls[n]?(""+s).trim():s+"px"}function of(n,s){n=n.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=af(l,s[l],d);l==="float"&&(l="cssFloat"),d?n.setProperty(l,p):n[l]=p}}var Wx=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cl(n,s){if(s){if(Wx[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function ul(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dl=null;function fl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var hl=null,Hr=null,Kr=null;function lf(n){if(n=ti(n)){if(typeof hl!="function")throw Error(r(280));var s=n.stateNode;s&&(s=Sa(s),hl(n.stateNode,n.type,s))}}function cf(n){Hr?Kr?Kr.push(n):Kr=[n]:Hr=n}function uf(){if(Hr){var n=Hr,s=Kr;if(Kr=Hr=null,lf(n),s)for(n=0;n<s.length;n++)lf(s[n])}}function df(n,s){return n(s)}function ff(){}var pl=!1;function hf(n,s,l){if(pl)return n(s,l);pl=!0;try{return df(n,s,l)}finally{pl=!1,(Hr!==null||Kr!==null)&&(ff(),uf())}}function Ds(n,s){var l=n.stateNode;if(l===null)return null;var d=Sa(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var ml=!1;if(f)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){ml=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{ml=!1}function Gx(n,s,l,d,p,g,b,P,A){var $=Array.prototype.slice.call(arguments,3);try{s.apply(l,$)}catch(Q){this.onError(Q)}}var Os=!1,ra=null,sa=!1,gl=null,Hx={onError:function(n){Os=!0,ra=n}};function Kx(n,s,l,d,p,g,b,P,A){Os=!1,ra=null,Gx.apply(Hx,arguments)}function qx(n,s,l,d,p,g,b,P,A){if(Kx.apply(this,arguments),Os){if(Os){var $=ra;Os=!1,ra=null}else throw Error(r(198));sa||(sa=!0,gl=$)}}function vr(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function pf(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function mf(n){if(vr(n)!==n)throw Error(r(188))}function Yx(n){var s=n.alternate;if(!s){if(s=vr(n),s===null)throw Error(r(188));return s!==n?null:n}for(var l=n,d=s;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return mf(p),n;if(g===d)return mf(p),s;g=g.sibling}throw Error(r(188))}if(l.return!==d.return)l=p,d=g;else{for(var b=!1,P=p.child;P;){if(P===l){b=!0,l=p,d=g;break}if(P===d){b=!0,d=p,l=g;break}P=P.sibling}if(!b){for(P=g.child;P;){if(P===l){b=!0,l=g,d=p;break}if(P===d){b=!0,d=g,l=p;break}P=P.sibling}if(!b)throw Error(r(189))}}if(l.alternate!==d)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:s}function gf(n){return n=Yx(n),n!==null?yf(n):null}function yf(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=yf(n);if(s!==null)return s;n=n.sibling}return null}var xf=t.unstable_scheduleCallback,vf=t.unstable_cancelCallback,Qx=t.unstable_shouldYield,Xx=t.unstable_requestPaint,et=t.unstable_now,Jx=t.unstable_getCurrentPriorityLevel,yl=t.unstable_ImmediatePriority,wf=t.unstable_UserBlockingPriority,ia=t.unstable_NormalPriority,Zx=t.unstable_LowPriority,_f=t.unstable_IdlePriority,aa=null,gn=null;function ev(n){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(aa,n,void 0,(n.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:rv,tv=Math.log,nv=Math.LN2;function rv(n){return n>>>=0,n===0?32:31-(tv(n)/nv|0)|0}var oa=64,la=4194304;function Ms(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ca(n,s){var l=n.pendingLanes;if(l===0)return 0;var d=0,p=n.suspendedLanes,g=n.pingedLanes,b=l&268435455;if(b!==0){var P=b&~p;P!==0?d=Ms(P):(g&=b,g!==0&&(d=Ms(g)))}else b=l&~p,b!==0?d=Ms(b):g!==0&&(d=Ms(g));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,g=s&-s,p>=g||p===16&&(g&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=d;0<s;)l=31-rn(s),p=1<<l,d|=n[l],s&=~p;return d}function sv(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iv(n,s){for(var l=n.suspendedLanes,d=n.pingedLanes,p=n.expirationTimes,g=n.pendingLanes;0<g;){var b=31-rn(g),P=1<<b,A=p[b];A===-1?((P&l)===0||(P&d)!==0)&&(p[b]=sv(P,s)):A<=s&&(n.expiredLanes|=P),g&=~P}}function xl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function bf(){var n=oa;return oa<<=1,(oa&4194240)===0&&(oa=64),n}function vl(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function Vs(n,s,l){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-rn(s),n[s]=l}function av(n,s){var l=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<l;){var p=31-rn(l),g=1<<p;s[p]=0,d[p]=-1,n[p]=-1,l&=~g}}function wl(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var d=31-rn(l),p=1<<d;p&s|n[d]&s&&(n[d]|=s),l&=~p}}var Oe=0;function kf(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var jf,_l,Sf,Nf,Cf,bl=!1,ua=[],Hn=null,Kn=null,qn=null,Fs=new Map,Bs=new Map,Yn=[],ov="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ef(n,s){switch(n){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":Fs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(s.pointerId)}}function zs(n,s,l,d,p,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:g,targetContainers:[p]},s!==null&&(s=ti(s),s!==null&&_l(s)),n):(n.eventSystemFlags|=d,s=n.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),n)}function lv(n,s,l,d,p){switch(s){case"focusin":return Hn=zs(Hn,n,s,l,d,p),!0;case"dragenter":return Kn=zs(Kn,n,s,l,d,p),!0;case"mouseover":return qn=zs(qn,n,s,l,d,p),!0;case"pointerover":var g=p.pointerId;return Fs.set(g,zs(Fs.get(g)||null,n,s,l,d,p)),!0;case"gotpointercapture":return g=p.pointerId,Bs.set(g,zs(Bs.get(g)||null,n,s,l,d,p)),!0}return!1}function Pf(n){var s=wr(n.target);if(s!==null){var l=vr(s);if(l!==null){if(s=l.tag,s===13){if(s=pf(l),s!==null){n.blockedOn=s,Cf(n.priority,function(){Sf(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function da(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=jl(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var d=new l.constructor(l.type,l);dl=d,l.target.dispatchEvent(d),dl=null}else return s=ti(l),s!==null&&_l(s),n.blockedOn=l,!1;s.shift()}return!0}function Tf(n,s,l){da(n)&&l.delete(s)}function cv(){bl=!1,Hn!==null&&da(Hn)&&(Hn=null),Kn!==null&&da(Kn)&&(Kn=null),qn!==null&&da(qn)&&(qn=null),Fs.forEach(Tf),Bs.forEach(Tf)}function $s(n,s){n.blockedOn===s&&(n.blockedOn=null,bl||(bl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cv)))}function Us(n){function s(p){return $s(p,n)}if(0<ua.length){$s(ua[0],n);for(var l=1;l<ua.length;l++){var d=ua[l];d.blockedOn===n&&(d.blockedOn=null)}}for(Hn!==null&&$s(Hn,n),Kn!==null&&$s(Kn,n),qn!==null&&$s(qn,n),Fs.forEach(s),Bs.forEach(s),l=0;l<Yn.length;l++)d=Yn[l],d.blockedOn===n&&(d.blockedOn=null);for(;0<Yn.length&&(l=Yn[0],l.blockedOn===null);)Pf(l),l.blockedOn===null&&Yn.shift()}var qr=R.ReactCurrentBatchConfig,fa=!0;function uv(n,s,l,d){var p=Oe,g=qr.transition;qr.transition=null;try{Oe=1,kl(n,s,l,d)}finally{Oe=p,qr.transition=g}}function dv(n,s,l,d){var p=Oe,g=qr.transition;qr.transition=null;try{Oe=4,kl(n,s,l,d)}finally{Oe=p,qr.transition=g}}function kl(n,s,l,d){if(fa){var p=jl(n,s,l,d);if(p===null)zl(n,s,d,ha,l),Ef(n,d);else if(lv(p,n,s,l,d))d.stopPropagation();else if(Ef(n,d),s&4&&-1<ov.indexOf(n)){for(;p!==null;){var g=ti(p);if(g!==null&&jf(g),g=jl(n,s,l,d),g===null&&zl(n,s,d,ha,l),g===p)break;p=g}p!==null&&d.stopPropagation()}else zl(n,s,d,null,l)}}var ha=null;function jl(n,s,l,d){if(ha=null,n=fl(d),n=wr(n),n!==null)if(s=vr(n),s===null)n=null;else if(l=s.tag,l===13){if(n=pf(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return ha=n,null}function Af(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jx()){case yl:return 1;case wf:return 4;case ia:case Zx:return 16;case _f:return 536870912;default:return 16}default:return 16}}var Qn=null,Sl=null,pa=null;function Rf(){if(pa)return pa;var n,s=Sl,l=s.length,d,p="value"in Qn?Qn.value:Qn.textContent,g=p.length;for(n=0;n<l&&s[n]===p[n];n++);var b=l-n;for(d=1;d<=b&&s[l-d]===p[g-d];d++);return pa=p.slice(n,1<d?1-d:void 0)}function ma(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ga(){return!0}function Lf(){return!1}function Ot(n){function s(l,d,p,g,b){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var P in n)n.hasOwnProperty(P)&&(l=n[P],this[P]=l?l(g):g[P]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ga:Lf,this.isPropagationStopped=Lf,this}return O(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ga)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ga)},persist:function(){},isPersistent:ga}),s}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nl=Ot(Yr),Ws=O({},Yr,{view:0,detail:0}),fv=Ot(Ws),Cl,El,Gs,ya=O({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Gs&&(Gs&&n.type==="mousemove"?(Cl=n.screenX-Gs.screenX,El=n.screenY-Gs.screenY):El=Cl=0,Gs=n),Cl)},movementY:function(n){return"movementY"in n?n.movementY:El}}),Df=Ot(ya),hv=O({},ya,{dataTransfer:0}),pv=Ot(hv),mv=O({},Ws,{relatedTarget:0}),Pl=Ot(mv),gv=O({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),yv=Ot(gv),xv=O({},Yr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),vv=Ot(xv),wv=O({},Yr,{data:0}),If=Ot(wv),_v={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jv(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=kv[n])?!!s[n]:!1}function Tl(){return jv}var Sv=O({},Ws,{key:function(n){if(n.key){var s=_v[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ma(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?bv[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tl,charCode:function(n){return n.type==="keypress"?ma(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ma(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Nv=Ot(Sv),Cv=O({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Of=Ot(Cv),Ev=O({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tl}),Pv=Ot(Ev),Tv=O({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Av=Ot(Tv),Rv=O({},ya,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Lv=Ot(Rv),Dv=[9,13,27,32],Al=f&&"CompositionEvent"in window,Hs=null;f&&"documentMode"in document&&(Hs=document.documentMode);var Iv=f&&"TextEvent"in window&&!Hs,Mf=f&&(!Al||Hs&&8<Hs&&11>=Hs),Vf=" ",Ff=!1;function Bf(n,s){switch(n){case"keyup":return Dv.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Qr=!1;function Ov(n,s){switch(n){case"compositionend":return zf(s);case"keypress":return s.which!==32?null:(Ff=!0,Vf);case"textInput":return n=s.data,n===Vf&&Ff?null:n;default:return null}}function Mv(n,s){if(Qr)return n==="compositionend"||!Al&&Bf(n,s)?(n=Rf(),pa=Sl=Qn=null,Qr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Mf&&s.locale!=="ko"?null:s.data;default:return null}}var Vv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $f(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Vv[n.type]:s==="textarea"}function Uf(n,s,l,d){cf(d),s=ba(s,"onChange"),0<s.length&&(l=new Nl("onChange","change",null,l,d),n.push({event:l,listeners:s}))}var Ks=null,qs=null;function Fv(n){oh(n,0)}function xa(n){var s=ts(n);if(En(s))return n}function Bv(n,s){if(n==="change")return s}var Wf=!1;if(f){var Rl;if(f){var Ll="oninput"in document;if(!Ll){var Gf=document.createElement("div");Gf.setAttribute("oninput","return;"),Ll=typeof Gf.oninput=="function"}Rl=Ll}else Rl=!1;Wf=Rl&&(!document.documentMode||9<document.documentMode)}function Hf(){Ks&&(Ks.detachEvent("onpropertychange",Kf),qs=Ks=null)}function Kf(n){if(n.propertyName==="value"&&xa(qs)){var s=[];Uf(s,qs,n,fl(n)),hf(Fv,s)}}function zv(n,s,l){n==="focusin"?(Hf(),Ks=s,qs=l,Ks.attachEvent("onpropertychange",Kf)):n==="focusout"&&Hf()}function $v(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xa(qs)}function Uv(n,s){if(n==="click")return xa(s)}function Wv(n,s){if(n==="input"||n==="change")return xa(s)}function Gv(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var sn=typeof Object.is=="function"?Object.is:Gv;function Ys(n,s){if(sn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!h.call(s,p)||!sn(n[p],s[p]))return!1}return!0}function qf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Yf(n,s){var l=qf(n);n=0;for(var d;l;){if(l.nodeType===3){if(d=n+l.textContent.length,n<=s&&d>=s)return{node:l,offset:s-n};n=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=qf(l)}}function Qf(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Qf(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Xf(){for(var n=window,s=Ut();s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=Ut(n.document)}return s}function Dl(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function Hv(n){var s=Xf(),l=n.focusedElem,d=n.selectionRange;if(s!==l&&l&&l.ownerDocument&&Qf(l.ownerDocument.documentElement,l)){if(d!==null&&Dl(l)){if(s=d.start,n=d.end,n===void 0&&(n=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(n,l.value.length);else if(n=(s=l.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var p=l.textContent.length,g=Math.min(d.start,p);d=d.end===void 0?g:Math.min(d.end,p),!n.extend&&g>d&&(p=d,d=g,g=p),p=Yf(l,g);var b=Yf(l,d);p&&b&&(n.rangeCount!==1||n.anchorNode!==p.node||n.anchorOffset!==p.offset||n.focusNode!==b.node||n.focusOffset!==b.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),n.removeAllRanges(),g>d?(n.addRange(s),n.extend(b.node,b.offset)):(s.setEnd(b.node,b.offset),n.addRange(s)))}}for(s=[],n=l;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)n=s[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Kv=f&&"documentMode"in document&&11>=document.documentMode,Xr=null,Il=null,Qs=null,Ol=!1;function Jf(n,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ol||Xr==null||Xr!==Ut(d)||(d=Xr,"selectionStart"in d&&Dl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Qs&&Ys(Qs,d)||(Qs=d,d=ba(Il,"onSelect"),0<d.length&&(s=new Nl("onSelect","select",null,s,l),n.push({event:s,listeners:d}),s.target=Xr)))}function va(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Jr={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionend:va("Transition","TransitionEnd")},Ml={},Zf={};f&&(Zf=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function wa(n){if(Ml[n])return Ml[n];if(!Jr[n])return n;var s=Jr[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in Zf)return Ml[n]=s[l];return n}var eh=wa("animationend"),th=wa("animationiteration"),nh=wa("animationstart"),rh=wa("transitionend"),sh=new Map,ih="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(n,s){sh.set(n,s),c(s,[n])}for(var Vl=0;Vl<ih.length;Vl++){var Fl=ih[Vl],qv=Fl.toLowerCase(),Yv=Fl[0].toUpperCase()+Fl.slice(1);Xn(qv,"on"+Yv)}Xn(eh,"onAnimationEnd"),Xn(th,"onAnimationIteration"),Xn(nh,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(rh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xs));function ah(n,s,l){var d=n.type||"unknown-event";n.currentTarget=l,qx(d,s,void 0,n),n.currentTarget=null}function oh(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var d=n[l],p=d.event;d=d.listeners;e:{var g=void 0;if(s)for(var b=d.length-1;0<=b;b--){var P=d[b],A=P.instance,$=P.currentTarget;if(P=P.listener,A!==g&&p.isPropagationStopped())break e;ah(p,P,$),g=A}else for(b=0;b<d.length;b++){if(P=d[b],A=P.instance,$=P.currentTarget,P=P.listener,A!==g&&p.isPropagationStopped())break e;ah(p,P,$),g=A}}}if(sa)throw n=gl,sa=!1,gl=null,n}function ze(n,s){var l=s[Kl];l===void 0&&(l=s[Kl]=new Set);var d=n+"__bubble";l.has(d)||(lh(s,n,2,!1),l.add(d))}function Bl(n,s,l){var d=0;s&&(d|=4),lh(l,n,d,s)}var _a="_reactListening"+Math.random().toString(36).slice(2);function Js(n){if(!n[_a]){n[_a]=!0,i.forEach(function(l){l!=="selectionchange"&&(Qv.has(l)||Bl(l,!1,n),Bl(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[_a]||(s[_a]=!0,Bl("selectionchange",!1,s))}}function lh(n,s,l,d){switch(Af(s)){case 1:var p=uv;break;case 4:p=dv;break;default:p=kl}l=p.bind(null,s,l,n),p=void 0,!ml||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?n.addEventListener(s,l,{capture:!0,passive:p}):n.addEventListener(s,l,!0):p!==void 0?n.addEventListener(s,l,{passive:p}):n.addEventListener(s,l,!1)}function zl(n,s,l,d,p){var g=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var P=d.stateNode.containerInfo;if(P===p||P.nodeType===8&&P.parentNode===p)break;if(b===4)for(b=d.return;b!==null;){var A=b.tag;if((A===3||A===4)&&(A=b.stateNode.containerInfo,A===p||A.nodeType===8&&A.parentNode===p))return;b=b.return}for(;P!==null;){if(b=wr(P),b===null)return;if(A=b.tag,A===5||A===6){d=g=b;continue e}P=P.parentNode}}d=d.return}hf(function(){var $=g,Q=fl(l),X=[];e:{var Y=sh.get(n);if(Y!==void 0){var ae=Nl,de=n;switch(n){case"keypress":if(ma(l)===0)break e;case"keydown":case"keyup":ae=Nv;break;case"focusin":de="focus",ae=Pl;break;case"focusout":de="blur",ae=Pl;break;case"beforeblur":case"afterblur":ae=Pl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Df;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=pv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Pv;break;case eh:case th:case nh:ae=yv;break;case rh:ae=Av;break;case"scroll":ae=fv;break;case"wheel":ae=Lv;break;case"copy":case"cut":case"paste":ae=vv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Of}var fe=(s&4)!==0,tt=!fe&&n==="scroll",M=fe?Y!==null?Y+"Capture":null:Y;fe=[];for(var D=$,V;D!==null;){V=D;var ne=V.stateNode;if(V.tag===5&&ne!==null&&(V=ne,M!==null&&(ne=Ds(D,M),ne!=null&&fe.push(Zs(D,ne,V)))),tt)break;D=D.return}0<fe.length&&(Y=new ae(Y,de,null,l,Q),X.push({event:Y,listeners:fe}))}}if((s&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",ae=n==="mouseout"||n==="pointerout",Y&&l!==dl&&(de=l.relatedTarget||l.fromElement)&&(wr(de)||de[Tn]))break e;if((ae||Y)&&(Y=Q.window===Q?Q:(Y=Q.ownerDocument)?Y.defaultView||Y.parentWindow:window,ae?(de=l.relatedTarget||l.toElement,ae=$,de=de?wr(de):null,de!==null&&(tt=vr(de),de!==tt||de.tag!==5&&de.tag!==6)&&(de=null)):(ae=null,de=$),ae!==de)){if(fe=Df,ne="onMouseLeave",M="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(fe=Of,ne="onPointerLeave",M="onPointerEnter",D="pointer"),tt=ae==null?Y:ts(ae),V=de==null?Y:ts(de),Y=new fe(ne,D+"leave",ae,l,Q),Y.target=tt,Y.relatedTarget=V,ne=null,wr(Q)===$&&(fe=new fe(M,D+"enter",de,l,Q),fe.target=V,fe.relatedTarget=tt,ne=fe),tt=ne,ae&&de)t:{for(fe=ae,M=de,D=0,V=fe;V;V=Zr(V))D++;for(V=0,ne=M;ne;ne=Zr(ne))V++;for(;0<D-V;)fe=Zr(fe),D--;for(;0<V-D;)M=Zr(M),V--;for(;D--;){if(fe===M||M!==null&&fe===M.alternate)break t;fe=Zr(fe),M=Zr(M)}fe=null}else fe=null;ae!==null&&ch(X,Y,ae,fe,!1),de!==null&&tt!==null&&ch(X,tt,de,fe,!0)}}e:{if(Y=$?ts($):window,ae=Y.nodeName&&Y.nodeName.toLowerCase(),ae==="select"||ae==="input"&&Y.type==="file")var me=Bv;else if($f(Y))if(Wf)me=Wv;else{me=$v;var _e=zv}else(ae=Y.nodeName)&&ae.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(me=Uv);if(me&&(me=me(n,$))){Uf(X,me,l,Q);break e}_e&&_e(n,Y,$),n==="focusout"&&(_e=Y._wrapperState)&&_e.controlled&&Y.type==="number"&&Be(Y,"number",Y.value)}switch(_e=$?ts($):window,n){case"focusin":($f(_e)||_e.contentEditable==="true")&&(Xr=_e,Il=$,Qs=null);break;case"focusout":Qs=Il=Xr=null;break;case"mousedown":Ol=!0;break;case"contextmenu":case"mouseup":case"dragend":Ol=!1,Jf(X,l,Q);break;case"selectionchange":if(Kv)break;case"keydown":case"keyup":Jf(X,l,Q)}var be;if(Al)e:{switch(n){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Qr?Bf(n,l)&&(Ne="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ne="onCompositionStart");Ne&&(Mf&&l.locale!=="ko"&&(Qr||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Qr&&(be=Rf()):(Qn=Q,Sl="value"in Qn?Qn.value:Qn.textContent,Qr=!0)),_e=ba($,Ne),0<_e.length&&(Ne=new If(Ne,n,null,l,Q),X.push({event:Ne,listeners:_e}),be?Ne.data=be:(be=zf(l),be!==null&&(Ne.data=be)))),(be=Iv?Ov(n,l):Mv(n,l))&&($=ba($,"onBeforeInput"),0<$.length&&(Q=new If("onBeforeInput","beforeinput",null,l,Q),X.push({event:Q,listeners:$}),Q.data=be))}oh(X,s)})}function Zs(n,s,l){return{instance:n,listener:s,currentTarget:l}}function ba(n,s){for(var l=s+"Capture",d=[];n!==null;){var p=n,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=Ds(n,l),g!=null&&d.unshift(Zs(n,g,p)),g=Ds(n,s),g!=null&&d.push(Zs(n,g,p))),n=n.return}return d}function Zr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function ch(n,s,l,d,p){for(var g=s._reactName,b=[];l!==null&&l!==d;){var P=l,A=P.alternate,$=P.stateNode;if(A!==null&&A===d)break;P.tag===5&&$!==null&&(P=$,p?(A=Ds(l,g),A!=null&&b.unshift(Zs(l,A,P))):p||(A=Ds(l,g),A!=null&&b.push(Zs(l,A,P)))),l=l.return}b.length!==0&&n.push({event:s,listeners:b})}var Xv=/\r\n?/g,Jv=/\u0000|\uFFFD/g;function uh(n){return(typeof n=="string"?n:""+n).replace(Xv,`
`).replace(Jv,"")}function ka(n,s,l){if(s=uh(s),uh(n)!==s&&l)throw Error(r(425))}function ja(){}var $l=null,Ul=null;function Wl(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Gl=typeof setTimeout=="function"?setTimeout:void 0,Zv=typeof clearTimeout=="function"?clearTimeout:void 0,dh=typeof Promise=="function"?Promise:void 0,e1=typeof queueMicrotask=="function"?queueMicrotask:typeof dh<"u"?function(n){return dh.resolve(null).then(n).catch(t1)}:Gl;function t1(n){setTimeout(function(){throw n})}function Hl(n,s){var l=s,d=0;do{var p=l.nextSibling;if(n.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){n.removeChild(p),Us(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);Us(s)}function Jn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function fh(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}var es=Math.random().toString(36).slice(2),yn="__reactFiber$"+es,ei="__reactProps$"+es,Tn="__reactContainer$"+es,Kl="__reactEvents$"+es,n1="__reactListeners$"+es,r1="__reactHandles$"+es;function wr(n){var s=n[yn];if(s)return s;for(var l=n.parentNode;l;){if(s=l[Tn]||l[yn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=fh(n);n!==null;){if(l=n[yn])return l;n=fh(n)}return s}n=l,l=n.parentNode}return null}function ti(n){return n=n[yn]||n[Tn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ts(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Sa(n){return n[ei]||null}var ql=[],ns=-1;function Zn(n){return{current:n}}function $e(n){0>ns||(n.current=ql[ns],ql[ns]=null,ns--)}function Me(n,s){ns++,ql[ns]=n.current,n.current=s}var er={},yt=Zn(er),Et=Zn(!1),_r=er;function rs(n,s){var l=n.type.contextTypes;if(!l)return er;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in l)p[g]=s[g];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=p),p}function Pt(n){return n=n.childContextTypes,n!=null}function Na(){$e(Et),$e(yt)}function hh(n,s,l){if(yt.current!==er)throw Error(r(168));Me(yt,s),Me(Et,l)}function ph(n,s,l){var d=n.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(r(108,ee(n)||"Unknown",p));return O({},l,d)}function Ca(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||er,_r=yt.current,Me(yt,n),Me(Et,Et.current),!0}function mh(n,s,l){var d=n.stateNode;if(!d)throw Error(r(169));l?(n=ph(n,s,_r),d.__reactInternalMemoizedMergedChildContext=n,$e(Et),$e(yt),Me(yt,n)):$e(Et),Me(Et,l)}var An=null,Ea=!1,Yl=!1;function gh(n){An===null?An=[n]:An.push(n)}function s1(n){Ea=!0,gh(n)}function tr(){if(!Yl&&An!==null){Yl=!0;var n=0,s=Oe;try{var l=An;for(Oe=1;n<l.length;n++){var d=l[n];do d=d(!0);while(d!==null)}An=null,Ea=!1}catch(p){throw An!==null&&(An=An.slice(n+1)),xf(yl,tr),p}finally{Oe=s,Yl=!1}}return null}var ss=[],is=0,Pa=null,Ta=0,Gt=[],Ht=0,br=null,Rn=1,Ln="";function kr(n,s){ss[is++]=Ta,ss[is++]=Pa,Pa=n,Ta=s}function yh(n,s,l){Gt[Ht++]=Rn,Gt[Ht++]=Ln,Gt[Ht++]=br,br=n;var d=Rn;n=Ln;var p=32-rn(d)-1;d&=~(1<<p),l+=1;var g=32-rn(s)+p;if(30<g){var b=p-p%5;g=(d&(1<<b)-1).toString(32),d>>=b,p-=b,Rn=1<<32-rn(s)+p|l<<p|d,Ln=g+n}else Rn=1<<g|l<<p|d,Ln=n}function Ql(n){n.return!==null&&(kr(n,1),yh(n,1,0))}function Xl(n){for(;n===Pa;)Pa=ss[--is],ss[is]=null,Ta=ss[--is],ss[is]=null;for(;n===br;)br=Gt[--Ht],Gt[Ht]=null,Ln=Gt[--Ht],Gt[Ht]=null,Rn=Gt[--Ht],Gt[Ht]=null}var Mt=null,Vt=null,He=!1,an=null;function xh(n,s){var l=Qt(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=n,s=n.deletions,s===null?(n.deletions=[l],n.flags|=16):s.push(l)}function vh(n,s){switch(n.tag){case 5:var l=n.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Mt=n,Vt=Jn(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Mt=n,Vt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=br!==null?{id:Rn,overflow:Ln}:null,n.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Qt(18,null,null,0),l.stateNode=s,l.return=n,n.child=l,Mt=n,Vt=null,!0):!1;default:return!1}}function Jl(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Zl(n){if(He){var s=Vt;if(s){var l=s;if(!vh(n,s)){if(Jl(n))throw Error(r(418));s=Jn(l.nextSibling);var d=Mt;s&&vh(n,s)?xh(d,l):(n.flags=n.flags&-4097|2,He=!1,Mt=n)}}else{if(Jl(n))throw Error(r(418));n.flags=n.flags&-4097|2,He=!1,Mt=n}}}function wh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Mt=n}function Aa(n){if(n!==Mt)return!1;if(!He)return wh(n),He=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Wl(n.type,n.memoizedProps)),s&&(s=Vt)){if(Jl(n))throw _h(),Error(r(418));for(;s;)xh(n,s),s=Jn(s.nextSibling)}if(wh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(s===0){Vt=Jn(n.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}n=n.nextSibling}Vt=null}}else Vt=Mt?Jn(n.stateNode.nextSibling):null;return!0}function _h(){for(var n=Vt;n;)n=Jn(n.nextSibling)}function as(){Vt=Mt=null,He=!1}function ec(n){an===null?an=[n]:an.push(n)}var i1=R.ReactCurrentBatchConfig;function ni(n,s,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var d=l.stateNode}if(!d)throw Error(r(147,n));var p=d,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(b){var P=p.refs;b===null?delete P[g]:P[g]=b},s._stringRef=g,s)}if(typeof n!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,n))}return n}function Ra(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function bh(n){var s=n._init;return s(n._payload)}function kh(n){function s(M,D){if(n){var V=M.deletions;V===null?(M.deletions=[D],M.flags|=16):V.push(D)}}function l(M,D){if(!n)return null;for(;D!==null;)s(M,D),D=D.sibling;return null}function d(M,D){for(M=new Map;D!==null;)D.key!==null?M.set(D.key,D):M.set(D.index,D),D=D.sibling;return M}function p(M,D){return M=cr(M,D),M.index=0,M.sibling=null,M}function g(M,D,V){return M.index=V,n?(V=M.alternate,V!==null?(V=V.index,V<D?(M.flags|=2,D):V):(M.flags|=2,D)):(M.flags|=1048576,D)}function b(M){return n&&M.alternate===null&&(M.flags|=2),M}function P(M,D,V,ne){return D===null||D.tag!==6?(D=Gc(V,M.mode,ne),D.return=M,D):(D=p(D,V),D.return=M,D)}function A(M,D,V,ne){var me=V.type;return me===F?Q(M,D,V.props.children,ne,V.key):D!==null&&(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===pe&&bh(me)===D.type)?(ne=p(D,V.props),ne.ref=ni(M,D,V),ne.return=M,ne):(ne=no(V.type,V.key,V.props,null,M.mode,ne),ne.ref=ni(M,D,V),ne.return=M,ne)}function $(M,D,V,ne){return D===null||D.tag!==4||D.stateNode.containerInfo!==V.containerInfo||D.stateNode.implementation!==V.implementation?(D=Hc(V,M.mode,ne),D.return=M,D):(D=p(D,V.children||[]),D.return=M,D)}function Q(M,D,V,ne,me){return D===null||D.tag!==7?(D=Ar(V,M.mode,ne,me),D.return=M,D):(D=p(D,V),D.return=M,D)}function X(M,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Gc(""+D,M.mode,V),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case I:return V=no(D.type,D.key,D.props,null,M.mode,V),V.ref=ni(M,null,D),V.return=M,V;case G:return D=Hc(D,M.mode,V),D.return=M,D;case pe:var ne=D._init;return X(M,ne(D._payload),V)}if(Pn(D)||oe(D))return D=Ar(D,M.mode,V,null),D.return=M,D;Ra(M,D)}return null}function Y(M,D,V,ne){var me=D!==null?D.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return me!==null?null:P(M,D,""+V,ne);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case I:return V.key===me?A(M,D,V,ne):null;case G:return V.key===me?$(M,D,V,ne):null;case pe:return me=V._init,Y(M,D,me(V._payload),ne)}if(Pn(V)||oe(V))return me!==null?null:Q(M,D,V,ne,null);Ra(M,V)}return null}function ae(M,D,V,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return M=M.get(V)||null,P(D,M,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case I:return M=M.get(ne.key===null?V:ne.key)||null,A(D,M,ne,me);case G:return M=M.get(ne.key===null?V:ne.key)||null,$(D,M,ne,me);case pe:var _e=ne._init;return ae(M,D,V,_e(ne._payload),me)}if(Pn(ne)||oe(ne))return M=M.get(V)||null,Q(D,M,ne,me,null);Ra(D,ne)}return null}function de(M,D,V,ne){for(var me=null,_e=null,be=D,Ne=D=0,ft=null;be!==null&&Ne<V.length;Ne++){be.index>Ne?(ft=be,be=null):ft=be.sibling;var Ie=Y(M,be,V[Ne],ne);if(Ie===null){be===null&&(be=ft);break}n&&be&&Ie.alternate===null&&s(M,be),D=g(Ie,D,Ne),_e===null?me=Ie:_e.sibling=Ie,_e=Ie,be=ft}if(Ne===V.length)return l(M,be),He&&kr(M,Ne),me;if(be===null){for(;Ne<V.length;Ne++)be=X(M,V[Ne],ne),be!==null&&(D=g(be,D,Ne),_e===null?me=be:_e.sibling=be,_e=be);return He&&kr(M,Ne),me}for(be=d(M,be);Ne<V.length;Ne++)ft=ae(be,M,Ne,V[Ne],ne),ft!==null&&(n&&ft.alternate!==null&&be.delete(ft.key===null?Ne:ft.key),D=g(ft,D,Ne),_e===null?me=ft:_e.sibling=ft,_e=ft);return n&&be.forEach(function(ur){return s(M,ur)}),He&&kr(M,Ne),me}function fe(M,D,V,ne){var me=oe(V);if(typeof me!="function")throw Error(r(150));if(V=me.call(V),V==null)throw Error(r(151));for(var _e=me=null,be=D,Ne=D=0,ft=null,Ie=V.next();be!==null&&!Ie.done;Ne++,Ie=V.next()){be.index>Ne?(ft=be,be=null):ft=be.sibling;var ur=Y(M,be,Ie.value,ne);if(ur===null){be===null&&(be=ft);break}n&&be&&ur.alternate===null&&s(M,be),D=g(ur,D,Ne),_e===null?me=ur:_e.sibling=ur,_e=ur,be=ft}if(Ie.done)return l(M,be),He&&kr(M,Ne),me;if(be===null){for(;!Ie.done;Ne++,Ie=V.next())Ie=X(M,Ie.value,ne),Ie!==null&&(D=g(Ie,D,Ne),_e===null?me=Ie:_e.sibling=Ie,_e=Ie);return He&&kr(M,Ne),me}for(be=d(M,be);!Ie.done;Ne++,Ie=V.next())Ie=ae(be,M,Ne,Ie.value,ne),Ie!==null&&(n&&Ie.alternate!==null&&be.delete(Ie.key===null?Ne:Ie.key),D=g(Ie,D,Ne),_e===null?me=Ie:_e.sibling=Ie,_e=Ie);return n&&be.forEach(function(V1){return s(M,V1)}),He&&kr(M,Ne),me}function tt(M,D,V,ne){if(typeof V=="object"&&V!==null&&V.type===F&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case I:e:{for(var me=V.key,_e=D;_e!==null;){if(_e.key===me){if(me=V.type,me===F){if(_e.tag===7){l(M,_e.sibling),D=p(_e,V.props.children),D.return=M,M=D;break e}}else if(_e.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===pe&&bh(me)===_e.type){l(M,_e.sibling),D=p(_e,V.props),D.ref=ni(M,_e,V),D.return=M,M=D;break e}l(M,_e);break}else s(M,_e);_e=_e.sibling}V.type===F?(D=Ar(V.props.children,M.mode,ne,V.key),D.return=M,M=D):(ne=no(V.type,V.key,V.props,null,M.mode,ne),ne.ref=ni(M,D,V),ne.return=M,M=ne)}return b(M);case G:e:{for(_e=V.key;D!==null;){if(D.key===_e)if(D.tag===4&&D.stateNode.containerInfo===V.containerInfo&&D.stateNode.implementation===V.implementation){l(M,D.sibling),D=p(D,V.children||[]),D.return=M,M=D;break e}else{l(M,D);break}else s(M,D);D=D.sibling}D=Hc(V,M.mode,ne),D.return=M,M=D}return b(M);case pe:return _e=V._init,tt(M,D,_e(V._payload),ne)}if(Pn(V))return de(M,D,V,ne);if(oe(V))return fe(M,D,V,ne);Ra(M,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,D!==null&&D.tag===6?(l(M,D.sibling),D=p(D,V),D.return=M,M=D):(l(M,D),D=Gc(V,M.mode,ne),D.return=M,M=D),b(M)):l(M,D)}return tt}var os=kh(!0),jh=kh(!1),La=Zn(null),Da=null,ls=null,tc=null;function nc(){tc=ls=Da=null}function rc(n){var s=La.current;$e(La),n._currentValue=s}function sc(n,s,l){for(;n!==null;){var d=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),n===l)break;n=n.return}}function cs(n,s){Da=n,tc=ls=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(Tt=!0),n.firstContext=null)}function Kt(n){var s=n._currentValue;if(tc!==n)if(n={context:n,memoizedValue:s,next:null},ls===null){if(Da===null)throw Error(r(308));ls=n,Da.dependencies={lanes:0,firstContext:n}}else ls=ls.next=n;return s}var jr=null;function ic(n){jr===null?jr=[n]:jr.push(n)}function Sh(n,s,l,d){var p=s.interleaved;return p===null?(l.next=l,ic(s)):(l.next=p.next,p.next=l),s.interleaved=l,Dn(n,d)}function Dn(n,s){n.lanes|=s;var l=n.alternate;for(l!==null&&(l.lanes|=s),l=n,n=n.return;n!==null;)n.childLanes|=s,l=n.alternate,l!==null&&(l.childLanes|=s),l=n,n=n.return;return l.tag===3?l.stateNode:null}var nr=!1;function ac(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nh(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function In(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function rr(n,s,l){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(De&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,Dn(n,l)}return p=d.interleaved,p===null?(s.next=s,ic(d)):(s.next=p.next,p.next=s),d.interleaved=s,Dn(n,l)}function Ia(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=n.pendingLanes,l|=d,s.lanes=l,wl(n,l)}}function Ch(n,s){var l=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?p=g=b:g=g.next=b,l=l.next}while(l!==null);g===null?p=g=s:g=g.next=s}else p=g=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:d.shared,effects:d.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}function Oa(n,s,l,d){var p=n.updateQueue;nr=!1;var g=p.firstBaseUpdate,b=p.lastBaseUpdate,P=p.shared.pending;if(P!==null){p.shared.pending=null;var A=P,$=A.next;A.next=null,b===null?g=$:b.next=$,b=A;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,P=Q.lastBaseUpdate,P!==b&&(P===null?Q.firstBaseUpdate=$:P.next=$,Q.lastBaseUpdate=A))}if(g!==null){var X=p.baseState;b=0,Q=$=A=null,P=g;do{var Y=P.lane,ae=P.eventTime;if((d&Y)===Y){Q!==null&&(Q=Q.next={eventTime:ae,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var de=n,fe=P;switch(Y=s,ae=l,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){X=de.call(ae,X,Y);break e}X=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,Y=typeof de=="function"?de.call(ae,X,Y):de,Y==null)break e;X=O({},X,Y);break e;case 2:nr=!0}}P.callback!==null&&P.lane!==0&&(n.flags|=64,Y=p.effects,Y===null?p.effects=[P]:Y.push(P))}else ae={eventTime:ae,lane:Y,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Q===null?($=Q=ae,A=X):Q=Q.next=ae,b|=Y;if(P=P.next,P===null){if(P=p.shared.pending,P===null)break;Y=P,P=Y.next,Y.next=null,p.lastBaseUpdate=Y,p.shared.pending=null}}while(!0);if(Q===null&&(A=X),p.baseState=A,p.firstBaseUpdate=$,p.lastBaseUpdate=Q,s=p.shared.interleaved,s!==null){p=s;do b|=p.lane,p=p.next;while(p!==s)}else g===null&&(p.shared.lanes=0);Cr|=b,n.lanes=b,n.memoizedState=X}}function Eh(n,s,l){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var d=n[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(r(191,p));p.call(d)}}}var ri={},xn=Zn(ri),si=Zn(ri),ii=Zn(ri);function Sr(n){if(n===ri)throw Error(r(174));return n}function oc(n,s){switch(Me(ii,s),Me(si,n),Me(xn,ri),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:nn(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=nn(s,n)}$e(xn),Me(xn,s)}function us(){$e(xn),$e(si),$e(ii)}function Ph(n){Sr(ii.current);var s=Sr(xn.current),l=nn(s,n.type);s!==l&&(Me(si,n),Me(xn,l))}function lc(n){si.current===n&&($e(xn),$e(si))}var Ke=Zn(0);function Ma(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var cc=[];function uc(){for(var n=0;n<cc.length;n++)cc[n]._workInProgressVersionPrimary=null;cc.length=0}var Va=R.ReactCurrentDispatcher,dc=R.ReactCurrentBatchConfig,Nr=0,qe=null,at=null,ut=null,Fa=!1,ai=!1,oi=0,a1=0;function xt(){throw Error(r(321))}function fc(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!sn(n[l],s[l]))return!1;return!0}function hc(n,s,l,d,p,g){if(Nr=g,qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Va.current=n===null||n.memoizedState===null?u1:d1,n=l(d,p),ai){g=0;do{if(ai=!1,oi=0,25<=g)throw Error(r(301));g+=1,ut=at=null,s.updateQueue=null,Va.current=f1,n=l(d,p)}while(ai)}if(Va.current=$a,s=at!==null&&at.next!==null,Nr=0,ut=at=qe=null,Fa=!1,s)throw Error(r(300));return n}function pc(){var n=oi!==0;return oi=0,n}function vn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?qe.memoizedState=ut=n:ut=ut.next=n,ut}function qt(){if(at===null){var n=qe.alternate;n=n!==null?n.memoizedState:null}else n=at.next;var s=ut===null?qe.memoizedState:ut.next;if(s!==null)ut=s,at=n;else{if(n===null)throw Error(r(310));at=n,n={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ut===null?qe.memoizedState=ut=n:ut=ut.next=n}return ut}function li(n,s){return typeof s=="function"?s(n):s}function mc(n){var s=qt(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var d=at,p=d.baseQueue,g=l.pending;if(g!==null){if(p!==null){var b=p.next;p.next=g.next,g.next=b}d.baseQueue=p=g,l.pending=null}if(p!==null){g=p.next,d=d.baseState;var P=b=null,A=null,$=g;do{var Q=$.lane;if((Nr&Q)===Q)A!==null&&(A=A.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),d=$.hasEagerState?$.eagerState:n(d,$.action);else{var X={lane:Q,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};A===null?(P=A=X,b=d):A=A.next=X,qe.lanes|=Q,Cr|=Q}$=$.next}while($!==null&&$!==g);A===null?b=d:A.next=P,sn(d,s.memoizedState)||(Tt=!0),s.memoizedState=d,s.baseState=b,s.baseQueue=A,l.lastRenderedState=d}if(n=l.interleaved,n!==null){p=n;do g=p.lane,qe.lanes|=g,Cr|=g,p=p.next;while(p!==n)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function gc(n){var s=qt(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var d=l.dispatch,p=l.pending,g=s.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do g=n(g,b.action),b=b.next;while(b!==p);sn(g,s.memoizedState)||(Tt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,d]}function Th(){}function Ah(n,s){var l=qe,d=qt(),p=s(),g=!sn(d.memoizedState,p);if(g&&(d.memoizedState=p,Tt=!0),d=d.queue,yc(Dh.bind(null,l,d,n),[n]),d.getSnapshot!==s||g||ut!==null&&ut.memoizedState.tag&1){if(l.flags|=2048,ci(9,Lh.bind(null,l,d,p,s),void 0,null),dt===null)throw Error(r(349));(Nr&30)!==0||Rh(l,s,p)}return p}function Rh(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=qe.updateQueue,s===null?(s={lastEffect:null,stores:null},qe.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function Lh(n,s,l,d){s.value=l,s.getSnapshot=d,Ih(s)&&Oh(n)}function Dh(n,s,l){return l(function(){Ih(s)&&Oh(n)})}function Ih(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!sn(n,l)}catch{return!0}}function Oh(n){var s=Dn(n,1);s!==null&&un(s,n,1,-1)}function Mh(n){var s=vn();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:n},s.queue=n,n=n.dispatch=c1.bind(null,qe,n),[s.memoizedState,n]}function ci(n,s,l,d){return n={tag:n,create:s,destroy:l,deps:d,next:null},s=qe.updateQueue,s===null?(s={lastEffect:null,stores:null},qe.updateQueue=s,s.lastEffect=n.next=n):(l=s.lastEffect,l===null?s.lastEffect=n.next=n:(d=l.next,l.next=n,n.next=d,s.lastEffect=n)),n}function Vh(){return qt().memoizedState}function Ba(n,s,l,d){var p=vn();qe.flags|=n,p.memoizedState=ci(1|s,l,void 0,d===void 0?null:d)}function za(n,s,l,d){var p=qt();d=d===void 0?null:d;var g=void 0;if(at!==null){var b=at.memoizedState;if(g=b.destroy,d!==null&&fc(d,b.deps)){p.memoizedState=ci(s,l,g,d);return}}qe.flags|=n,p.memoizedState=ci(1|s,l,g,d)}function Fh(n,s){return Ba(8390656,8,n,s)}function yc(n,s){return za(2048,8,n,s)}function Bh(n,s){return za(4,2,n,s)}function zh(n,s){return za(4,4,n,s)}function $h(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Uh(n,s,l){return l=l!=null?l.concat([n]):null,za(4,4,$h.bind(null,s,n),l)}function xc(){}function Wh(n,s){var l=qt();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&fc(s,d[1])?d[0]:(l.memoizedState=[n,s],n)}function Gh(n,s){var l=qt();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&fc(s,d[1])?d[0]:(n=n(),l.memoizedState=[n,s],n)}function Hh(n,s,l){return(Nr&21)===0?(n.baseState&&(n.baseState=!1,Tt=!0),n.memoizedState=l):(sn(l,s)||(l=bf(),qe.lanes|=l,Cr|=l,n.baseState=!0),s)}function o1(n,s){var l=Oe;Oe=l!==0&&4>l?l:4,n(!0);var d=dc.transition;dc.transition={};try{n(!1),s()}finally{Oe=l,dc.transition=d}}function Kh(){return qt().memoizedState}function l1(n,s,l){var d=or(n);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},qh(n))Yh(s,l);else if(l=Sh(n,s,l,d),l!==null){var p=Nt();un(l,n,d,p),Qh(l,s,d)}}function c1(n,s,l){var d=or(n),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(qh(n))Yh(s,p);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,P=g(b,l);if(p.hasEagerState=!0,p.eagerState=P,sn(P,b)){var A=s.interleaved;A===null?(p.next=p,ic(s)):(p.next=A.next,A.next=p),s.interleaved=p;return}}catch{}finally{}l=Sh(n,s,p,d),l!==null&&(p=Nt(),un(l,n,d,p),Qh(l,s,d))}}function qh(n){var s=n.alternate;return n===qe||s!==null&&s===qe}function Yh(n,s){ai=Fa=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function Qh(n,s,l){if((l&4194240)!==0){var d=s.lanes;d&=n.pendingLanes,l|=d,s.lanes=l,wl(n,l)}}var $a={readContext:Kt,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},u1={readContext:Kt,useCallback:function(n,s){return vn().memoizedState=[n,s===void 0?null:s],n},useContext:Kt,useEffect:Fh,useImperativeHandle:function(n,s,l){return l=l!=null?l.concat([n]):null,Ba(4194308,4,$h.bind(null,s,n),l)},useLayoutEffect:function(n,s){return Ba(4194308,4,n,s)},useInsertionEffect:function(n,s){return Ba(4,2,n,s)},useMemo:function(n,s){var l=vn();return s=s===void 0?null:s,n=n(),l.memoizedState=[n,s],n},useReducer:function(n,s,l){var d=vn();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},d.queue=n,n=n.dispatch=l1.bind(null,qe,n),[d.memoizedState,n]},useRef:function(n){var s=vn();return n={current:n},s.memoizedState=n},useState:Mh,useDebugValue:xc,useDeferredValue:function(n){return vn().memoizedState=n},useTransition:function(){var n=Mh(!1),s=n[0];return n=o1.bind(null,n[1]),vn().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,l){var d=qe,p=vn();if(He){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),dt===null)throw Error(r(349));(Nr&30)!==0||Rh(d,s,l)}p.memoizedState=l;var g={value:l,getSnapshot:s};return p.queue=g,Fh(Dh.bind(null,d,g,n),[n]),d.flags|=2048,ci(9,Lh.bind(null,d,g,l,s),void 0,null),l},useId:function(){var n=vn(),s=dt.identifierPrefix;if(He){var l=Ln,d=Rn;l=(d&~(1<<32-rn(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=oi++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=a1++,s=":"+s+"r"+l.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},d1={readContext:Kt,useCallback:Wh,useContext:Kt,useEffect:yc,useImperativeHandle:Uh,useInsertionEffect:Bh,useLayoutEffect:zh,useMemo:Gh,useReducer:mc,useRef:Vh,useState:function(){return mc(li)},useDebugValue:xc,useDeferredValue:function(n){var s=qt();return Hh(s,at.memoizedState,n)},useTransition:function(){var n=mc(li)[0],s=qt().memoizedState;return[n,s]},useMutableSource:Th,useSyncExternalStore:Ah,useId:Kh,unstable_isNewReconciler:!1},f1={readContext:Kt,useCallback:Wh,useContext:Kt,useEffect:yc,useImperativeHandle:Uh,useInsertionEffect:Bh,useLayoutEffect:zh,useMemo:Gh,useReducer:gc,useRef:Vh,useState:function(){return gc(li)},useDebugValue:xc,useDeferredValue:function(n){var s=qt();return at===null?s.memoizedState=n:Hh(s,at.memoizedState,n)},useTransition:function(){var n=gc(li)[0],s=qt().memoizedState;return[n,s]},useMutableSource:Th,useSyncExternalStore:Ah,useId:Kh,unstable_isNewReconciler:!1};function on(n,s){if(n&&n.defaultProps){s=O({},s),n=n.defaultProps;for(var l in n)s[l]===void 0&&(s[l]=n[l]);return s}return s}function vc(n,s,l,d){s=n.memoizedState,l=l(d,s),l=l==null?s:O({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Ua={isMounted:function(n){return(n=n._reactInternals)?vr(n)===n:!1},enqueueSetState:function(n,s,l){n=n._reactInternals;var d=Nt(),p=or(n),g=In(d,p);g.payload=s,l!=null&&(g.callback=l),s=rr(n,g,p),s!==null&&(un(s,n,p,d),Ia(s,n,p))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var d=Nt(),p=or(n),g=In(d,p);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=rr(n,g,p),s!==null&&(un(s,n,p,d),Ia(s,n,p))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=Nt(),d=or(n),p=In(l,d);p.tag=2,s!=null&&(p.callback=s),s=rr(n,p,d),s!==null&&(un(s,n,d,l),Ia(s,n,d))}};function Xh(n,s,l,d,p,g,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,g,b):s.prototype&&s.prototype.isPureReactComponent?!Ys(l,d)||!Ys(p,g):!0}function Jh(n,s,l){var d=!1,p=er,g=s.contextType;return typeof g=="object"&&g!==null?g=Kt(g):(p=Pt(s)?_r:yt.current,d=s.contextTypes,g=(d=d!=null)?rs(n,p):er),s=new s(l,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ua,n.stateNode=s,s._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=p,n.__reactInternalMemoizedMaskedChildContext=g),s}function Zh(n,s,l,d){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==n&&Ua.enqueueReplaceState(s,s.state,null)}function wc(n,s,l,d){var p=n.stateNode;p.props=l,p.state=n.memoizedState,p.refs={},ac(n);var g=s.contextType;typeof g=="object"&&g!==null?p.context=Kt(g):(g=Pt(s)?_r:yt.current,p.context=rs(n,g)),p.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(vc(n,s,g,l),p.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Ua.enqueueReplaceState(p,p.state,null),Oa(n,l,p,d),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308)}function ds(n,s){try{var l="",d=s;do l+=ke(d),d=d.return;while(d);var p=l}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:p,digest:null}}function _c(n,s,l){return{value:n,source:null,stack:l??null,digest:s??null}}function bc(n,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var h1=typeof WeakMap=="function"?WeakMap:Map;function ep(n,s,l){l=In(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){Qa||(Qa=!0,Mc=d),bc(n,s)},l}function tp(n,s,l){l=In(-1,l),l.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){bc(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){bc(n,s),typeof d!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})}),l}function np(n,s,l){var d=n.pingCache;if(d===null){d=n.pingCache=new h1;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),n=C1.bind(null,n,s,l),s.then(n,n))}function rp(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function sp(n,s,l,d,p){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=In(-1,1),s.tag=2,rr(l,s,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=p,n)}var p1=R.ReactCurrentOwner,Tt=!1;function St(n,s,l,d){s.child=n===null?jh(s,null,l,d):os(s,n.child,l,d)}function ip(n,s,l,d,p){l=l.render;var g=s.ref;return cs(s,p),d=hc(n,s,l,d,g,p),l=pc(),n!==null&&!Tt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~p,On(n,s,p)):(He&&l&&Ql(s),s.flags|=1,St(n,s,d,p),s.child)}function ap(n,s,l,d,p){if(n===null){var g=l.type;return typeof g=="function"&&!Wc(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,op(n,s,g,d,p)):(n=no(l.type,null,d,s,s.mode,p),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,(n.lanes&p)===0){var b=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ys,l(b,d)&&n.ref===s.ref)return On(n,s,p)}return s.flags|=1,n=cr(g,d),n.ref=s.ref,n.return=s,s.child=n}function op(n,s,l,d,p){if(n!==null){var g=n.memoizedProps;if(Ys(g,d)&&n.ref===s.ref)if(Tt=!1,s.pendingProps=d=g,(n.lanes&p)!==0)(n.flags&131072)!==0&&(Tt=!0);else return s.lanes=n.lanes,On(n,s,p)}return kc(n,s,l,d,p)}function lp(n,s,l){var d=s.pendingProps,p=d.children,g=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(hs,Ft),Ft|=l;else{if((l&1073741824)===0)return n=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Me(hs,Ft),Ft|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:l,Me(hs,Ft),Ft|=d}else g!==null?(d=g.baseLanes|l,s.memoizedState=null):d=l,Me(hs,Ft),Ft|=d;return St(n,s,p,l),s.child}function cp(n,s){var l=s.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function kc(n,s,l,d,p){var g=Pt(l)?_r:yt.current;return g=rs(s,g),cs(s,p),l=hc(n,s,l,d,g,p),d=pc(),n!==null&&!Tt?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~p,On(n,s,p)):(He&&d&&Ql(s),s.flags|=1,St(n,s,l,p),s.child)}function up(n,s,l,d,p){if(Pt(l)){var g=!0;Ca(s)}else g=!1;if(cs(s,p),s.stateNode===null)Ga(n,s),Jh(s,l,d),wc(s,l,d,p),d=!0;else if(n===null){var b=s.stateNode,P=s.memoizedProps;b.props=P;var A=b.context,$=l.contextType;typeof $=="object"&&$!==null?$=Kt($):($=Pt(l)?_r:yt.current,$=rs(s,$));var Q=l.getDerivedStateFromProps,X=typeof Q=="function"||typeof b.getSnapshotBeforeUpdate=="function";X||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P!==d||A!==$)&&Zh(s,b,d,$),nr=!1;var Y=s.memoizedState;b.state=Y,Oa(s,d,b,p),A=s.memoizedState,P!==d||Y!==A||Et.current||nr?(typeof Q=="function"&&(vc(s,l,Q,d),A=s.memoizedState),(P=nr||Xh(s,l,P,d,Y,A,$))?(X||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=A),b.props=d,b.state=A,b.context=$,d=P):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{b=s.stateNode,Nh(n,s),P=s.memoizedProps,$=s.type===s.elementType?P:on(s.type,P),b.props=$,X=s.pendingProps,Y=b.context,A=l.contextType,typeof A=="object"&&A!==null?A=Kt(A):(A=Pt(l)?_r:yt.current,A=rs(s,A));var ae=l.getDerivedStateFromProps;(Q=typeof ae=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P!==X||Y!==A)&&Zh(s,b,d,A),nr=!1,Y=s.memoizedState,b.state=Y,Oa(s,d,b,p);var de=s.memoizedState;P!==X||Y!==de||Et.current||nr?(typeof ae=="function"&&(vc(s,l,ae,d),de=s.memoizedState),($=nr||Xh(s,l,$,d,Y,de,A)||!1)?(Q||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,de,A),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,de,A)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||P===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||P===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=de),b.props=d,b.state=de,b.context=A,d=$):(typeof b.componentDidUpdate!="function"||P===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||P===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),d=!1)}return jc(n,s,l,d,g,p)}function jc(n,s,l,d,p,g){cp(n,s);var b=(s.flags&128)!==0;if(!d&&!b)return p&&mh(s,l,!1),On(n,s,g);d=s.stateNode,p1.current=s;var P=b&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,n!==null&&b?(s.child=os(s,n.child,null,g),s.child=os(s,null,P,g)):St(n,s,P,g),s.memoizedState=d.state,p&&mh(s,l,!0),s.child}function dp(n){var s=n.stateNode;s.pendingContext?hh(n,s.pendingContext,s.pendingContext!==s.context):s.context&&hh(n,s.context,!1),oc(n,s.containerInfo)}function fp(n,s,l,d,p){return as(),ec(p),s.flags|=256,St(n,s,l,d),s.child}var Sc={dehydrated:null,treeContext:null,retryLane:0};function Nc(n){return{baseLanes:n,cachePool:null,transitions:null}}function hp(n,s,l){var d=s.pendingProps,p=Ke.current,g=!1,b=(s.flags&128)!==0,P;if((P=b)||(P=n!==null&&n.memoizedState===null?!1:(p&2)!==0),P?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(p|=1),Me(Ke,p&1),n===null)return Zl(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(b=d.children,n=d.fallback,g?(d=s.mode,g=s.child,b={mode:"hidden",children:b},(d&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=b):g=ro(b,d,0,null),n=Ar(n,d,l,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=Nc(l),s.memoizedState=Sc,n):Cc(s,b));if(p=n.memoizedState,p!==null&&(P=p.dehydrated,P!==null))return m1(n,s,b,d,P,p,l);if(g){g=d.fallback,b=s.mode,p=n.child,P=p.sibling;var A={mode:"hidden",children:d.children};return(b&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=A,s.deletions=null):(d=cr(p,A),d.subtreeFlags=p.subtreeFlags&14680064),P!==null?g=cr(P,g):(g=Ar(g,b,l,null),g.flags|=2),g.return=s,d.return=s,d.sibling=g,s.child=d,d=g,g=s.child,b=n.child.memoizedState,b=b===null?Nc(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},g.memoizedState=b,g.childLanes=n.childLanes&~l,s.memoizedState=Sc,d}return g=n.child,n=g.sibling,d=cr(g,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,n!==null&&(l=s.deletions,l===null?(s.deletions=[n],s.flags|=16):l.push(n)),s.child=d,s.memoizedState=null,d}function Cc(n,s){return s=ro({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function Wa(n,s,l,d){return d!==null&&ec(d),os(s,n.child,null,l),n=Cc(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function m1(n,s,l,d,p,g,b){if(l)return s.flags&256?(s.flags&=-257,d=_c(Error(r(422))),Wa(n,s,b,d)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=d.fallback,p=s.mode,d=ro({mode:"visible",children:d.children},p,0,null),g=Ar(g,p,b,null),g.flags|=2,d.return=s,g.return=s,d.sibling=g,s.child=d,(s.mode&1)!==0&&os(s,n.child,null,b),s.child.memoizedState=Nc(b),s.memoizedState=Sc,g);if((s.mode&1)===0)return Wa(n,s,b,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var P=d.dgst;return d=P,g=Error(r(419)),d=_c(g,d,void 0),Wa(n,s,b,d)}if(P=(b&n.childLanes)!==0,Tt||P){if(d=dt,d!==null){switch(b&-b){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|b))!==0?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,Dn(n,p),un(d,n,p,-1))}return Uc(),d=_c(Error(r(421))),Wa(n,s,b,d)}return p.data==="$?"?(s.flags|=128,s.child=n.child,s=E1.bind(null,n),p._reactRetry=s,null):(n=g.treeContext,Vt=Jn(p.nextSibling),Mt=s,He=!0,an=null,n!==null&&(Gt[Ht++]=Rn,Gt[Ht++]=Ln,Gt[Ht++]=br,Rn=n.id,Ln=n.overflow,br=s),s=Cc(s,d.children),s.flags|=4096,s)}function pp(n,s,l){n.lanes|=s;var d=n.alternate;d!==null&&(d.lanes|=s),sc(n.return,s,l)}function Ec(n,s,l,d,p){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=l,g.tailMode=p)}function mp(n,s,l){var d=s.pendingProps,p=d.revealOrder,g=d.tail;if(St(n,s,d.children,l),d=Ke.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&pp(n,l,s);else if(n.tag===19)pp(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(Me(Ke,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)n=l.alternate,n!==null&&Ma(n)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Ec(s,!1,p,l,g);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(n=p.alternate,n!==null&&Ma(n)===null){s.child=p;break}n=p.sibling,p.sibling=l,l=p,p=n}Ec(s,!0,l,null,g);break;case"together":Ec(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ga(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function On(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Cr|=s.lanes,(l&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,l=cr(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=cr(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function g1(n,s,l){switch(s.tag){case 3:dp(s),as();break;case 5:Ph(s);break;case 1:Pt(s.type)&&Ca(s);break;case 4:oc(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;Me(La,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Me(Ke,Ke.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?hp(n,s,l):(Me(Ke,Ke.current&1),n=On(n,s,l),n!==null?n.sibling:null);Me(Ke,Ke.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(n.flags&128)!==0){if(d)return mp(n,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Me(Ke,Ke.current),d)break;return null;case 22:case 23:return s.lanes=0,lp(n,s,l)}return On(n,s,l)}var gp,Pc,yp,xp;gp=function(n,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Pc=function(){},yp=function(n,s,l,d){var p=n.memoizedProps;if(p!==d){n=s.stateNode,Sr(xn.current);var g=null;switch(l){case"input":p=Wt(n,p),d=Wt(n,d),g=[];break;case"select":p=O({},p,{value:void 0}),d=O({},d,{value:void 0}),g=[];break;case"textarea":p=yr(n,p),d=yr(n,d),g=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=ja)}cl(l,d);var b;l=null;for($ in p)if(!d.hasOwnProperty($)&&p.hasOwnProperty($)&&p[$]!=null)if($==="style"){var P=p[$];for(b in P)P.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(a.hasOwnProperty($)?g||(g=[]):(g=g||[]).push($,null));for($ in d){var A=d[$];if(P=p!=null?p[$]:void 0,d.hasOwnProperty($)&&A!==P&&(A!=null||P!=null))if($==="style")if(P){for(b in P)!P.hasOwnProperty(b)||A&&A.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in A)A.hasOwnProperty(b)&&P[b]!==A[b]&&(l||(l={}),l[b]=A[b])}else l||(g||(g=[]),g.push($,l)),l=A;else $==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,P=P?P.__html:void 0,A!=null&&P!==A&&(g=g||[]).push($,A)):$==="children"?typeof A!="string"&&typeof A!="number"||(g=g||[]).push($,""+A):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(a.hasOwnProperty($)?(A!=null&&$==="onScroll"&&ze("scroll",n),g||P===A||(g=[])):(g=g||[]).push($,A))}l&&(g=g||[]).push("style",l);var $=g;(s.updateQueue=$)&&(s.flags|=4)}},xp=function(n,s,l,d){l!==d&&(s.flags|=4)};function ui(n,s){if(!He)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function vt(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,d=0;if(s)for(var p=n.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=d,n.childLanes=l,s}function y1(n,s,l){var d=s.pendingProps;switch(Xl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(s),null;case 1:return Pt(s.type)&&Na(),vt(s),null;case 3:return d=s.stateNode,us(),$e(Et),$e(yt),uc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(Aa(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,an!==null&&(Bc(an),an=null))),Pc(n,s),vt(s),null;case 5:lc(s);var p=Sr(ii.current);if(l=s.type,n!==null&&s.stateNode!=null)yp(n,s,l,d,p),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(r(166));return vt(s),null}if(n=Sr(xn.current),Aa(s)){d=s.stateNode,l=s.type;var g=s.memoizedProps;switch(d[yn]=s,d[ei]=g,n=(s.mode&1)!==0,l){case"dialog":ze("cancel",d),ze("close",d);break;case"iframe":case"object":case"embed":ze("load",d);break;case"video":case"audio":for(p=0;p<Xs.length;p++)ze(Xs[p],d);break;case"source":ze("error",d);break;case"img":case"image":case"link":ze("error",d),ze("load",d);break;case"details":ze("toggle",d);break;case"input":K(d,g),ze("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},ze("invalid",d);break;case"textarea":xr(d,g),ze("invalid",d)}cl(l,g),p=null;for(var b in g)if(g.hasOwnProperty(b)){var P=g[b];b==="children"?typeof P=="string"?d.textContent!==P&&(g.suppressHydrationWarning!==!0&&ka(d.textContent,P,n),p=["children",P]):typeof P=="number"&&d.textContent!==""+P&&(g.suppressHydrationWarning!==!0&&ka(d.textContent,P,n),p=["children",""+P]):a.hasOwnProperty(b)&&P!=null&&b==="onScroll"&&ze("scroll",d)}switch(l){case"input":It(d),Re(d,g,!0);break;case"textarea":It(d),Ge(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=ja)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{b=p.nodeType===9?p:p.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=mn(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=b.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=b.createElement(l,{is:d.is}):(n=b.createElement(l),l==="select"&&(b=n,d.multiple?b.multiple=!0:d.size&&(b.size=d.size))):n=b.createElementNS(n,l),n[yn]=s,n[ei]=d,gp(n,s,!1,!1),s.stateNode=n;e:{switch(b=ul(l,d),l){case"dialog":ze("cancel",n),ze("close",n),p=d;break;case"iframe":case"object":case"embed":ze("load",n),p=d;break;case"video":case"audio":for(p=0;p<Xs.length;p++)ze(Xs[p],n);p=d;break;case"source":ze("error",n),p=d;break;case"img":case"image":case"link":ze("error",n),ze("load",n),p=d;break;case"details":ze("toggle",n),p=d;break;case"input":K(n,d),p=Wt(n,d),ze("invalid",n);break;case"option":p=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},p=O({},d,{value:void 0}),ze("invalid",n);break;case"textarea":xr(n,d),p=yr(n,d),ze("invalid",n);break;default:p=d}cl(l,p),P=p;for(g in P)if(P.hasOwnProperty(g)){var A=P[g];g==="style"?of(n,A):g==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&Gr(n,A)):g==="children"?typeof A=="string"?(l!=="textarea"||A!=="")&&Rs(n,A):typeof A=="number"&&Rs(n,""+A):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(a.hasOwnProperty(g)?A!=null&&g==="onScroll"&&ze("scroll",n):A!=null&&E(n,g,A,b))}switch(l){case"input":It(n),Re(n,d,!1);break;case"textarea":It(n),Ge(n);break;case"option":d.value!=null&&n.setAttribute("value",""+re(d.value));break;case"select":n.multiple=!!d.multiple,g=d.value,g!=null?tn(n,!!d.multiple,g,!1):d.defaultValue!=null&&tn(n,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(n.onclick=ja)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return vt(s),null;case 6:if(n&&s.stateNode!=null)xp(n,s,n.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(l=Sr(ii.current),Sr(xn.current),Aa(s)){if(d=s.stateNode,l=s.memoizedProps,d[yn]=s,(g=d.nodeValue!==l)&&(n=Mt,n!==null))switch(n.tag){case 3:ka(d.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ka(d.nodeValue,l,(n.mode&1)!==0)}g&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[yn]=s,s.stateNode=d}return vt(s),null;case 13:if($e(Ke),d=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(He&&Vt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)_h(),as(),s.flags|=98560,g=!1;else if(g=Aa(s),d!==null&&d.dehydrated!==null){if(n===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[yn]=s}else as(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vt(s),g=!1}else an!==null&&(Bc(an),an=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(Ke.current&1)!==0?ot===0&&(ot=3):Uc())),s.updateQueue!==null&&(s.flags|=4),vt(s),null);case 4:return us(),Pc(n,s),n===null&&Js(s.stateNode.containerInfo),vt(s),null;case 10:return rc(s.type._context),vt(s),null;case 17:return Pt(s.type)&&Na(),vt(s),null;case 19:if($e(Ke),g=s.memoizedState,g===null)return vt(s),null;if(d=(s.flags&128)!==0,b=g.rendering,b===null)if(d)ui(g,!1);else{if(ot!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(b=Ma(n),b!==null){for(s.flags|=128,ui(g,!1),d=b.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)g=l,n=d,g.flags&=14680066,b=g.alternate,b===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=b.childLanes,g.lanes=b.lanes,g.child=b.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=b.memoizedProps,g.memoizedState=b.memoizedState,g.updateQueue=b.updateQueue,g.type=b.type,n=b.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Me(Ke,Ke.current&1|2),s.child}n=n.sibling}g.tail!==null&&et()>ps&&(s.flags|=128,d=!0,ui(g,!1),s.lanes=4194304)}else{if(!d)if(n=Ma(b),n!==null){if(s.flags|=128,d=!0,l=n.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),ui(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!He)return vt(s),null}else 2*et()-g.renderingStartTime>ps&&l!==1073741824&&(s.flags|=128,d=!0,ui(g,!1),s.lanes=4194304);g.isBackwards?(b.sibling=s.child,s.child=b):(l=g.last,l!==null?l.sibling=b:s.child=b,g.last=b)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=et(),s.sibling=null,l=Ke.current,Me(Ke,d?l&1|2:l&1),s):(vt(s),null);case 22:case 23:return $c(),d=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Ft&1073741824)!==0&&(vt(s),s.subtreeFlags&6&&(s.flags|=8192)):vt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function x1(n,s){switch(Xl(s),s.tag){case 1:return Pt(s.type)&&Na(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return us(),$e(Et),$e(yt),uc(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return lc(s),null;case 13:if($e(Ke),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));as()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return $e(Ke),null;case 4:return us(),null;case 10:return rc(s.type._context),null;case 22:case 23:return $c(),null;case 24:return null;default:return null}}var Ha=!1,wt=!1,v1=typeof WeakSet=="function"?WeakSet:Set,ce=null;function fs(n,s){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Xe(n,s,d)}else l.current=null}function Tc(n,s,l){try{l()}catch(d){Xe(n,s,d)}}var vp=!1;function w1(n,s){if($l=fa,n=Xf(),Dl(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var b=0,P=-1,A=-1,$=0,Q=0,X=n,Y=null;t:for(;;){for(var ae;X!==l||p!==0&&X.nodeType!==3||(P=b+p),X!==g||d!==0&&X.nodeType!==3||(A=b+d),X.nodeType===3&&(b+=X.nodeValue.length),(ae=X.firstChild)!==null;)Y=X,X=ae;for(;;){if(X===n)break t;if(Y===l&&++$===p&&(P=b),Y===g&&++Q===d&&(A=b),(ae=X.nextSibling)!==null)break;X=Y,Y=X.parentNode}X=ae}l=P===-1||A===-1?null:{start:P,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ul={focusedElem:n,selectionRange:l},fa=!1,ce=s;ce!==null;)if(s=ce,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ce=n;else for(;ce!==null;){s=ce;try{var de=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,tt=de.memoizedState,M=s.stateNode,D=M.getSnapshotBeforeUpdate(s.elementType===s.type?fe:on(s.type,fe),tt);M.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var V=s.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ne){Xe(s,s.return,ne)}if(n=s.sibling,n!==null){n.return=s.return,ce=n;break}ce=s.return}return de=vp,vp=!1,de}function di(n,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&n)===n){var g=p.destroy;p.destroy=void 0,g!==void 0&&Tc(s,l,g)}p=p.next}while(p!==d)}}function Ka(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&n)===n){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Ac(n){var s=n.ref;if(s!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof s=="function"?s(n):s.current=n}}function wp(n){var s=n.alternate;s!==null&&(n.alternate=null,wp(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[yn],delete s[ei],delete s[Kl],delete s[n1],delete s[r1])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function _p(n){return n.tag===5||n.tag===3||n.tag===4}function bp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||_p(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Rc(n,s,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(n,s):l.insertBefore(n,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(n,l)):(s=l,s.appendChild(n)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ja));else if(d!==4&&(n=n.child,n!==null))for(Rc(n,s,l),n=n.sibling;n!==null;)Rc(n,s,l),n=n.sibling}function Lc(n,s,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(Lc(n,s,l),n=n.sibling;n!==null;)Lc(n,s,l),n=n.sibling}var pt=null,ln=!1;function sr(n,s,l){for(l=l.child;l!==null;)kp(n,s,l),l=l.sibling}function kp(n,s,l){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(aa,l)}catch{}switch(l.tag){case 5:wt||fs(l,s);case 6:var d=pt,p=ln;pt=null,sr(n,s,l),pt=d,ln=p,pt!==null&&(ln?(n=pt,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):pt.removeChild(l.stateNode));break;case 18:pt!==null&&(ln?(n=pt,l=l.stateNode,n.nodeType===8?Hl(n.parentNode,l):n.nodeType===1&&Hl(n,l),Us(n)):Hl(pt,l.stateNode));break;case 4:d=pt,p=ln,pt=l.stateNode.containerInfo,ln=!0,sr(n,s,l),pt=d,ln=p;break;case 0:case 11:case 14:case 15:if(!wt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var g=p,b=g.destroy;g=g.tag,b!==void 0&&((g&2)!==0||(g&4)!==0)&&Tc(l,s,b),p=p.next}while(p!==d)}sr(n,s,l);break;case 1:if(!wt&&(fs(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(P){Xe(l,s,P)}sr(n,s,l);break;case 21:sr(n,s,l);break;case 22:l.mode&1?(wt=(d=wt)||l.memoizedState!==null,sr(n,s,l),wt=d):sr(n,s,l);break;default:sr(n,s,l)}}function jp(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new v1),s.forEach(function(d){var p=P1.bind(null,n,d);l.has(d)||(l.add(d),d.then(p,p))})}}function cn(n,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var g=n,b=s,P=b;e:for(;P!==null;){switch(P.tag){case 5:pt=P.stateNode,ln=!1;break e;case 3:pt=P.stateNode.containerInfo,ln=!0;break e;case 4:pt=P.stateNode.containerInfo,ln=!0;break e}P=P.return}if(pt===null)throw Error(r(160));kp(g,b,p),pt=null,ln=!1;var A=p.alternate;A!==null&&(A.return=null),p.return=null}catch($){Xe(p,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Sp(s,n),s=s.sibling}function Sp(n,s){var l=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(cn(s,n),wn(n),d&4){try{di(3,n,n.return),Ka(3,n)}catch(fe){Xe(n,n.return,fe)}try{di(5,n,n.return)}catch(fe){Xe(n,n.return,fe)}}break;case 1:cn(s,n),wn(n),d&512&&l!==null&&fs(l,l.return);break;case 5:if(cn(s,n),wn(n),d&512&&l!==null&&fs(l,l.return),n.flags&32){var p=n.stateNode;try{Rs(p,"")}catch(fe){Xe(n,n.return,fe)}}if(d&4&&(p=n.stateNode,p!=null)){var g=n.memoizedProps,b=l!==null?l.memoizedProps:g,P=n.type,A=n.updateQueue;if(n.updateQueue=null,A!==null)try{P==="input"&&g.type==="radio"&&g.name!=null&&U(p,g),ul(P,b);var $=ul(P,g);for(b=0;b<A.length;b+=2){var Q=A[b],X=A[b+1];Q==="style"?of(p,X):Q==="dangerouslySetInnerHTML"?Gr(p,X):Q==="children"?Rs(p,X):E(p,Q,X,$)}switch(P){case"input":se(p,g);break;case"textarea":he(p,g);break;case"select":var Y=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var ae=g.value;ae!=null?tn(p,!!g.multiple,ae,!1):Y!==!!g.multiple&&(g.defaultValue!=null?tn(p,!!g.multiple,g.defaultValue,!0):tn(p,!!g.multiple,g.multiple?[]:"",!1))}p[ei]=g}catch(fe){Xe(n,n.return,fe)}}break;case 6:if(cn(s,n),wn(n),d&4){if(n.stateNode===null)throw Error(r(162));p=n.stateNode,g=n.memoizedProps;try{p.nodeValue=g}catch(fe){Xe(n,n.return,fe)}}break;case 3:if(cn(s,n),wn(n),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Us(s.containerInfo)}catch(fe){Xe(n,n.return,fe)}break;case 4:cn(s,n),wn(n);break;case 13:cn(s,n),wn(n),p=n.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(Oc=et())),d&4&&jp(n);break;case 22:if(Q=l!==null&&l.memoizedState!==null,n.mode&1?(wt=($=wt)||Q,cn(s,n),wt=$):cn(s,n),wn(n),d&8192){if($=n.memoizedState!==null,(n.stateNode.isHidden=$)&&!Q&&(n.mode&1)!==0)for(ce=n,Q=n.child;Q!==null;){for(X=ce=Q;ce!==null;){switch(Y=ce,ae=Y.child,Y.tag){case 0:case 11:case 14:case 15:di(4,Y,Y.return);break;case 1:fs(Y,Y.return);var de=Y.stateNode;if(typeof de.componentWillUnmount=="function"){d=Y,l=Y.return;try{s=d,de.props=s.memoizedProps,de.state=s.memoizedState,de.componentWillUnmount()}catch(fe){Xe(d,l,fe)}}break;case 5:fs(Y,Y.return);break;case 22:if(Y.memoizedState!==null){Ep(X);continue}}ae!==null?(ae.return=Y,ce=ae):Ep(X)}Q=Q.sibling}e:for(Q=null,X=n;;){if(X.tag===5){if(Q===null){Q=X;try{p=X.stateNode,$?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(P=X.stateNode,A=X.memoizedProps.style,b=A!=null&&A.hasOwnProperty("display")?A.display:null,P.style.display=af("display",b))}catch(fe){Xe(n,n.return,fe)}}}else if(X.tag===6){if(Q===null)try{X.stateNode.nodeValue=$?"":X.memoizedProps}catch(fe){Xe(n,n.return,fe)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===n)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===n)break e;for(;X.sibling===null;){if(X.return===null||X.return===n)break e;Q===X&&(Q=null),X=X.return}Q===X&&(Q=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:cn(s,n),wn(n),d&4&&jp(n);break;case 21:break;default:cn(s,n),wn(n)}}function wn(n){var s=n.flags;if(s&2){try{e:{for(var l=n.return;l!==null;){if(_p(l)){var d=l;break e}l=l.return}throw Error(r(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Rs(p,""),d.flags&=-33);var g=bp(n);Lc(n,g,p);break;case 3:case 4:var b=d.stateNode.containerInfo,P=bp(n);Rc(n,P,b);break;default:throw Error(r(161))}}catch(A){Xe(n,n.return,A)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function _1(n,s,l){ce=n,Np(n)}function Np(n,s,l){for(var d=(n.mode&1)!==0;ce!==null;){var p=ce,g=p.child;if(p.tag===22&&d){var b=p.memoizedState!==null||Ha;if(!b){var P=p.alternate,A=P!==null&&P.memoizedState!==null||wt;P=Ha;var $=wt;if(Ha=b,(wt=A)&&!$)for(ce=p;ce!==null;)b=ce,A=b.child,b.tag===22&&b.memoizedState!==null?Pp(p):A!==null?(A.return=b,ce=A):Pp(p);for(;g!==null;)ce=g,Np(g),g=g.sibling;ce=p,Ha=P,wt=$}Cp(n)}else(p.subtreeFlags&8772)!==0&&g!==null?(g.return=p,ce=g):Cp(n)}}function Cp(n){for(;ce!==null;){var s=ce;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:wt||Ka(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!wt)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:on(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Eh(s,g,d);break;case 3:var b=s.updateQueue;if(b!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Eh(s,b,l)}break;case 5:var P=s.stateNode;if(l===null&&s.flags&4){l=P;var A=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&l.focus();break;case"img":A.src&&(l.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var Q=$.memoizedState;if(Q!==null){var X=Q.dehydrated;X!==null&&Us(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}wt||s.flags&512&&Ac(s)}catch(Y){Xe(s,s.return,Y)}}if(s===n){ce=null;break}if(l=s.sibling,l!==null){l.return=s.return,ce=l;break}ce=s.return}}function Ep(n){for(;ce!==null;){var s=ce;if(s===n){ce=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ce=l;break}ce=s.return}}function Pp(n){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Ka(4,s)}catch(A){Xe(s,l,A)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(A){Xe(s,p,A)}}var g=s.return;try{Ac(s)}catch(A){Xe(s,g,A)}break;case 5:var b=s.return;try{Ac(s)}catch(A){Xe(s,b,A)}}}catch(A){Xe(s,s.return,A)}if(s===n){ce=null;break}var P=s.sibling;if(P!==null){P.return=s.return,ce=P;break}ce=s.return}}var b1=Math.ceil,qa=R.ReactCurrentDispatcher,Dc=R.ReactCurrentOwner,Yt=R.ReactCurrentBatchConfig,De=0,dt=null,st=null,mt=0,Ft=0,hs=Zn(0),ot=0,fi=null,Cr=0,Ya=0,Ic=0,hi=null,At=null,Oc=0,ps=1/0,Mn=null,Qa=!1,Mc=null,ir=null,Xa=!1,ar=null,Ja=0,pi=0,Vc=null,Za=-1,eo=0;function Nt(){return(De&6)!==0?et():Za!==-1?Za:Za=et()}function or(n){return(n.mode&1)===0?1:(De&2)!==0&&mt!==0?mt&-mt:i1.transition!==null?(eo===0&&(eo=bf()),eo):(n=Oe,n!==0||(n=window.event,n=n===void 0?16:Af(n.type)),n)}function un(n,s,l,d){if(50<pi)throw pi=0,Vc=null,Error(r(185));Vs(n,l,d),((De&2)===0||n!==dt)&&(n===dt&&((De&2)===0&&(Ya|=l),ot===4&&lr(n,mt)),Rt(n,d),l===1&&De===0&&(s.mode&1)===0&&(ps=et()+500,Ea&&tr()))}function Rt(n,s){var l=n.callbackNode;iv(n,s);var d=ca(n,n===dt?mt:0);if(d===0)l!==null&&vf(l),n.callbackNode=null,n.callbackPriority=0;else if(s=d&-d,n.callbackPriority!==s){if(l!=null&&vf(l),s===1)n.tag===0?s1(Ap.bind(null,n)):gh(Ap.bind(null,n)),e1(function(){(De&6)===0&&tr()}),l=null;else{switch(kf(d)){case 1:l=yl;break;case 4:l=wf;break;case 16:l=ia;break;case 536870912:l=_f;break;default:l=ia}l=Fp(l,Tp.bind(null,n))}n.callbackPriority=s,n.callbackNode=l}}function Tp(n,s){if(Za=-1,eo=0,(De&6)!==0)throw Error(r(327));var l=n.callbackNode;if(ms()&&n.callbackNode!==l)return null;var d=ca(n,n===dt?mt:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||s)s=to(n,d);else{s=d;var p=De;De|=2;var g=Lp();(dt!==n||mt!==s)&&(Mn=null,ps=et()+500,Pr(n,s));do try{S1();break}catch(P){Rp(n,P)}while(!0);nc(),qa.current=g,De=p,st!==null?s=0:(dt=null,mt=0,s=ot)}if(s!==0){if(s===2&&(p=xl(n),p!==0&&(d=p,s=Fc(n,p))),s===1)throw l=fi,Pr(n,0),lr(n,d),Rt(n,et()),l;if(s===6)lr(n,d);else{if(p=n.current.alternate,(d&30)===0&&!k1(p)&&(s=to(n,d),s===2&&(g=xl(n),g!==0&&(d=g,s=Fc(n,g))),s===1))throw l=fi,Pr(n,0),lr(n,d),Rt(n,et()),l;switch(n.finishedWork=p,n.finishedLanes=d,s){case 0:case 1:throw Error(r(345));case 2:Tr(n,At,Mn);break;case 3:if(lr(n,d),(d&130023424)===d&&(s=Oc+500-et(),10<s)){if(ca(n,0)!==0)break;if(p=n.suspendedLanes,(p&d)!==d){Nt(),n.pingedLanes|=n.suspendedLanes&p;break}n.timeoutHandle=Gl(Tr.bind(null,n,At,Mn),s);break}Tr(n,At,Mn);break;case 4:if(lr(n,d),(d&4194240)===d)break;for(s=n.eventTimes,p=-1;0<d;){var b=31-rn(d);g=1<<b,b=s[b],b>p&&(p=b),d&=~g}if(d=p,d=et()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*b1(d/1960))-d,10<d){n.timeoutHandle=Gl(Tr.bind(null,n,At,Mn),d);break}Tr(n,At,Mn);break;case 5:Tr(n,At,Mn);break;default:throw Error(r(329))}}}return Rt(n,et()),n.callbackNode===l?Tp.bind(null,n):null}function Fc(n,s){var l=hi;return n.current.memoizedState.isDehydrated&&(Pr(n,s).flags|=256),n=to(n,s),n!==2&&(s=At,At=l,s!==null&&Bc(s)),n}function Bc(n){At===null?At=n:At.push.apply(At,n)}function k1(n){for(var s=n;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],g=p.getSnapshot;p=p.value;try{if(!sn(g(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function lr(n,s){for(s&=~Ic,s&=~Ya,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var l=31-rn(s),d=1<<l;n[l]=-1,s&=~d}}function Ap(n){if((De&6)!==0)throw Error(r(327));ms();var s=ca(n,0);if((s&1)===0)return Rt(n,et()),null;var l=to(n,s);if(n.tag!==0&&l===2){var d=xl(n);d!==0&&(s=d,l=Fc(n,d))}if(l===1)throw l=fi,Pr(n,0),lr(n,s),Rt(n,et()),l;if(l===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Tr(n,At,Mn),Rt(n,et()),null}function zc(n,s){var l=De;De|=1;try{return n(s)}finally{De=l,De===0&&(ps=et()+500,Ea&&tr())}}function Er(n){ar!==null&&ar.tag===0&&(De&6)===0&&ms();var s=De;De|=1;var l=Yt.transition,d=Oe;try{if(Yt.transition=null,Oe=1,n)return n()}finally{Oe=d,Yt.transition=l,De=s,(De&6)===0&&tr()}}function $c(){Ft=hs.current,$e(hs)}function Pr(n,s){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,Zv(l)),st!==null)for(l=st.return;l!==null;){var d=l;switch(Xl(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Na();break;case 3:us(),$e(Et),$e(yt),uc();break;case 5:lc(d);break;case 4:us();break;case 13:$e(Ke);break;case 19:$e(Ke);break;case 10:rc(d.type._context);break;case 22:case 23:$c()}l=l.return}if(dt=n,st=n=cr(n.current,null),mt=Ft=s,ot=0,fi=null,Ic=Ya=Cr=0,At=hi=null,jr!==null){for(s=0;s<jr.length;s++)if(l=jr[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,g=l.pending;if(g!==null){var b=g.next;g.next=p,d.next=b}l.pending=d}jr=null}return n}function Rp(n,s){do{var l=st;try{if(nc(),Va.current=$a,Fa){for(var d=qe.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Fa=!1}if(Nr=0,ut=at=qe=null,ai=!1,oi=0,Dc.current=null,l===null||l.return===null){ot=1,fi=s,st=null;break}e:{var g=n,b=l.return,P=l,A=s;if(s=mt,P.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var $=A,Q=P,X=Q.tag;if((Q.mode&1)===0&&(X===0||X===11||X===15)){var Y=Q.alternate;Y?(Q.updateQueue=Y.updateQueue,Q.memoizedState=Y.memoizedState,Q.lanes=Y.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var ae=rp(b);if(ae!==null){ae.flags&=-257,sp(ae,b,P,g,s),ae.mode&1&&np(g,$,s),s=ae,A=$;var de=s.updateQueue;if(de===null){var fe=new Set;fe.add(A),s.updateQueue=fe}else de.add(A);break e}else{if((s&1)===0){np(g,$,s),Uc();break e}A=Error(r(426))}}else if(He&&P.mode&1){var tt=rp(b);if(tt!==null){(tt.flags&65536)===0&&(tt.flags|=256),sp(tt,b,P,g,s),ec(ds(A,P));break e}}g=A=ds(A,P),ot!==4&&(ot=2),hi===null?hi=[g]:hi.push(g),g=b;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var M=ep(g,A,s);Ch(g,M);break e;case 1:P=A;var D=g.type,V=g.stateNode;if((g.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(ir===null||!ir.has(V)))){g.flags|=65536,s&=-s,g.lanes|=s;var ne=tp(g,P,s);Ch(g,ne);break e}}g=g.return}while(g!==null)}Ip(l)}catch(me){s=me,st===l&&l!==null&&(st=l=l.return);continue}break}while(!0)}function Lp(){var n=qa.current;return qa.current=$a,n===null?$a:n}function Uc(){(ot===0||ot===3||ot===2)&&(ot=4),dt===null||(Cr&268435455)===0&&(Ya&268435455)===0||lr(dt,mt)}function to(n,s){var l=De;De|=2;var d=Lp();(dt!==n||mt!==s)&&(Mn=null,Pr(n,s));do try{j1();break}catch(p){Rp(n,p)}while(!0);if(nc(),De=l,qa.current=d,st!==null)throw Error(r(261));return dt=null,mt=0,ot}function j1(){for(;st!==null;)Dp(st)}function S1(){for(;st!==null&&!Qx();)Dp(st)}function Dp(n){var s=Vp(n.alternate,n,Ft);n.memoizedProps=n.pendingProps,s===null?Ip(n):st=s,Dc.current=null}function Ip(n){var s=n;do{var l=s.alternate;if(n=s.return,(s.flags&32768)===0){if(l=y1(l,s,Ft),l!==null){st=l;return}}else{if(l=x1(l,s),l!==null){l.flags&=32767,st=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ot=6,st=null;return}}if(s=s.sibling,s!==null){st=s;return}st=s=n}while(s!==null);ot===0&&(ot=5)}function Tr(n,s,l){var d=Oe,p=Yt.transition;try{Yt.transition=null,Oe=1,N1(n,s,l,d)}finally{Yt.transition=p,Oe=d}return null}function N1(n,s,l,d){do ms();while(ar!==null);if((De&6)!==0)throw Error(r(327));l=n.finishedWork;var p=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var g=l.lanes|l.childLanes;if(av(n,g),n===dt&&(st=dt=null,mt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Xa||(Xa=!0,Fp(ia,function(){return ms(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=Yt.transition,Yt.transition=null;var b=Oe;Oe=1;var P=De;De|=4,Dc.current=null,w1(n,l),Sp(l,n),Hv(Ul),fa=!!$l,Ul=$l=null,n.current=l,_1(l),Xx(),De=P,Oe=b,Yt.transition=g}else n.current=l;if(Xa&&(Xa=!1,ar=n,Ja=p),g=n.pendingLanes,g===0&&(ir=null),ev(l.stateNode),Rt(n,et()),s!==null)for(d=n.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(Qa)throw Qa=!1,n=Mc,Mc=null,n;return(Ja&1)!==0&&n.tag!==0&&ms(),g=n.pendingLanes,(g&1)!==0?n===Vc?pi++:(pi=0,Vc=n):pi=0,tr(),null}function ms(){if(ar!==null){var n=kf(Ja),s=Yt.transition,l=Oe;try{if(Yt.transition=null,Oe=16>n?16:n,ar===null)var d=!1;else{if(n=ar,ar=null,Ja=0,(De&6)!==0)throw Error(r(331));var p=De;for(De|=4,ce=n.current;ce!==null;){var g=ce,b=g.child;if((ce.flags&16)!==0){var P=g.deletions;if(P!==null){for(var A=0;A<P.length;A++){var $=P[A];for(ce=$;ce!==null;){var Q=ce;switch(Q.tag){case 0:case 11:case 15:di(8,Q,g)}var X=Q.child;if(X!==null)X.return=Q,ce=X;else for(;ce!==null;){Q=ce;var Y=Q.sibling,ae=Q.return;if(wp(Q),Q===$){ce=null;break}if(Y!==null){Y.return=ae,ce=Y;break}ce=ae}}}var de=g.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var tt=fe.sibling;fe.sibling=null,fe=tt}while(fe!==null)}}ce=g}}if((g.subtreeFlags&2064)!==0&&b!==null)b.return=g,ce=b;else e:for(;ce!==null;){if(g=ce,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:di(9,g,g.return)}var M=g.sibling;if(M!==null){M.return=g.return,ce=M;break e}ce=g.return}}var D=n.current;for(ce=D;ce!==null;){b=ce;var V=b.child;if((b.subtreeFlags&2064)!==0&&V!==null)V.return=b,ce=V;else e:for(b=D;ce!==null;){if(P=ce,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:Ka(9,P)}}catch(me){Xe(P,P.return,me)}if(P===b){ce=null;break e}var ne=P.sibling;if(ne!==null){ne.return=P.return,ce=ne;break e}ce=P.return}}if(De=p,tr(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(aa,n)}catch{}d=!0}return d}finally{Oe=l,Yt.transition=s}}return!1}function Op(n,s,l){s=ds(l,s),s=ep(n,s,1),n=rr(n,s,1),s=Nt(),n!==null&&(Vs(n,1,s),Rt(n,s))}function Xe(n,s,l){if(n.tag===3)Op(n,n,l);else for(;s!==null;){if(s.tag===3){Op(s,n,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ir===null||!ir.has(d))){n=ds(l,n),n=tp(s,n,1),s=rr(s,n,1),n=Nt(),s!==null&&(Vs(s,1,n),Rt(s,n));break}}s=s.return}}function C1(n,s,l){var d=n.pingCache;d!==null&&d.delete(s),s=Nt(),n.pingedLanes|=n.suspendedLanes&l,dt===n&&(mt&l)===l&&(ot===4||ot===3&&(mt&130023424)===mt&&500>et()-Oc?Pr(n,0):Ic|=l),Rt(n,s)}function Mp(n,s){s===0&&((n.mode&1)===0?s=1:(s=la,la<<=1,(la&130023424)===0&&(la=4194304)));var l=Nt();n=Dn(n,s),n!==null&&(Vs(n,s,l),Rt(n,l))}function E1(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),Mp(n,l)}function P1(n,s){var l=0;switch(n.tag){case 13:var d=n.stateNode,p=n.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(r(314))}d!==null&&d.delete(s),Mp(n,l)}var Vp;Vp=function(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps||Et.current)Tt=!0;else{if((n.lanes&l)===0&&(s.flags&128)===0)return Tt=!1,g1(n,s,l);Tt=(n.flags&131072)!==0}else Tt=!1,He&&(s.flags&1048576)!==0&&yh(s,Ta,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Ga(n,s),n=s.pendingProps;var p=rs(s,yt.current);cs(s,l),p=hc(null,s,d,n,p,l);var g=pc();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Pt(d)?(g=!0,Ca(s)):g=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,ac(s),p.updater=Ua,s.stateNode=p,p._reactInternals=s,wc(s,d,n,l),s=jc(null,s,d,!0,g,l)):(s.tag=0,He&&g&&Ql(s),St(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Ga(n,s),n=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=A1(d),n=on(d,n),p){case 0:s=kc(null,s,d,n,l);break e;case 1:s=up(null,s,d,n,l);break e;case 11:s=ip(null,s,d,n,l);break e;case 14:s=ap(null,s,d,on(d.type,n),l);break e}throw Error(r(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:on(d,p),kc(n,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:on(d,p),up(n,s,d,p,l);case 3:e:{if(dp(s),n===null)throw Error(r(387));d=s.pendingProps,g=s.memoizedState,p=g.element,Nh(n,s),Oa(s,d,null,l);var b=s.memoizedState;if(d=b.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){p=ds(Error(r(423)),s),s=fp(n,s,d,l,p);break e}else if(d!==p){p=ds(Error(r(424)),s),s=fp(n,s,d,l,p);break e}else for(Vt=Jn(s.stateNode.containerInfo.firstChild),Mt=s,He=!0,an=null,l=jh(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(as(),d===p){s=On(n,s,l);break e}St(n,s,d,l)}s=s.child}return s;case 5:return Ph(s),n===null&&Zl(s),d=s.type,p=s.pendingProps,g=n!==null?n.memoizedProps:null,b=p.children,Wl(d,p)?b=null:g!==null&&Wl(d,g)&&(s.flags|=32),cp(n,s),St(n,s,b,l),s.child;case 6:return n===null&&Zl(s),null;case 13:return hp(n,s,l);case 4:return oc(s,s.stateNode.containerInfo),d=s.pendingProps,n===null?s.child=os(s,null,d,l):St(n,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:on(d,p),ip(n,s,d,p,l);case 7:return St(n,s,s.pendingProps,l),s.child;case 8:return St(n,s,s.pendingProps.children,l),s.child;case 12:return St(n,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,g=s.memoizedProps,b=p.value,Me(La,d._currentValue),d._currentValue=b,g!==null)if(sn(g.value,b)){if(g.children===p.children&&!Et.current){s=On(n,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var P=g.dependencies;if(P!==null){b=g.child;for(var A=P.firstContext;A!==null;){if(A.context===d){if(g.tag===1){A=In(-1,l&-l),A.tag=2;var $=g.updateQueue;if($!==null){$=$.shared;var Q=$.pending;Q===null?A.next=A:(A.next=Q.next,Q.next=A),$.pending=A}}g.lanes|=l,A=g.alternate,A!==null&&(A.lanes|=l),sc(g.return,l,s),P.lanes|=l;break}A=A.next}}else if(g.tag===10)b=g.type===s.type?null:g.child;else if(g.tag===18){if(b=g.return,b===null)throw Error(r(341));b.lanes|=l,P=b.alternate,P!==null&&(P.lanes|=l),sc(b,l,s),b=g.sibling}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===s){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}St(n,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,cs(s,l),p=Kt(p),d=d(p),s.flags|=1,St(n,s,d,l),s.child;case 14:return d=s.type,p=on(d,s.pendingProps),p=on(d.type,p),ap(n,s,d,p,l);case 15:return op(n,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:on(d,p),Ga(n,s),s.tag=1,Pt(d)?(n=!0,Ca(s)):n=!1,cs(s,l),Jh(s,d,p),wc(s,d,p,l),jc(null,s,d,!0,n,l);case 19:return mp(n,s,l);case 22:return lp(n,s,l)}throw Error(r(156,s.tag))};function Fp(n,s){return xf(n,s)}function T1(n,s,l,d){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(n,s,l,d){return new T1(n,s,l,d)}function Wc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function A1(n){if(typeof n=="function")return Wc(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Ae)return 11;if(n===ue)return 14}return 2}function cr(n,s){var l=n.alternate;return l===null?(l=Qt(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function no(n,s,l,d,p,g){var b=2;if(d=n,typeof n=="function")Wc(n)&&(b=1);else if(typeof n=="string")b=5;else e:switch(n){case F:return Ar(l.children,p,g,s);case z:b=8,p|=8;break;case te:return n=Qt(12,l,s,p|2),n.elementType=te,n.lanes=g,n;case Le:return n=Qt(13,l,s,p),n.elementType=Le,n.lanes=g,n;case Se:return n=Qt(19,l,s,p),n.elementType=Se,n.lanes=g,n;case ve:return ro(l,p,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ge:b=10;break e;case Pe:b=9;break e;case Ae:b=11;break e;case ue:b=14;break e;case pe:b=16,d=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=Qt(b,l,s,p),s.elementType=n,s.type=d,s.lanes=g,s}function Ar(n,s,l,d){return n=Qt(7,n,d,s),n.lanes=l,n}function ro(n,s,l,d){return n=Qt(22,n,d,s),n.elementType=ve,n.lanes=l,n.stateNode={isHidden:!1},n}function Gc(n,s,l){return n=Qt(6,n,null,s),n.lanes=l,n}function Hc(n,s,l){return s=Qt(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function R1(n,s,l,d,p){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vl(0),this.expirationTimes=vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vl(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Kc(n,s,l,d,p,g,b,P,A){return n=new R1(n,s,l,P,A),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Qt(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ac(g),n}function L1(n,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:d==null?null:""+d,children:n,containerInfo:s,implementation:l}}function Bp(n){if(!n)return er;n=n._reactInternals;e:{if(vr(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Pt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var l=n.type;if(Pt(l))return ph(n,l,s)}return s}function zp(n,s,l,d,p,g,b,P,A){return n=Kc(l,d,!0,n,p,g,b,P,A),n.context=Bp(null),l=n.current,d=Nt(),p=or(l),g=In(d,p),g.callback=s??null,rr(l,g,p),n.current.lanes=p,Vs(n,p,d),Rt(n,d),n}function so(n,s,l,d){var p=s.current,g=Nt(),b=or(p);return l=Bp(l),s.context===null?s.context=l:s.pendingContext=l,s=In(g,b),s.payload={element:n},d=d===void 0?null:d,d!==null&&(s.callback=d),n=rr(p,s,b),n!==null&&(un(n,p,b,g),Ia(n,p,b)),b}function io(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function $p(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function qc(n,s){$p(n,s),(n=n.alternate)&&$p(n,s)}function D1(){return null}var Up=typeof reportError=="function"?reportError:function(n){console.error(n)};function Yc(n){this._internalRoot=n}ao.prototype.render=Yc.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));so(n,s,null,null)},ao.prototype.unmount=Yc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Er(function(){so(null,n,null,null)}),s[Tn]=null}};function ao(n){this._internalRoot=n}ao.prototype.unstable_scheduleHydration=function(n){if(n){var s=Nf();n={blockedOn:null,target:n,priority:s};for(var l=0;l<Yn.length&&s!==0&&s<Yn[l].priority;l++);Yn.splice(l,0,n),l===0&&Pf(n)}};function Qc(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function oo(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Wp(){}function I1(n,s,l,d,p){if(p){if(typeof d=="function"){var g=d;d=function(){var $=io(b);g.call($)}}var b=zp(s,d,n,0,null,!1,!1,"",Wp);return n._reactRootContainer=b,n[Tn]=b.current,Js(n.nodeType===8?n.parentNode:n),Er(),b}for(;p=n.lastChild;)n.removeChild(p);if(typeof d=="function"){var P=d;d=function(){var $=io(A);P.call($)}}var A=Kc(n,0,!1,null,null,!1,!1,"",Wp);return n._reactRootContainer=A,n[Tn]=A.current,Js(n.nodeType===8?n.parentNode:n),Er(function(){so(s,A,l,d)}),A}function lo(n,s,l,d,p){var g=l._reactRootContainer;if(g){var b=g;if(typeof p=="function"){var P=p;p=function(){var A=io(b);P.call(A)}}so(s,b,n,p)}else b=I1(l,s,n,p,d);return io(b)}jf=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var l=Ms(s.pendingLanes);l!==0&&(wl(s,l|1),Rt(s,et()),(De&6)===0&&(ps=et()+500,tr()))}break;case 13:Er(function(){var d=Dn(n,1);if(d!==null){var p=Nt();un(d,n,1,p)}}),qc(n,1)}},_l=function(n){if(n.tag===13){var s=Dn(n,134217728);if(s!==null){var l=Nt();un(s,n,134217728,l)}qc(n,134217728)}},Sf=function(n){if(n.tag===13){var s=or(n),l=Dn(n,s);if(l!==null){var d=Nt();un(l,n,s,d)}qc(n,s)}},Nf=function(){return Oe},Cf=function(n,s){var l=Oe;try{return Oe=n,s()}finally{Oe=l}},hl=function(n,s,l){switch(s){case"input":if(se(n,l),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==n&&d.form===n.form){var p=Sa(d);if(!p)throw Error(r(90));En(d),se(d,p)}}}break;case"textarea":he(n,l);break;case"select":s=l.value,s!=null&&tn(n,!!l.multiple,s,!1)}},df=zc,ff=Er;var O1={usingClientEntryPoint:!1,Events:[ti,ts,Sa,cf,uf,zc]},mi={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M1={bundleType:mi.bundleType,version:mi.version,rendererPackageName:mi.rendererPackageName,rendererConfig:mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=gf(n),n===null?null:n.stateNode},findFiberByHostInstance:mi.findFiberByHostInstance||D1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{aa=co.inject(M1),gn=co}catch{}}return Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O1,Lt.createPortal=function(n,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qc(s))throw Error(r(200));return L1(n,s,null,l)},Lt.createRoot=function(n,s){if(!Qc(n))throw Error(r(299));var l=!1,d="",p=Up;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Kc(n,1,!1,null,null,l,!1,d,p),n[Tn]=s.current,Js(n.nodeType===8?n.parentNode:n),new Yc(s)},Lt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=gf(s),n=n===null?null:n.stateNode,n},Lt.flushSync=function(n){return Er(n)},Lt.hydrate=function(n,s,l){if(!oo(s))throw Error(r(200));return lo(null,n,s,!0,l)},Lt.hydrateRoot=function(n,s,l){if(!Qc(n))throw Error(r(405));var d=l!=null&&l.hydratedSources||null,p=!1,g="",b=Up;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),s=zp(s,null,n,1,l??null,p,!1,g,b),n[Tn]=s.current,Js(n),d)for(n=0;n<d.length;n++)l=d[n],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new ao(s)},Lt.render=function(n,s,l){if(!oo(s))throw Error(r(200));return lo(null,n,s,!1,l)},Lt.unmountComponentAtNode=function(n){if(!oo(n))throw Error(r(40));return n._reactRootContainer?(Er(function(){lo(null,null,n,!1,function(){n._reactRootContainer=null,n[Tn]=null})}),!0):!1},Lt.unstable_batchedUpdates=zc,Lt.unstable_renderSubtreeIntoContainer=function(n,s,l,d){if(!oo(l))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return lo(n,s,l,!1,d)},Lt.version="18.3.1-next-f1338f8080-20240426",Lt}var Jp;function K1(){if(Jp)return Zc.exports;Jp=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zc.exports=H1(),Zc.exports}var Zp;function q1(){if(Zp)return uo;Zp=1;var e=K1();return uo.createRoot=e.createRoot,uo.hydrateRoot=e.hydrateRoot,uo}var Y1=q1();const Q1=r0(Y1),cd=j.createContext({});function Gi(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const Yo=j.createContext(null),Qo=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class X1 extends j.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function J1({children:e,isPresent:t}){const r=j.useId(),i=j.useRef(null),a=j.useRef({width:0,height:0,top:0,left:0}),{nonce:c}=j.useContext(Qo);return j.useInsertionEffect(()=>{const{width:u,height:f,top:h,left:m}=a.current;if(t||!i.current||!u||!f)return;i.current.dataset.motionPopId=r;const y=document.createElement("style");return c&&(y.nonce=c),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            top: ${h}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[t]),o.jsx(X1,{isPresent:t,childRef:i,sizeRef:a,children:j.cloneElement(e,{ref:i})})}const Z1=({children:e,initial:t,isPresent:r,onExitComplete:i,custom:a,presenceAffectsLayout:c,mode:u})=>{const f=Gi(ew),h=j.useId(),m=j.useCallback(x=>{f.set(x,!0);for(const v of f.values())if(!v)return;i&&i()},[f,i]),y=j.useMemo(()=>({id:h,initial:t,isPresent:r,custom:a,onExitComplete:m,register:x=>(f.set(x,!1),()=>f.delete(x))}),c?[Math.random(),m]:[r,m]);return j.useMemo(()=>{f.forEach((x,v)=>f.set(v,!1))},[r]),j.useEffect(()=>{!r&&!f.size&&i&&i()},[r]),u==="popLayout"&&(e=o.jsx(J1,{isPresent:r,children:e})),o.jsx(Yo.Provider,{value:y,children:e})};function ew(){return new Map}function s0(e=!0){const t=j.useContext(Yo);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:a}=t,c=j.useId();j.useEffect(()=>{e&&a(c)},[e]);const u=j.useCallback(()=>e&&i&&i(c),[c,i,e]);return!r&&i?[!1,u]:[!0]}const fo=e=>e.key||"";function em(e){const t=[];return j.Children.forEach(e,r=>{j.isValidElement(r)&&t.push(r)}),t}const ud=typeof window<"u",dd=ud?j.useLayoutEffect:j.useEffect,Ue=({children:e,custom:t,initial:r=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:c="sync",propagate:u=!1})=>{const[f,h]=s0(u),m=j.useMemo(()=>em(e),[e]),y=u&&!f?[]:m.map(fo),x=j.useRef(!0),v=j.useRef(m),w=Gi(()=>new Map),[_,k]=j.useState(m),[S,N]=j.useState(m);dd(()=>{x.current=!1,v.current=m;for(let R=0;R<S.length;R++){const I=fo(S[R]);y.includes(I)?w.delete(I):w.get(I)!==!0&&w.set(I,!1)}},[S,y.length,y.join("-")]);const T=[];if(m!==_){let R=[...m];for(let I=0;I<S.length;I++){const G=S[I],F=fo(G);y.includes(F)||(R.splice(I,0,G),T.push(G))}c==="wait"&&T.length&&(R=T),N(em(R)),k(m);return}const{forceRender:E}=j.useContext(cd);return o.jsx(o.Fragment,{children:S.map(R=>{const I=fo(R),G=u&&!f?!1:m===S||y.includes(I),F=()=>{if(w.has(I))w.set(I,!0);else return;let z=!0;w.forEach(te=>{te||(z=!1)}),z&&(E==null||E(),N(v.current),u&&(h==null||h()),i&&i())};return o.jsx(Z1,{isPresent:G,initial:!x.current||r?void 0:!1,custom:G?void 0:t,presenceAffectsLayout:a,mode:c,onExitComplete:G?void 0:F,children:R},I)})})},zt=e=>e;let i0=zt;function fd(e){let t;return()=>(t===void 0&&(t=e()),t)}const ks=(e,t,r)=>{const i=t-e;return i===0?1:(r-e)/i},Bn=e=>e*1e3,zn=e=>e/1e3,tw={useManualTiming:!1};function nw(e){let t=new Set,r=new Set,i=!1,a=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(m){c.has(m)&&(h.schedule(m),e()),m(u)}const h={schedule:(m,y=!1,x=!1)=>{const w=x&&i?t:r;return y&&c.add(m),w.has(m)||w.add(m),m},cancel:m=>{r.delete(m),c.delete(m)},process:m=>{if(u=m,i){a=!0;return}i=!0,[t,r]=[r,t],t.forEach(f),t.clear(),i=!1,a&&(a=!1,h.process(m))}};return h}const ho=["read","resolveKeyframes","update","preRender","render","postRender"],rw=40;function a0(e,t){let r=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},c=()=>r=!0,u=ho.reduce((N,T)=>(N[T]=nw(c),N),{}),{read:f,resolveKeyframes:h,update:m,preRender:y,render:x,postRender:v}=u,w=()=>{const N=performance.now();r=!1,a.delta=i?1e3/60:Math.max(Math.min(N-a.timestamp,rw),1),a.timestamp=N,a.isProcessing=!0,f.process(a),h.process(a),m.process(a),y.process(a),x.process(a),v.process(a),a.isProcessing=!1,r&&t&&(i=!1,e(w))},_=()=>{r=!0,i=!0,a.isProcessing||e(w)};return{schedule:ho.reduce((N,T)=>{const E=u[T];return N[T]=(R,I=!1,G=!1)=>(r||_(),E.schedule(R,I,G)),N},{}),cancel:N=>{for(let T=0;T<ho.length;T++)u[ho[T]].cancel(N)},state:a,steps:u}}const{schedule:Fe,cancel:Wn,state:gt,steps:nu}=a0(typeof requestAnimationFrame<"u"?requestAnimationFrame:zt,!0),o0=j.createContext({strict:!1}),tm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},js={};for(const e in tm)js[e]={isEnabled:t=>tm[e].some(r=>!!t[r])};function sw(e){for(const t in e)js[t]={...js[t],...e[t]}}const iw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Eo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||iw.has(e)}let l0=e=>!Eo(e);function aw(e){e&&(l0=t=>t.startsWith("on")?!Eo(t):e(t))}try{aw(require("@emotion/is-prop-valid").default)}catch{}function ow(e,t,r){const i={};for(const a in e)a==="values"&&typeof e.values=="object"||(l0(a)||r===!0&&Eo(a)||!t&&!Eo(a)||e.draggable&&a.startsWith("onDrag"))&&(i[a]=e[a]);return i}function lw(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...i)=>e(...i);return new Proxy(r,{get:(i,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Xo=j.createContext({});function Mi(e){return typeof e=="string"||Array.isArray(e)}function Jo(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const hd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pd=["initial",...hd];function Zo(e){return Jo(e.animate)||pd.some(t=>Mi(e[t]))}function c0(e){return!!(Zo(e)||e.variants)}function cw(e,t){if(Zo(e)){const{initial:r,animate:i}=e;return{initial:r===!1||Mi(r)?r:void 0,animate:Mi(i)?i:void 0}}return e.inherit!==!1?t:{}}function uw(e){const{initial:t,animate:r}=cw(e,j.useContext(Xo));return j.useMemo(()=>({initial:t,animate:r}),[nm(t),nm(r)])}function nm(e){return Array.isArray(e)?e.join(" "):e}const dw=Symbol.for("motionComponentSymbol");function gs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function fw(e,t,r){return j.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),r&&(typeof r=="function"?r(i):gs(r)&&(r.current=i))},[t])}const md=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hw="framerAppearId",u0="data-"+md(hw),{schedule:gd}=a0(queueMicrotask,!1),d0=j.createContext({});function pw(e,t,r,i,a){var c,u;const{visualElement:f}=j.useContext(Xo),h=j.useContext(o0),m=j.useContext(Yo),y=j.useContext(Qo).reducedMotion,x=j.useRef(null);i=i||h.renderer,!x.current&&i&&(x.current=i(e,{visualState:t,parent:f,props:r,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const v=x.current,w=j.useContext(d0);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&mw(x.current,r,a,w);const _=j.useRef(!1);j.useInsertionEffect(()=>{v&&_.current&&v.update(r,m)});const k=r[u0],S=j.useRef(!!k&&!(!((c=window.MotionHandoffIsComplete)===null||c===void 0)&&c.call(window,k))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,k)));return dd(()=>{v&&(_.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),gd.render(v.render),S.current&&v.animationState&&v.animationState.animateChanges())}),j.useEffect(()=>{v&&(!S.current&&v.animationState&&v.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)===null||N===void 0||N.call(window,k)}),S.current=!1))}),v}function mw(e,t,r,i){const{layoutId:a,layout:c,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:m}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:f0(e.parent)),e.projection.setOptions({layoutId:a,layout:c,alwaysMeasureLayout:!!u||f&&gs(f),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:m})}function f0(e){if(e)return e.options.allowProjection!==!1?e.projection:f0(e.parent)}function gw({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:i,Component:a}){var c,u;e&&sw(e);function f(m,y){let x;const v={...j.useContext(Qo),...m,layoutId:yw(m)},{isStatic:w}=v,_=uw(m),k=i(m,w);if(!w&&ud){xw();const S=vw(v);x=S.MeasureLayout,_.visualElement=pw(a,k,v,t,S.ProjectionNode)}return o.jsxs(Xo.Provider,{value:_,children:[x&&_.visualElement?o.jsx(x,{visualElement:_.visualElement,...v}):null,r(a,m,fw(k,_.visualElement,y),k,w,_.visualElement)]})}f.displayName=`motion.${typeof a=="string"?a:`create(${(u=(c=a.displayName)!==null&&c!==void 0?c:a.name)!==null&&u!==void 0?u:""})`}`;const h=j.forwardRef(f);return h[dw]=a,h}function yw({layoutId:e}){const t=j.useContext(cd).id;return t&&e!==void 0?t+"-"+e:e}function xw(e,t){j.useContext(o0).strict}function vw(e){const{drag:t,layout:r}=js;if(!t&&!r)return{};const i={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const ww=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yd(e){return typeof e!="string"||e.includes("-")?!1:!!(ww.indexOf(e)>-1||/[A-Z]/u.test(e))}function rm(e){const t=[{},{}];return e==null||e.values.forEach((r,i)=>{t[0][i]=r.get(),t[1][i]=r.getVelocity()}),t}function xd(e,t,r,i){if(typeof t=="function"){const[a,c]=rm(i);t=t(r!==void 0?r:e.custom,a,c)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,c]=rm(i);t=t(r!==void 0?r:e.custom,a,c)}return t}const Tu=e=>Array.isArray(e),_w=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),bw=e=>Tu(e)?e[e.length-1]||0:e,kt=e=>!!(e&&e.getVelocity);function _o(e){const t=kt(e)?e.get():e;return _w(t)?t.toValue():t}function kw({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},i,a,c){const u={latestValues:jw(i,a,c,e),renderState:t()};return r&&(u.onMount=f=>r({props:i,current:f,...u}),u.onUpdate=f=>r(f)),u}const h0=e=>(t,r)=>{const i=j.useContext(Xo),a=j.useContext(Yo),c=()=>kw(e,t,i,a);return r?c():Gi(c)};function jw(e,t,r,i){const a={},c=i(e,{});for(const v in c)a[v]=_o(c[v]);let{initial:u,animate:f}=e;const h=Zo(e),m=c0(e);t&&m&&!h&&e.inherit!==!1&&(u===void 0&&(u=t.initial),f===void 0&&(f=t.animate));let y=r?r.initial===!1:!1;y=y||u===!1;const x=y?f:u;if(x&&typeof x!="boolean"&&!Jo(x)){const v=Array.isArray(x)?x:[x];for(let w=0;w<v.length;w++){const _=xd(e,v[w]);if(_){const{transitionEnd:k,transition:S,...N}=_;for(const T in N){let E=N[T];if(Array.isArray(E)){const R=y?E.length-1:0;E=E[R]}E!==null&&(a[T]=E)}for(const T in k)a[T]=k[T]}}}return a}const Es=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Br=new Set(Es),p0=e=>t=>typeof t=="string"&&t.startsWith(e),m0=p0("--"),Sw=p0("var(--"),vd=e=>Sw(e)?Nw.test(e.split("/*")[0].trim()):!1,Nw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,g0=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Gn=(e,t,r)=>r>t?t:r<e?e:r,Ps={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Vi={...Ps,transform:e=>Gn(0,1,e)},po={...Ps,default:1},Hi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fr=Hi("deg"),jn=Hi("%"),je=Hi("px"),Cw=Hi("vh"),Ew=Hi("vw"),sm={...jn,parse:e=>jn.parse(e)/100,transform:e=>jn.transform(e*100)},Pw={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je},Tw={rotate:fr,rotateX:fr,rotateY:fr,rotateZ:fr,scale:po,scaleX:po,scaleY:po,scaleZ:po,skew:fr,skewX:fr,skewY:fr,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:Vi,originX:sm,originY:sm,originZ:je},im={...Ps,transform:Math.round},wd={...Pw,...Tw,zIndex:im,size:je,fillOpacity:Vi,strokeOpacity:Vi,numOctaves:im},Aw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Rw=Es.length;function Lw(e,t,r){let i="",a=!0;for(let c=0;c<Rw;c++){const u=Es[c],f=e[u];if(f===void 0)continue;let h=!0;if(typeof f=="number"?h=f===(u.startsWith("scale")?1:0):h=parseFloat(f)===0,!h||r){const m=g0(f,wd[u]);if(!h){a=!1;const y=Aw[u]||u;i+=`${y}(${m}) `}r&&(t[u]=m)}}return i=i.trim(),r?i=r(t,a?"":i):a&&(i="none"),i}function _d(e,t,r){const{style:i,vars:a,transformOrigin:c}=e;let u=!1,f=!1;for(const h in t){const m=t[h];if(Br.has(h)){u=!0;continue}else if(m0(h)){a[h]=m;continue}else{const y=g0(m,wd[h]);h.startsWith("origin")?(f=!0,c[h]=y):i[h]=y}}if(t.transform||(u||r?i.transform=Lw(t,e.transform,r):i.transform&&(i.transform="none")),f){const{originX:h="50%",originY:m="50%",originZ:y=0}=c;i.transformOrigin=`${h} ${m} ${y}`}}const Dw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Iw={offset:"strokeDashoffset",array:"strokeDasharray"};function Ow(e,t,r=1,i=0,a=!0){e.pathLength=1;const c=a?Dw:Iw;e[c.offset]=je.transform(-i);const u=je.transform(t),f=je.transform(r);e[c.array]=`${u} ${f}`}function am(e,t,r){return typeof e=="string"?e:je.transform(t+r*e)}function Mw(e,t,r){const i=am(t,e.x,e.width),a=am(r,e.y,e.height);return`${i} ${a}`}function bd(e,{attrX:t,attrY:r,attrScale:i,originX:a,originY:c,pathLength:u,pathSpacing:f=1,pathOffset:h=0,...m},y,x){if(_d(e,m,x),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:w,dimensions:_}=e;v.transform&&(_&&(w.transform=v.transform),delete v.transform),_&&(a!==void 0||c!==void 0||w.transform)&&(w.transformOrigin=Mw(_,a!==void 0?a:.5,c!==void 0?c:.5)),t!==void 0&&(v.x=t),r!==void 0&&(v.y=r),i!==void 0&&(v.scale=i),u!==void 0&&Ow(v,u,f,h,!1)}const kd=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),y0=()=>({...kd(),attrs:{}}),jd=e=>typeof e=="string"&&e.toLowerCase()==="svg";function x0(e,{style:t,vars:r},i,a){Object.assign(e.style,t,a&&a.getProjectionStyles(i));for(const c in r)e.style.setProperty(c,r[c])}const v0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function w0(e,t,r,i){x0(e,t,void 0,i);for(const a in t.attrs)e.setAttribute(v0.has(a)?a:md(a),t.attrs[a])}const Po={};function Vw(e){Object.assign(Po,e)}function _0(e,{layout:t,layoutId:r}){return Br.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Po[e]||e==="opacity")}function Sd(e,t,r){var i;const{style:a}=e,c={};for(const u in a)(kt(a[u])||t.style&&kt(t.style[u])||_0(u,e)||((i=r==null?void 0:r.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(c[u]=a[u]);return c}function b0(e,t,r){const i=Sd(e,t,r);for(const a in e)if(kt(e[a])||kt(t[a])){const c=Es.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[c]=e[a]}return i}function Fw(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const om=["x","y","width","height","cx","cy","r"],Bw={useVisualState:h0({scrapeMotionValuesFromProps:b0,createRenderState:y0,onUpdate:({props:e,prevProps:t,current:r,renderState:i,latestValues:a})=>{if(!r)return;let c=!!e.drag;if(!c){for(const f in a)if(Br.has(f)){c=!0;break}}if(!c)return;let u=!t;if(t)for(let f=0;f<om.length;f++){const h=om[f];e[h]!==t[h]&&(u=!0)}u&&Fe.read(()=>{Fw(r,i),Fe.render(()=>{bd(i,a,jd(r.tagName),e.transformTemplate),w0(r,i)})})}})},zw={useVisualState:h0({scrapeMotionValuesFromProps:Sd,createRenderState:kd})};function k0(e,t,r){for(const i in t)!kt(t[i])&&!_0(i,r)&&(e[i]=t[i])}function $w({transformTemplate:e},t){return j.useMemo(()=>{const r=kd();return _d(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Uw(e,t){const r=e.style||{},i={};return k0(i,r,e),Object.assign(i,$w(e,t)),i}function Ww(e,t){const r={},i=Uw(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}function Gw(e,t,r,i){const a=j.useMemo(()=>{const c=y0();return bd(c,t,jd(i),e.transformTemplate),{...c.attrs,style:{...c.style}}},[t]);if(e.style){const c={};k0(c,e.style,e),a.style={...c,...a.style}}return a}function Hw(e=!1){return(r,i,a,{latestValues:c},u)=>{const h=(yd(r)?Gw:Ww)(i,c,u,r),m=ow(i,typeof r=="string",e),y=r!==j.Fragment?{...m,...h,ref:a}:{},{children:x}=i,v=j.useMemo(()=>kt(x)?x.get():x,[x]);return j.createElement(r,{...y,children:v})}}function Kw(e,t){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...yd(i)?Bw:zw,preloadedFeatures:e,useRender:Hw(a),createVisualElement:t,Component:i};return gw(u)}}function j0(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}function el(e,t,r){const i=e.getProps();return xd(i,t,r!==void 0?r:i.custom,e)}const qw=fd(()=>window.ScrollTimeline!==void 0);class Yw{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=r}attachTimeline(t,r){const i=this.animations.map(a=>{if(qw()&&a.attachTimeline)return a.attachTimeline(t);if(typeof r=="function")return r(a)});return()=>{i.forEach((a,c)=>{a&&a(),this.animations[c].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Qw extends Yw{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function Nd(e,t){return e?e[t]||e.default||e:void 0}const Au=2e4;function S0(e){let t=0;const r=50;let i=e.next(t);for(;!i.done&&t<Au;)t+=r,i=e.next(t);return t>=Au?1/0:t}function Cd(e){return typeof e=="function"}function lm(e,t){e.timeline=t,e.onfinish=null}const Ed=e=>Array.isArray(e)&&typeof e[0]=="number",Xw={linearEasing:void 0};function Jw(e,t){const r=fd(e);return()=>{var i;return(i=Xw[t])!==null&&i!==void 0?i:r()}}const To=Jw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),N0=(e,t,r=10)=>{let i="";const a=Math.max(Math.round(t/r),2);for(let c=0;c<a;c++)i+=e(ks(0,a-1,c))+", ";return`linear(${i.substring(0,i.length-2)})`};function C0(e){return!!(typeof e=="function"&&To()||!e||typeof e=="string"&&(e in Ru||To())||Ed(e)||Array.isArray(e)&&e.every(C0))}const Si=([e,t,r,i])=>`cubic-bezier(${e}, ${t}, ${r}, ${i})`,Ru={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Si([0,.65,.55,1]),circOut:Si([.55,0,1,.45]),backIn:Si([.31,.01,.66,-.59]),backOut:Si([.33,1.53,.69,.99])};function E0(e,t){if(e)return typeof e=="function"&&To()?N0(e,t):Ed(e)?Si(e):Array.isArray(e)?e.map(r=>E0(r,t)||Ru.easeOut):Ru[e]}const fn={x:!1,y:!1};function P0(){return fn.x||fn.y}function Zw(e,t,r){var i;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const c=(i=void 0)!==null&&i!==void 0?i:a.querySelectorAll(e);return c?Array.from(c):[]}return Array.from(e)}function T0(e,t){const r=Zw(e),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[r,a,()=>i.abort()]}function cm(e){return t=>{t.pointerType==="touch"||P0()||e(t)}}function e_(e,t,r={}){const[i,a,c]=T0(e,r),u=cm(f=>{const{target:h}=f,m=t(f);if(typeof m!="function"||!h)return;const y=cm(x=>{m(x),h.removeEventListener("pointerleave",y)});h.addEventListener("pointerleave",y,a)});return i.forEach(f=>{f.addEventListener("pointerenter",u,a)}),c}const A0=(e,t)=>t?e===t?!0:A0(e,t.parentElement):!1,Pd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,t_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function n_(e){return t_.has(e.tagName)||e.tabIndex!==-1}const Ni=new WeakSet;function um(e){return t=>{t.key==="Enter"&&e(t)}}function ru(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const r_=(e,t)=>{const r=e.currentTarget;if(!r)return;const i=um(()=>{if(Ni.has(r))return;ru(r,"down");const a=um(()=>{ru(r,"up")}),c=()=>ru(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",c,t)});r.addEventListener("keydown",i,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),t)};function dm(e){return Pd(e)&&!P0()}function s_(e,t,r={}){const[i,a,c]=T0(e,r),u=f=>{const h=f.currentTarget;if(!dm(f)||Ni.has(h))return;Ni.add(h);const m=t(f),y=(w,_)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",v),!(!dm(w)||!Ni.has(h))&&(Ni.delete(h),typeof m=="function"&&m(w,{success:_}))},x=w=>{y(w,r.useGlobalTarget||A0(h,w.target))},v=w=>{y(w,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",v,a)};return i.forEach(f=>{!n_(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0),(r.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),f.addEventListener("focus",m=>r_(m,a),a)}),c}function i_(e){return e==="x"||e==="y"?fn[e]?null:(fn[e]=!0,()=>{fn[e]=!1}):fn.x||fn.y?null:(fn.x=fn.y=!0,()=>{fn.x=fn.y=!1})}const R0=new Set(["width","height","top","left","right","bottom",...Es]);let bo;function a_(){bo=void 0}const Sn={now:()=>(bo===void 0&&Sn.set(gt.isProcessing||tw.useManualTiming?gt.timestamp:performance.now()),bo),set:e=>{bo=e,queueMicrotask(a_)}};function Td(e,t){e.indexOf(t)===-1&&e.push(t)}function Ad(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Rd{constructor(){this.subscriptions=[]}add(t){return Td(this.subscriptions,t),()=>Ad(this.subscriptions,t)}notify(t,r,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,i);else for(let c=0;c<a;c++){const u=this.subscriptions[c];u&&u(t,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function L0(e,t){return t?e*(1e3/t):0}const fm=30,o_=e=>!isNaN(parseFloat(e)),Pi={current:void 0};class l_{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{const c=Sn.now();this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Sn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=o_(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Rd);const i=this.events[t].add(r);return t==="change"?()=>{i(),Fe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Pi.current&&Pi.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>fm)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,fm);return L0(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ss(e,t){return new l_(e,t)}function c_(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ss(r))}function u_(e,t){const r=el(e,t);let{transitionEnd:i={},transition:a={},...c}=r||{};c={...c,...i};for(const u in c){const f=bw(c[u]);c_(e,u,f)}}function d_(e){return!!(kt(e)&&e.add)}function Lu(e,t){const r=e.getValue("willChange");if(d_(r))return r.add(t)}function D0(e){return e.props[u0]}const I0=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,f_=1e-7,h_=12;function p_(e,t,r,i,a){let c,u,f=0;do u=t+(r-t)/2,c=I0(u,i,a)-e,c>0?r=u:t=u;while(Math.abs(c)>f_&&++f<h_);return u}function Ki(e,t,r,i){if(e===t&&r===i)return zt;const a=c=>p_(c,0,1,e,r);return c=>c===0||c===1?c:I0(a(c),t,i)}const O0=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,M0=e=>t=>1-e(1-t),V0=Ki(.33,1.53,.69,.99),Ld=M0(V0),F0=O0(Ld),B0=e=>(e*=2)<1?.5*Ld(e):.5*(2-Math.pow(2,-10*(e-1))),Dd=e=>1-Math.sin(Math.acos(e)),z0=M0(Dd),$0=O0(Dd),U0=e=>/^0[^.\s]+$/u.test(e);function m_(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||U0(e):!0}const Ti=e=>Math.round(e*1e5)/1e5,Id=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function g_(e){return e==null}const y_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Od=(e,t)=>r=>!!(typeof r=="string"&&y_.test(r)&&r.startsWith(e)||t&&!g_(r)&&Object.prototype.hasOwnProperty.call(r,t)),W0=(e,t,r)=>i=>{if(typeof i!="string")return i;const[a,c,u,f]=i.match(Id);return{[e]:parseFloat(a),[t]:parseFloat(c),[r]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},x_=e=>Gn(0,255,e),su={...Ps,transform:e=>Math.round(x_(e))},Ir={test:Od("rgb","red"),parse:W0("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:i=1})=>"rgba("+su.transform(e)+", "+su.transform(t)+", "+su.transform(r)+", "+Ti(Vi.transform(i))+")"};function v_(e){let t="",r="",i="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),i=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),i=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Du={test:Od("#"),parse:v_,transform:Ir.transform},ys={test:Od("hsl","hue"),parse:W0("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:i=1})=>"hsla("+Math.round(e)+", "+jn.transform(Ti(t))+", "+jn.transform(Ti(r))+", "+Ti(Vi.transform(i))+")"},bt={test:e=>Ir.test(e)||Du.test(e)||ys.test(e),parse:e=>Ir.test(e)?Ir.parse(e):ys.test(e)?ys.parse(e):Du.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ir.transform(e):ys.transform(e)},w_=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function __(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Id))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(w_))===null||r===void 0?void 0:r.length)||0)>0}const G0="number",H0="color",b_="var",k_="var(",hm="${}",j_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fi(e){const t=e.toString(),r=[],i={color:[],number:[],var:[]},a=[];let c=0;const f=t.replace(j_,h=>(bt.test(h)?(i.color.push(c),a.push(H0),r.push(bt.parse(h))):h.startsWith(k_)?(i.var.push(c),a.push(b_),r.push(h)):(i.number.push(c),a.push(G0),r.push(parseFloat(h))),++c,hm)).split(hm);return{values:r,split:f,indexes:i,types:a}}function K0(e){return Fi(e).values}function q0(e){const{split:t,types:r}=Fi(e),i=t.length;return a=>{let c="";for(let u=0;u<i;u++)if(c+=t[u],a[u]!==void 0){const f=r[u];f===G0?c+=Ti(a[u]):f===H0?c+=bt.transform(a[u]):c+=a[u]}return c}}const S_=e=>typeof e=="number"?0:e;function N_(e){const t=K0(e);return q0(e)(t.map(S_))}const pr={test:__,parse:K0,createTransformer:q0,getAnimatableNone:N_},C_=new Set(["brightness","contrast","saturate","opacity"]);function E_(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=r.match(Id)||[];if(!i)return e;const a=r.replace(i,"");let c=C_.has(t)?1:0;return i!==r&&(c*=100),t+"("+c+a+")"}const P_=/\b([a-z-]*)\(.*?\)/gu,Iu={...pr,getAnimatableNone:e=>{const t=e.match(P_);return t?t.map(E_).join(" "):e}},T_={...wd,color:bt,backgroundColor:bt,outlineColor:bt,fill:bt,stroke:bt,borderColor:bt,borderTopColor:bt,borderRightColor:bt,borderBottomColor:bt,borderLeftColor:bt,filter:Iu,WebkitFilter:Iu},Md=e=>T_[e];function Y0(e,t){let r=Md(e);return r!==Iu&&(r=pr),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const A_=new Set(["auto","none","0"]);function R_(e,t,r){let i=0,a;for(;i<e.length&&!a;){const c=e[i];typeof c=="string"&&!A_.has(c)&&Fi(c).values.length&&(a=e[i]),i++}if(a&&r)for(const c of t)e[c]=Y0(r,a)}const pm=e=>e===Ps||e===je,mm=(e,t)=>parseFloat(e.split(", ")[t]),gm=(e,t)=>(r,{transform:i})=>{if(i==="none"||!i)return 0;const a=i.match(/^matrix3d\((.+)\)$/u);if(a)return mm(a[1],t);{const c=i.match(/^matrix\((.+)\)$/u);return c?mm(c[1],e):0}},L_=new Set(["x","y","z"]),D_=Es.filter(e=>!L_.has(e));function I_(e){const t=[];return D_.forEach(r=>{const i=e.getValue(r);i!==void 0&&(t.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),t}const Ns={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:gm(4,13),y:gm(5,14)};Ns.translateX=Ns.x;Ns.translateY=Ns.y;const Vr=new Set;let Ou=!1,Mu=!1;function Q0(){if(Mu){const e=Array.from(Vr).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),r=new Map;t.forEach(i=>{const a=I_(i);a.length&&(r.set(i,a),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=r.get(i);a&&a.forEach(([c,u])=>{var f;(f=i.getValue(c))===null||f===void 0||f.set(u)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Mu=!1,Ou=!1,Vr.forEach(e=>e.complete()),Vr.clear()}function X0(){Vr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Mu=!0)})}function O_(){X0(),Q0()}class Vd{constructor(t,r,i,a,c,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=i,this.motionValue=a,this.element=c,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Vr.add(this),Ou||(Ou=!0,Fe.read(X0),Fe.resolveKeyframes(Q0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:i,motionValue:a}=this;for(let c=0;c<t.length;c++)if(t[c]===null)if(c===0){const u=a==null?void 0:a.get(),f=t[t.length-1];if(u!==void 0)t[0]=u;else if(i&&r){const h=i.readValue(r,f);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=f),a&&u===void 0&&a.set(t[0])}else t[c]=t[c-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Vr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Vr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const J0=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),M_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function V_(e){const t=M_.exec(e);if(!t)return[,];const[,r,i,a]=t;return[`--${r??i}`,a]}function Z0(e,t,r=1){const[i,a]=V_(e);if(!i)return;const c=window.getComputedStyle(t).getPropertyValue(i);if(c){const u=c.trim();return J0(u)?parseFloat(u):u}return vd(a)?Z0(a,t,r+1):a}const ey=e=>t=>t.test(e),F_={test:e=>e==="auto",parse:e=>e},ty=[Ps,je,jn,fr,Ew,Cw,F_],ym=e=>ty.find(ey(e));class ny extends Vd{constructor(t,r,i,a,c){super(t,r,i,a,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let m=t[h];if(typeof m=="string"&&(m=m.trim(),vd(m))){const y=Z0(m,r.current);y!==void 0&&(t[h]=y),h===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!R0.has(i)||t.length!==2)return;const[a,c]=t,u=ym(a),f=ym(c);if(u!==f)if(pm(u)&&pm(f))for(let h=0;h<t.length;h++){const m=t[h];typeof m=="string"&&(t[h]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,i=[];for(let a=0;a<t.length;a++)m_(t[a])&&i.push(a);i.length&&R_(t,i,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ns[i](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){var t;const{element:r,name:i,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const c=r.getValue(i);c&&c.jump(this.measuredOrigin,!1);const u=a.length-1,f=a[u];a[u]=Ns[i](r.measureViewportBox(),window.getComputedStyle(r.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([h,m])=>{r.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const xm=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(pr.test(e)||e==="0")&&!e.startsWith("url("));function B_(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function z_(e,t,r,i){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const c=e[e.length-1],u=xm(a,t),f=xm(c,t);return!u||!f?!1:B_(e)||(r==="spring"||Cd(r))&&i}const $_=e=>e!==null;function tl(e,{repeat:t,repeatType:r="loop"},i){const a=e.filter($_),c=t&&r!=="loop"&&t%2===1?0:a.length-1;return!c||i===void 0?a[c]:i}const U_=40;class ry{constructor({autoplay:t=!0,delay:r=0,type:i="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:u="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Sn.now(),this.options={autoplay:t,delay:r,type:i,repeat:a,repeatDelay:c,repeatType:u,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>U_?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&O_(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=Sn.now(),this.hasAttemptedResolve=!0;const{name:i,type:a,velocity:c,delay:u,onComplete:f,onUpdate:h,isGenerator:m}=this.options;if(!m&&!z_(t,i,a,c))if(u)this.options.duration=0;else{h&&h(tl(t,this.options,r)),f&&f(),this.resolveFinishedPromise();return}const y=this.initPlayback(t,r);y!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...y},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ye=(e,t,r)=>e+(t-e)*r;function iu(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function W_({hue:e,saturation:t,lightness:r,alpha:i}){e/=360,t/=100,r/=100;let a=0,c=0,u=0;if(!t)a=c=u=r;else{const f=r<.5?r*(1+t):r+t-r*t,h=2*r-f;a=iu(h,f,e+1/3),c=iu(h,f,e),u=iu(h,f,e-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:i}}function Ao(e,t){return r=>r>0?t:e}const au=(e,t,r)=>{const i=e*e,a=r*(t*t-i)+i;return a<0?0:Math.sqrt(a)},G_=[Du,Ir,ys],H_=e=>G_.find(t=>t.test(e));function vm(e){const t=H_(e);if(!t)return!1;let r=t.parse(e);return t===ys&&(r=W_(r)),r}const wm=(e,t)=>{const r=vm(e),i=vm(t);if(!r||!i)return Ao(e,t);const a={...r};return c=>(a.red=au(r.red,i.red,c),a.green=au(r.green,i.green,c),a.blue=au(r.blue,i.blue,c),a.alpha=Ye(r.alpha,i.alpha,c),Ir.transform(a))},K_=(e,t)=>r=>t(e(r)),qi=(...e)=>e.reduce(K_),Vu=new Set(["none","hidden"]);function q_(e,t){return Vu.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Y_(e,t){return r=>Ye(e,t,r)}function Fd(e){return typeof e=="number"?Y_:typeof e=="string"?vd(e)?Ao:bt.test(e)?wm:J_:Array.isArray(e)?sy:typeof e=="object"?bt.test(e)?wm:Q_:Ao}function sy(e,t){const r=[...e],i=r.length,a=e.map((c,u)=>Fd(c)(c,t[u]));return c=>{for(let u=0;u<i;u++)r[u]=a[u](c);return r}}function Q_(e,t){const r={...e,...t},i={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(i[a]=Fd(e[a])(e[a],t[a]));return a=>{for(const c in i)r[c]=i[c](a);return r}}function X_(e,t){var r;const i=[],a={color:0,var:0,number:0};for(let c=0;c<t.values.length;c++){const u=t.types[c],f=e.indexes[u][a[u]],h=(r=e.values[f])!==null&&r!==void 0?r:0;i[c]=h,a[u]++}return i}const J_=(e,t)=>{const r=pr.createTransformer(t),i=Fi(e),a=Fi(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Vu.has(e)&&!a.values.length||Vu.has(t)&&!i.values.length?q_(e,t):qi(sy(X_(i,a),a.values),r):Ao(e,t)};function iy(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ye(e,t,r):Fd(e)(e,t)}const Z_=5;function ay(e,t,r){const i=Math.max(t-Z_,0);return L0(r-e(i),t-i)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ou=.001;function eb({duration:e=Je.duration,bounce:t=Je.bounce,velocity:r=Je.velocity,mass:i=Je.mass}){let a,c,u=1-t;u=Gn(Je.minDamping,Je.maxDamping,u),e=Gn(Je.minDuration,Je.maxDuration,zn(e)),u<1?(a=m=>{const y=m*u,x=y*e,v=y-r,w=Fu(m,u),_=Math.exp(-x);return ou-v/w*_},c=m=>{const x=m*u*e,v=x*r+r,w=Math.pow(u,2)*Math.pow(m,2)*e,_=Math.exp(-x),k=Fu(Math.pow(m,2),u);return(-a(m)+ou>0?-1:1)*((v-w)*_)/k}):(a=m=>{const y=Math.exp(-m*e),x=(m-r)*e+1;return-ou+y*x},c=m=>{const y=Math.exp(-m*e),x=(r-m)*(e*e);return y*x});const f=5/e,h=nb(a,c,f);if(e=Bn(e),isNaN(h))return{stiffness:Je.stiffness,damping:Je.damping,duration:e};{const m=Math.pow(h,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:e}}}const tb=12;function nb(e,t,r){let i=r;for(let a=1;a<tb;a++)i=i-e(i)/t(i);return i}function Fu(e,t){return e*Math.sqrt(1-t*t)}const rb=["duration","bounce"],sb=["stiffness","damping","mass"];function _m(e,t){return t.some(r=>e[r]!==void 0)}function ib(e){let t={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...e};if(!_m(e,sb)&&_m(e,rb))if(e.visualDuration){const r=e.visualDuration,i=2*Math.PI/(r*1.2),a=i*i,c=2*Gn(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Je.mass,stiffness:a,damping:c}}else{const r=eb(e);t={...t,...r,mass:Je.mass},t.isResolvedFromDuration=!0}return t}function oy(e=Je.visualDuration,t=Je.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:a}=r;const c=r.keyframes[0],u=r.keyframes[r.keyframes.length-1],f={done:!1,value:c},{stiffness:h,damping:m,mass:y,duration:x,velocity:v,isResolvedFromDuration:w}=ib({...r,velocity:-zn(r.velocity||0)}),_=v||0,k=m/(2*Math.sqrt(h*y)),S=u-c,N=zn(Math.sqrt(h/y)),T=Math.abs(S)<5;i||(i=T?Je.restSpeed.granular:Je.restSpeed.default),a||(a=T?Je.restDelta.granular:Je.restDelta.default);let E;if(k<1){const I=Fu(N,k);E=G=>{const F=Math.exp(-k*N*G);return u-F*((_+k*N*S)/I*Math.sin(I*G)+S*Math.cos(I*G))}}else if(k===1)E=I=>u-Math.exp(-N*I)*(S+(_+N*S)*I);else{const I=N*Math.sqrt(k*k-1);E=G=>{const F=Math.exp(-k*N*G),z=Math.min(I*G,300);return u-F*((_+k*N*S)*Math.sinh(z)+I*S*Math.cosh(z))/I}}const R={calculatedDuration:w&&x||null,next:I=>{const G=E(I);if(w)f.done=I>=x;else{let F=0;k<1&&(F=I===0?Bn(_):ay(E,I,G));const z=Math.abs(F)<=i,te=Math.abs(u-G)<=a;f.done=z&&te}return f.value=f.done?u:G,f},toString:()=>{const I=Math.min(S0(R),Au),G=N0(F=>R.next(I*F).value,I,30);return I+"ms "+G}};return R}function bm({keyframes:e,velocity:t=0,power:r=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:u,min:f,max:h,restDelta:m=.5,restSpeed:y}){const x=e[0],v={done:!1,value:x},w=z=>f!==void 0&&z<f||h!==void 0&&z>h,_=z=>f===void 0?h:h===void 0||Math.abs(f-z)<Math.abs(h-z)?f:h;let k=r*t;const S=x+k,N=u===void 0?S:u(S);N!==S&&(k=N-x);const T=z=>-k*Math.exp(-z/i),E=z=>N+T(z),R=z=>{const te=T(z),ge=E(z);v.done=Math.abs(te)<=m,v.value=v.done?N:ge};let I,G;const F=z=>{w(v.value)&&(I=z,G=oy({keyframes:[v.value,_(v.value)],velocity:ay(E,z,v.value),damping:a,stiffness:c,restDelta:m,restSpeed:y}))};return F(0),{calculatedDuration:null,next:z=>{let te=!1;return!G&&I===void 0&&(te=!0,R(z),F(z)),I!==void 0&&z>=I?G.next(z-I):(!te&&R(z),v)}}}const ab=Ki(.42,0,1,1),ob=Ki(0,0,.58,1),ly=Ki(.42,0,.58,1),lb=e=>Array.isArray(e)&&typeof e[0]!="number",cb={linear:zt,easeIn:ab,easeInOut:ly,easeOut:ob,circIn:Dd,circInOut:$0,circOut:z0,backIn:Ld,backInOut:F0,backOut:V0,anticipate:B0},km=e=>{if(Ed(e)){i0(e.length===4);const[t,r,i,a]=e;return Ki(t,r,i,a)}else if(typeof e=="string")return cb[e];return e};function ub(e,t,r){const i=[],a=r||iy,c=e.length-1;for(let u=0;u<c;u++){let f=a(e[u],e[u+1]);if(t){const h=Array.isArray(t)?t[u]||zt:t;f=qi(h,f)}i.push(f)}return i}function cy(e,t,{clamp:r=!0,ease:i,mixer:a}={}){const c=e.length;if(i0(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=ub(t,i,a),h=f.length,m=y=>{if(u&&y<e[0])return t[0];let x=0;if(h>1)for(;x<e.length-2&&!(y<e[x+1]);x++);const v=ks(e[x],e[x+1],y);return f[x](v)};return r?y=>m(Gn(e[0],e[c-1],y)):m}function db(e,t){const r=e[e.length-1];for(let i=1;i<=t;i++){const a=ks(0,t,i);e.push(Ye(r,1,a))}}function fb(e){const t=[0];return db(t,e.length-1),t}function hb(e,t){return e.map(r=>r*t)}function pb(e,t){return e.map(()=>t||ly).splice(0,e.length-1)}function Ro({duration:e=300,keyframes:t,times:r,ease:i="easeInOut"}){const a=lb(i)?i.map(km):km(i),c={done:!1,value:t[0]},u=hb(r&&r.length===t.length?r:fb(t),e),f=cy(u,t,{ease:Array.isArray(a)?a:pb(t,a)});return{calculatedDuration:e,next:h=>(c.value=f(h),c.done=h>=e,c)}}const mb=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Fe.update(t,!0),stop:()=>Wn(t),now:()=>gt.isProcessing?gt.timestamp:Sn.now()}},gb={decay:bm,inertia:bm,tween:Ro,keyframes:Ro,spring:oy},yb=e=>e/100;class Bd extends ry{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:r,motionValue:i,element:a,keyframes:c}=this.options,u=(a==null?void 0:a.KeyframeResolver)||Vd,f=(h,m)=>this.onKeyframesResolved(h,m);this.resolver=new u(c,f,r,i,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:c,velocity:u=0}=this.options,f=Cd(r)?r:gb[r]||Ro;let h,m;f!==Ro&&typeof t[0]!="number"&&(h=qi(yb,iy(t[0],t[1])),t=[0,100]);const y=f({...this.options,keyframes:t});c==="mirror"&&(m=f({...this.options,keyframes:[...t].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=S0(y));const{calculatedDuration:x}=y,v=x+a,w=v*(i+1)-a;return{generator:y,mirroredGenerator:m,mapPercentToKeyframes:h,calculatedDuration:x,resolvedDuration:v,totalDuration:w}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:i}=this;if(!i){const{keyframes:z}=this.options;return{done:!0,value:z[z.length-1]}}const{finalKeyframe:a,generator:c,mirroredGenerator:u,mapPercentToKeyframes:f,keyframes:h,calculatedDuration:m,totalDuration:y,resolvedDuration:x}=i;if(this.startTime===null)return c.next(0);const{delay:v,repeat:w,repeatType:_,repeatDelay:k,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-y/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const N=this.currentTime-v*(this.speed>=0?1:-1),T=this.speed>=0?N<0:N>y;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let E=this.currentTime,R=c;if(w){const z=Math.min(this.currentTime,y)/x;let te=Math.floor(z),ge=z%1;!ge&&z>=1&&(ge=1),ge===1&&te--,te=Math.min(te,w+1),!!(te%2)&&(_==="reverse"?(ge=1-ge,k&&(ge-=k/x)):_==="mirror"&&(R=u)),E=Gn(0,1,ge)*x}const I=T?{done:!1,value:h[0]}:R.next(E);f&&(I.value=f(I.value));let{done:G}=I;!T&&m!==null&&(G=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return F&&a!==void 0&&(I.value=tl(h,this.options,a)),S&&S(I.value),F&&this.finish(),I}get duration(){const{resolved:t}=this;return t?zn(t.calculatedDuration):0}get time(){return zn(this.currentTime)}set time(t){t=Bn(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=zn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=mb,onPlay:r,startTime:i}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const xb=new Set(["opacity","clipPath","filter","transform"]);function vb(e,t,r,{delay:i=0,duration:a=300,repeat:c=0,repeatType:u="loop",ease:f="easeInOut",times:h}={}){const m={[t]:r};h&&(m.offset=h);const y=E0(f,a);return Array.isArray(y)&&(m.easing=y),e.animate(m,{delay:i,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"})}const wb=fd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Lo=10,_b=2e4;function bb(e){return Cd(e.type)||e.type==="spring"||!C0(e.ease)}function kb(e,t){const r=new Bd({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const a=[];let c=0;for(;!i.done&&c<_b;)i=r.sample(c),a.push(i.value),c+=Lo;return{times:void 0,keyframes:a,duration:c-Lo,ease:"linear"}}const uy={anticipate:B0,backInOut:F0,circInOut:$0};function jb(e){return e in uy}class jm extends ry{constructor(t){super(t);const{name:r,motionValue:i,element:a,keyframes:c}=this.options;this.resolver=new ny(c,(u,f)=>this.onKeyframesResolved(u,f),r,i,a),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:i=300,times:a,ease:c,type:u,motionValue:f,name:h,startTime:m}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof c=="string"&&To()&&jb(c)&&(c=uy[c]),bb(this.options)){const{onComplete:x,onUpdate:v,motionValue:w,element:_,...k}=this.options,S=kb(t,k);t=S.keyframes,t.length===1&&(t[1]=t[0]),i=S.duration,a=S.times,c=S.ease,u="keyframes"}const y=vb(f.owner.current,h,t,{...this.options,duration:i,times:a,ease:c});return y.startTime=m??this.calcStartTime(),this.pendingTimeline?(lm(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:x}=this.options;f.set(tl(t,this.options,r)),x&&x(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:i,times:a,type:u,ease:c,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return zn(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return zn(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.currentTime=Bn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:i}=r;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return zt;const{animation:i}=r;lm(i,t)}return zt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:i,duration:a,type:c,ease:u,times:f}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:y,onComplete:x,element:v,...w}=this.options,_=new Bd({...w,keyframes:i,duration:a,type:c,ease:u,times:f,isGenerator:!0}),k=Bn(this.time);m.setWithVelocity(_.sample(k-Lo).value,_.sample(k).value,Lo)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:i,repeatDelay:a,repeatType:c,damping:u,type:f}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=r.owner.getProps();return wb()&&i&&xb.has(i)&&!h&&!m&&!a&&c!=="mirror"&&u!==0&&f!=="inertia"}}const Sb={type:"spring",stiffness:500,damping:25,restSpeed:10},Nb=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Cb={type:"keyframes",duration:.8},Eb={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Pb=(e,{keyframes:t})=>t.length>2?Cb:Br.has(e)?e.startsWith("scale")?Nb(t[1]):Sb:Eb;function Tb({when:e,delay:t,delayChildren:r,staggerChildren:i,staggerDirection:a,repeat:c,repeatType:u,repeatDelay:f,from:h,elapsed:m,...y}){return!!Object.keys(y).length}const zd=(e,t,r,i={},a,c)=>u=>{const f=Nd(i,e)||{},h=f.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Bn(h);let y={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-m,onUpdate:v=>{t.set(v),f.onUpdate&&f.onUpdate(v)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:c?void 0:a};Tb(f)||(y={...y,...Pb(e,y)}),y.duration&&(y.duration=Bn(y.duration)),y.repeatDelay&&(y.repeatDelay=Bn(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let x=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(x=!0)),x&&!c&&t.get()!==void 0){const v=tl(y.keyframes,f);if(v!==void 0)return Fe.update(()=>{y.onUpdate(v),y.onComplete()}),new Qw([])}return!c&&jm.supports(y)?new jm(y):new Bd(y)};function Ab({protectedKeys:e,needsAnimating:t},r){const i=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,i}function dy(e,t,{delay:r=0,transitionOverride:i,type:a}={}){var c;let{transition:u=e.getDefaultTransition(),transitionEnd:f,...h}=t;i&&(u=i);const m=[],y=a&&e.animationState&&e.animationState.getState()[a];for(const x in h){const v=e.getValue(x,(c=e.latestValues[x])!==null&&c!==void 0?c:null),w=h[x];if(w===void 0||y&&Ab(y,x))continue;const _={delay:r,...Nd(u||{},x)};let k=!1;if(window.MotionHandoffAnimation){const N=D0(e);if(N){const T=window.MotionHandoffAnimation(N,x,Fe);T!==null&&(_.startTime=T,k=!0)}}Lu(e,x),v.start(zd(x,v,w,e.shouldReduceMotion&&R0.has(x)?{type:!1}:_,e,k));const S=v.animation;S&&m.push(S)}return f&&Promise.all(m).then(()=>{Fe.update(()=>{f&&u_(e,f)})}),m}function Bu(e,t,r={}){var i;const a=el(e,t,r.type==="exit"?(i=e.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:c=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(c=r.transitionOverride);const u=a?()=>Promise.all(dy(e,a,r)):()=>Promise.resolve(),f=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:x,staggerDirection:v}=c;return Rb(e,t,y+m,x,v,r)}:()=>Promise.resolve(),{when:h}=c;if(h){const[m,y]=h==="beforeChildren"?[u,f]:[f,u];return m().then(()=>y())}else return Promise.all([u(),f(r.delay)])}function Rb(e,t,r=0,i=0,a=1,c){const u=[],f=(e.variantChildren.size-1)*i,h=a===1?(m=0)=>m*i:(m=0)=>f-m*i;return Array.from(e.variantChildren).sort(Lb).forEach((m,y)=>{m.notify("AnimationStart",t),u.push(Bu(m,t,{...c,delay:r+h(y)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(u)}function Lb(e,t){return e.sortNodePosition(t)}function Db(e,t,r={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(c=>Bu(e,c,r));i=Promise.all(a)}else if(typeof t=="string")i=Bu(e,t,r);else{const a=typeof t=="function"?el(e,t,r.custom):t;i=Promise.all(dy(e,a,r))}return i.then(()=>{e.notify("AnimationComplete",t)})}const Ib=pd.length;function fy(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?fy(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Ib;r++){const i=pd[r],a=e.props[i];(Mi(a)||a===!1)&&(t[i]=a)}return t}const Ob=[...hd].reverse(),Mb=hd.length;function Vb(e){return t=>Promise.all(t.map(({animation:r,options:i})=>Db(e,r,i)))}function Fb(e){let t=Vb(e),r=Sm(),i=!0;const a=h=>(m,y)=>{var x;const v=el(e,y,h==="exit"?(x=e.presenceContext)===null||x===void 0?void 0:x.custom:void 0);if(v){const{transition:w,transitionEnd:_,...k}=v;m={...m,...k,..._}}return m};function c(h){t=h(e)}function u(h){const{props:m}=e,y=fy(e.parent)||{},x=[],v=new Set;let w={},_=1/0;for(let S=0;S<Mb;S++){const N=Ob[S],T=r[N],E=m[N]!==void 0?m[N]:y[N],R=Mi(E),I=N===h?T.isActive:null;I===!1&&(_=S);let G=E===y[N]&&E!==m[N]&&R;if(G&&i&&e.manuallyAnimateOnMount&&(G=!1),T.protectedKeys={...w},!T.isActive&&I===null||!E&&!T.prevProp||Jo(E)||typeof E=="boolean")continue;const F=Bb(T.prevProp,E);let z=F||N===h&&T.isActive&&!G&&R||S>_&&R,te=!1;const ge=Array.isArray(E)?E:[E];let Pe=ge.reduce(a(N),{});I===!1&&(Pe={});const{prevResolvedValues:Ae={}}=T,Le={...Ae,...Pe},Se=ve=>{z=!0,v.has(ve)&&(te=!0,v.delete(ve)),T.needsAnimating[ve]=!0;const q=e.getValue(ve);q&&(q.liveStyle=!1)};for(const ve in Le){const q=Pe[ve],oe=Ae[ve];if(w.hasOwnProperty(ve))continue;let O=!1;Tu(q)&&Tu(oe)?O=!j0(q,oe):O=q!==oe,O?q!=null?Se(ve):v.add(ve):q!==void 0&&v.has(ve)?Se(ve):T.protectedKeys[ve]=!0}T.prevProp=E,T.prevResolvedValues=Pe,T.isActive&&(w={...w,...Pe}),i&&e.blockInitialAnimation&&(z=!1),z&&(!(G&&F)||te)&&x.push(...ge.map(ve=>({animation:ve,options:{type:N}})))}if(v.size){const S={};v.forEach(N=>{const T=e.getBaseTarget(N),E=e.getValue(N);E&&(E.liveStyle=!0),S[N]=T??null}),x.push({animation:S})}let k=!!x.length;return i&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(k=!1),i=!1,k?t(x):Promise.resolve()}function f(h,m){var y;if(r[h].isActive===m)return Promise.resolve();(y=e.variantChildren)===null||y===void 0||y.forEach(v=>{var w;return(w=v.animationState)===null||w===void 0?void 0:w.setActive(h,m)}),r[h].isActive=m;const x=u(h);for(const v in r)r[v].protectedKeys={};return x}return{animateChanges:u,setActive:f,setAnimateFunction:c,getState:()=>r,reset:()=>{r=Sm(),i=!0}}}function Bb(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!j0(t,e):!1}function Rr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Sm(){return{animate:Rr(!0),whileInView:Rr(),whileHover:Rr(),whileTap:Rr(),whileDrag:Rr(),whileFocus:Rr(),exit:Rr()}}class gr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class zb extends gr{constructor(t){super(t),t.animationState||(t.animationState=Fb(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Jo(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let $b=0;class Ub extends gr{constructor(){super(...arguments),this.id=$b++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Wb={animation:{Feature:zb},exit:{Feature:Ub}};function Bi(e,t,r,i={passive:!0}){return e.addEventListener(t,r,i),()=>e.removeEventListener(t,r)}function Yi(e){return{point:{x:e.pageX,y:e.pageY}}}const Gb=e=>t=>Pd(t)&&e(t,Yi(t));function Ai(e,t,r,i){return Bi(e,t,Gb(r),i)}const Nm=(e,t)=>Math.abs(e-t);function Hb(e,t){const r=Nm(e.x,t.x),i=Nm(e.y,t.y);return Math.sqrt(r**2+i**2)}class hy{constructor(t,r,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=cu(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=Hb(x.offset,{x:0,y:0})>=3;if(!v&&!w)return;const{point:_}=x,{timestamp:k}=gt;this.history.push({..._,timestamp:k});const{onStart:S,onMove:N}=this.handlers;v||(S&&S(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=lu(v,this.transformPagePoint),Fe.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:w,onSessionEnd:_,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=cu(x.type==="pointercancel"?this.lastMoveEventInfo:lu(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,S),_&&_(x,S)},!Pd(t))return;this.dragSnapToOrigin=c,this.handlers=r,this.transformPagePoint=i,this.contextWindow=a||window;const u=Yi(t),f=lu(u,this.transformPagePoint),{point:h}=f,{timestamp:m}=gt;this.history=[{...h,timestamp:m}];const{onSessionStart:y}=r;y&&y(t,cu(f,this.history)),this.removeListeners=qi(Ai(this.contextWindow,"pointermove",this.handlePointerMove),Ai(this.contextWindow,"pointerup",this.handlePointerUp),Ai(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Wn(this.updatePoint)}}function lu(e,t){return t?{point:t(e.point)}:e}function Cm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function cu({point:e},t){return{point:e,delta:Cm(e,py(t)),offset:Cm(e,Kb(t)),velocity:qb(t,.1)}}function Kb(e){return e[0]}function py(e){return e[e.length-1]}function qb(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,i=null;const a=py(e);for(;r>=0&&(i=e[r],!(a.timestamp-i.timestamp>Bn(t)));)r--;if(!i)return{x:0,y:0};const c=zn(a.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const u={x:(a.x-i.x)/c,y:(a.y-i.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const my=1e-4,Yb=1-my,Qb=1+my,gy=.01,Xb=0-gy,Jb=0+gy;function $t(e){return e.max-e.min}function Zb(e,t,r){return Math.abs(e-t)<=r}function Em(e,t,r,i=.5){e.origin=i,e.originPoint=Ye(t.min,t.max,e.origin),e.scale=$t(r)/$t(t),e.translate=Ye(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Yb&&e.scale<=Qb||isNaN(e.scale))&&(e.scale=1),(e.translate>=Xb&&e.translate<=Jb||isNaN(e.translate))&&(e.translate=0)}function Ri(e,t,r,i){Em(e.x,t.x,r.x,i?i.originX:void 0),Em(e.y,t.y,r.y,i?i.originY:void 0)}function Pm(e,t,r){e.min=r.min+t.min,e.max=e.min+$t(t)}function ek(e,t,r){Pm(e.x,t.x,r.x),Pm(e.y,t.y,r.y)}function Tm(e,t,r){e.min=t.min-r.min,e.max=e.min+$t(t)}function Li(e,t,r){Tm(e.x,t.x,r.x),Tm(e.y,t.y,r.y)}function tk(e,{min:t,max:r},i){return t!==void 0&&e<t?e=i?Ye(t,e,i.min):Math.max(e,t):r!==void 0&&e>r&&(e=i?Ye(r,e,i.max):Math.min(e,r)),e}function Am(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function nk(e,{top:t,left:r,bottom:i,right:a}){return{x:Am(e.x,r,a),y:Am(e.y,t,i)}}function Rm(e,t){let r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,i]=[i,r]),{min:r,max:i}}function rk(e,t){return{x:Rm(e.x,t.x),y:Rm(e.y,t.y)}}function sk(e,t){let r=.5;const i=$t(e),a=$t(t);return a>i?r=ks(t.min,t.max-i,e.min):i>a&&(r=ks(e.min,e.max-a,t.min)),Gn(0,1,r)}function ik(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const zu=.35;function ak(e=zu){return e===!1?e=0:e===!0&&(e=zu),{x:Lm(e,"left","right"),y:Lm(e,"top","bottom")}}function Lm(e,t,r){return{min:Dm(e,t),max:Dm(e,r)}}function Dm(e,t){return typeof e=="number"?e:e[t]||0}const Im=()=>({translate:0,scale:1,origin:0,originPoint:0}),xs=()=>({x:Im(),y:Im()}),Om=()=>({min:0,max:0}),nt=()=>({x:Om(),y:Om()});function Zt(e){return[e("x"),e("y")]}function yy({top:e,left:t,right:r,bottom:i}){return{x:{min:t,max:r},y:{min:e,max:i}}}function ok({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function lk(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function uu(e){return e===void 0||e===1}function $u({scale:e,scaleX:t,scaleY:r}){return!uu(e)||!uu(t)||!uu(r)}function Lr(e){return $u(e)||xy(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function xy(e){return Mm(e.x)||Mm(e.y)}function Mm(e){return e&&e!=="0%"}function Do(e,t,r){const i=e-r,a=t*i;return r+a}function Vm(e,t,r,i,a){return a!==void 0&&(e=Do(e,a,i)),Do(e,r,i)+t}function Uu(e,t=0,r=1,i,a){e.min=Vm(e.min,t,r,i,a),e.max=Vm(e.max,t,r,i,a)}function vy(e,{x:t,y:r}){Uu(e.x,t.translate,t.scale,t.originPoint),Uu(e.y,r.translate,r.scale,r.originPoint)}const Fm=.999999999999,Bm=1.0000000000001;function ck(e,t,r,i=!1){const a=r.length;if(!a)return;t.x=t.y=1;let c,u;for(let f=0;f<a;f++){c=r[f],u=c.projectionDelta;const{visualElement:h}=c.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ws(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,vy(e,u)),i&&Lr(c.latestValues)&&ws(e,c.latestValues))}t.x<Bm&&t.x>Fm&&(t.x=1),t.y<Bm&&t.y>Fm&&(t.y=1)}function vs(e,t){e.min=e.min+t,e.max=e.max+t}function zm(e,t,r,i,a=.5){const c=Ye(e.min,e.max,a);Uu(e,t,r,c,i)}function ws(e,t){zm(e.x,t.x,t.scaleX,t.scale,t.originX),zm(e.y,t.y,t.scaleY,t.scale,t.originY)}function wy(e,t){return yy(lk(e.getBoundingClientRect(),t))}function uk(e,t,r){const i=wy(e,r),{scroll:a}=t;return a&&(vs(i.x,a.offset.x),vs(i.y,a.offset.y)),i}const _y=({current:e})=>e?e.ownerDocument.defaultView:null,dk=new WeakMap;class fk{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nt(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Yi(y).point)},c=(y,x)=>{const{drag:v,dragPropagation:w,onDragStart:_}=this.getProps();if(v&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=i_(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zt(S=>{let N=this.getAxisMotionValue(S).get()||0;if(jn.test(N)){const{projection:T}=this.visualElement;if(T&&T.layout){const E=T.layout.layoutBox[S];E&&(N=$t(E)*(parseFloat(N)/100))}}this.originPoint[S]=N}),_&&Fe.postRender(()=>_(y,x)),Lu(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},u=(y,x)=>{const{dragPropagation:v,dragDirectionLock:w,onDirectionLock:_,onDrag:k}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:S}=x;if(w&&this.currentDirection===null){this.currentDirection=hk(S),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",x.point,S),this.updateAxis("y",x.point,S),this.visualElement.render(),k&&k(y,x)},f=(y,x)=>this.stop(y,x),h=()=>Zt(y=>{var x;return this.getAnimationState(y)==="paused"&&((x=this.getAxisMotionValue(y).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new hy(t,{onSessionStart:a,onStart:c,onMove:u,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:_y(this.visualElement)})}stop(t,r){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&Fe.postRender(()=>c(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,i){const{drag:a}=this.getProps();if(!i||!mo(t,a,this.currentDirection))return;const c=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=tk(u,this.constraints[t],this.elastic[t])),c.set(u)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:i}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,c=this.constraints;r&&gs(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=nk(a.layoutBox,r):this.constraints=!1,this.elastic=ak(i),c!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Zt(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=ik(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!gs(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=uk(i,a.root,this.visualElement.getTransformPagePoint());let u=rk(a.layout.layoutBox,c);if(r){const f=r(ok(u));this.hasMutatedConstraints=!!f,f&&(u=yy(f))}return u}startAnimation(t){const{drag:r,dragMomentum:i,dragElastic:a,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),h=this.constraints||{},m=Zt(y=>{if(!mo(y,r,this.currentDirection))return;let x=h&&h[y]||{};u&&(x={min:0,max:0});const v=a?200:1e6,w=a?40:1e7,_={type:"inertia",velocity:i?t[y]:0,bounceStiffness:v,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...c,...x};return this.startAxisValueAnimation(y,_)});return Promise.all(m).then(f)}startAxisValueAnimation(t,r){const i=this.getAxisMotionValue(t);return Lu(this.visualElement,t),i.start(zd(t,i,0,r,this.visualElement,!1))}stopAnimation(){Zt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Zt(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[r];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Zt(r=>{const{drag:i}=this.getProps();if(!mo(r,i,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(r);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[r];c.set(t[r]-Ye(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!gs(r)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Zt(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const h=f.get();a[u]=sk({min:h,max:h},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Zt(u=>{if(!mo(u,t,null))return;const f=this.getAxisMotionValue(u),{min:h,max:m}=this.constraints[u];f.set(Ye(h,m,a[u]))})}addListeners(){if(!this.visualElement.current)return;dk.set(this.visualElement,this);const t=this.visualElement.current,r=Ai(t,"pointerdown",h=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();gs(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Fe.read(i);const u=Bi(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Zt(y=>{const x=this.getAxisMotionValue(y);x&&(this.originPoint[y]+=h[y].translate,x.set(x.get()+h[y].translate))}),this.visualElement.render())}));return()=>{u(),r(),c(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:u=zu,dragMomentum:f=!0}=t;return{...t,drag:r,dragDirectionLock:i,dragPropagation:a,dragConstraints:c,dragElastic:u,dragMomentum:f}}}function mo(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function hk(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class pk extends gr{constructor(t){super(t),this.removeGroupControls=zt,this.removeListeners=zt,this.controls=new fk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zt}unmount(){this.removeGroupControls(),this.removeListeners()}}const $m=e=>(t,r)=>{e&&Fe.postRender(()=>e(t,r))};class mk extends gr{constructor(){super(...arguments),this.removePointerDownListener=zt}onPointerDown(t){this.session=new hy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_y(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:$m(t),onStart:$m(r),onMove:i,onEnd:(c,u)=>{delete this.session,a&&Fe.postRender(()=>a(c,u))}}}mount(){this.removePointerDownListener=Ai(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ko={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Um(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const yi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(je.test(e))e=parseFloat(e);else return e;const r=Um(e,t.target.x),i=Um(e,t.target.y);return`${r}% ${i}%`}},gk={correct:(e,{treeScale:t,projectionDelta:r})=>{const i=e,a=pr.parse(e);if(a.length>5)return i;const c=pr.createTransformer(e),u=typeof a[0]!="number"?1:0,f=r.x.scale*t.x,h=r.y.scale*t.y;a[0+u]/=f,a[1+u]/=h;const m=Ye(f,h,.5);return typeof a[2+u]=="number"&&(a[2+u]/=m),typeof a[3+u]=="number"&&(a[3+u]/=m),c(a)}};class yk extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:i,layoutId:a}=this.props,{projection:c}=t;Vw(xk),c&&(r.group&&r.group.add(c),i&&i.register&&a&&i.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),ko.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:i,drag:a,isPresent:c}=this.props,u=i.projection;return u&&(u.isPresent=c,a||t.layoutDependency!==r||r===void 0?u.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?u.promote():u.relegate()||Fe.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),gd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function by(e){const[t,r]=s0(),i=j.useContext(cd);return o.jsx(yk,{...e,layoutGroup:i,switchLayoutGroup:j.useContext(d0),isPresent:t,safeToRemove:r})}const xk={borderRadius:{...yi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yi,borderTopRightRadius:yi,borderBottomLeftRadius:yi,borderBottomRightRadius:yi,boxShadow:gk};function vk(e,t,r){const i=kt(e)?e:Ss(e);return i.start(zd("",i,t,r)),i.animation}function wk(e){return e instanceof SVGElement&&e.tagName!=="svg"}const _k=(e,t)=>e.depth-t.depth;class bk{constructor(){this.children=[],this.isDirty=!1}add(t){Td(this.children,t),this.isDirty=!0}remove(t){Ad(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_k),this.isDirty=!1,this.children.forEach(t)}}function kk(e,t){const r=Sn.now(),i=({timestamp:a})=>{const c=a-r;c>=t&&(Wn(i),e(c-t))};return Fe.read(i,!0),()=>Wn(i)}const ky=["TopLeft","TopRight","BottomLeft","BottomRight"],jk=ky.length,Wm=e=>typeof e=="string"?parseFloat(e):e,Gm=e=>typeof e=="number"||je.test(e);function Sk(e,t,r,i,a,c){a?(e.opacity=Ye(0,r.opacity!==void 0?r.opacity:1,Nk(i)),e.opacityExit=Ye(t.opacity!==void 0?t.opacity:1,0,Ck(i))):c&&(e.opacity=Ye(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,i));for(let u=0;u<jk;u++){const f=`border${ky[u]}Radius`;let h=Hm(t,f),m=Hm(r,f);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||Gm(h)===Gm(m)?(e[f]=Math.max(Ye(Wm(h),Wm(m),i),0),(jn.test(m)||jn.test(h))&&(e[f]+="%")):e[f]=m}(t.rotate||r.rotate)&&(e.rotate=Ye(t.rotate||0,r.rotate||0,i))}function Hm(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Nk=jy(0,.5,z0),Ck=jy(.5,.95,zt);function jy(e,t,r){return i=>i<e?0:i>t?1:r(ks(e,t,i))}function Km(e,t){e.min=t.min,e.max=t.max}function Xt(e,t){Km(e.x,t.x),Km(e.y,t.y)}function qm(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ym(e,t,r,i,a){return e-=t,e=Do(e,1/r,i),a!==void 0&&(e=Do(e,1/a,i)),e}function Ek(e,t=0,r=1,i=.5,a,c=e,u=e){if(jn.test(t)&&(t=parseFloat(t),t=Ye(u.min,u.max,t/100)-u.min),typeof t!="number")return;let f=Ye(c.min,c.max,i);e===c&&(f-=t),e.min=Ym(e.min,t,r,f,a),e.max=Ym(e.max,t,r,f,a)}function Qm(e,t,[r,i,a],c,u){Ek(e,t[r],t[i],t[a],t.scale,c,u)}const Pk=["x","scaleX","originX"],Tk=["y","scaleY","originY"];function Xm(e,t,r,i){Qm(e.x,t,Pk,r?r.x:void 0,i?i.x:void 0),Qm(e.y,t,Tk,r?r.y:void 0,i?i.y:void 0)}function Jm(e){return e.translate===0&&e.scale===1}function Sy(e){return Jm(e.x)&&Jm(e.y)}function Zm(e,t){return e.min===t.min&&e.max===t.max}function Ak(e,t){return Zm(e.x,t.x)&&Zm(e.y,t.y)}function eg(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ny(e,t){return eg(e.x,t.x)&&eg(e.y,t.y)}function tg(e){return $t(e.x)/$t(e.y)}function ng(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Rk{constructor(){this.members=[]}add(t){Td(this.members,t),t.scheduleRender()}remove(t){if(Ad(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let i;for(let a=r;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){i=c;break}}return i?(this.promote(i),!0):!1}promote(t,r){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,r&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:i}=t;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Lk(e,t,r){let i="";const a=e.x.translate/t.x,c=e.y.translate/t.y,u=(r==null?void 0:r.z)||0;if((a||c||u)&&(i=`translate3d(${a}px, ${c}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:m,rotate:y,rotateX:x,rotateY:v,skewX:w,skewY:_}=r;m&&(i=`perspective(${m}px) ${i}`),y&&(i+=`rotate(${y}deg) `),x&&(i+=`rotateX(${x}deg) `),v&&(i+=`rotateY(${v}deg) `),w&&(i+=`skewX(${w}deg) `),_&&(i+=`skewY(${_}deg) `)}const f=e.x.scale*t.x,h=e.y.scale*t.y;return(f!==1||h!==1)&&(i+=`scale(${f}, ${h})`),i||"none"}const Dr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ci=typeof window<"u"&&window.MotionDebug!==void 0,du=["","X","Y","Z"],Dk={visibility:"hidden"},rg=1e3;let Ik=0;function fu(e,t,r,i){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),i&&(i[e]=0))}function Cy(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=D0(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Fe,!(a||c))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&Cy(i)}function Ey({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},f=t==null?void 0:t()){this.id=Ik++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ci&&(Dr.totalNodes=Dr.resolvedTargetDeltas=Dr.recalculatedProjection=0),this.nodes.forEach(Vk),this.nodes.forEach(Uk),this.nodes.forEach(Wk),this.nodes.forEach(Fk),Ci&&window.MotionDebug.record(Dr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new bk)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Rd),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const h=this.eventHandlers.get(u);h&&h.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=wk(u),this.instance=u;const{layoutId:h,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(m||h)&&(this.isLayoutDirty=!0),e){let x;const v=()=>this.root.updateBlockedByResize=!1;e(u,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=kk(v,250),ko.hasAnimatedSinceResize&&(ko.hasAnimatedSinceResize=!1,this.nodes.forEach(ig))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&y&&(h||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:v,hasRelativeTargetChanged:w,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||y.getDefaultTransition()||Yk,{onLayoutAnimationStart:S,onLayoutAnimationComplete:N}=y.getProps(),T=!this.targetLayout||!Ny(this.targetLayout,_)||w,E=!v&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||v&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,E);const R={...Nd(k,"layout"),onPlay:S,onComplete:N};(y.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else v||ig(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Gk),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Cy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const x=this.path[y];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:f,layout:h}=this.options;if(f===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sg);return}this.isUpdating||this.nodes.forEach(zk),this.isUpdating=!1,this.nodes.forEach($k),this.nodes.forEach(Ok),this.nodes.forEach(Mk),this.clearAllSnapshots();const f=Sn.now();gt.delta=Gn(0,1e3/60,f-gt.timestamp),gt.timestamp=f,gt.isProcessing=!0,nu.update.process(gt),nu.preRender.process(gt),nu.render.process(gt),gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Bk),this.sharedNodes.forEach(Hk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Sy(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;u&&(f||Lr(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let h=this.removeElementScroll(f);return u&&(h=this.removeTransform(h)),Qk(h),{animationId:this.root.animationId,measuredBox:f,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:f}=this.options;if(!f)return nt();const h=f.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(Xk))){const{scroll:y}=this.root;y&&(vs(h.x,y.offset.x),vs(h.y,y.offset.y))}return h}removeElementScroll(u){var f;const h=nt();if(Xt(h,u),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return h;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:x,options:v}=y;y!==this.root&&x&&v.layoutScroll&&(x.wasRoot&&Xt(h,u),vs(h.x,x.offset.x),vs(h.y,x.offset.y))}return h}applyTransform(u,f=!1){const h=nt();Xt(h,u);for(let m=0;m<this.path.length;m++){const y=this.path[m];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ws(h,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Lr(y.latestValues)&&ws(h,y.latestValues)}return Lr(this.latestValues)&&ws(h,this.latestValues),h}removeTransform(u){const f=nt();Xt(f,u);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!Lr(m.latestValues))continue;$u(m.latestValues)&&m.updateSnapshot();const y=nt(),x=m.measurePageBox();Xt(y,x),Xm(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Lr(this.latestValues)&&Xm(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var f;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:v}=this.options;if(!(!this.layout||!(x||v))){if(this.resolvedRelativeTargetAt=gt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),Li(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=nt(),this.targetWithTransforms=nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ek(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xt(this.target,this.layout.layoutBox),vy(this.target,this.targetDelta)):Xt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),Li(this.relativeTargetOrigin,this.target,w.target),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ci&&Dr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$u(this.parent.latestValues)||xy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const f=this.getLead(),h=!!this.resumingFrom||this!==f;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===gt.timestamp&&(m=!1),m)return;const{layout:y,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||x))return;Xt(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;ck(this.layoutCorrected,this.treeScale,this.path,h),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=nt());const{target:_}=f;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qm(this.prevProjectionDelta.x,this.projectionDelta.x),qm(this.prevProjectionDelta.y,this.projectionDelta.y)),Ri(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!ng(this.projectionDelta.x,this.prevProjectionDelta.x)||!ng(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),Ci&&Dr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xs(),this.projectionDelta=xs(),this.projectionDeltaWithTransform=xs()}setAnimationOrigin(u,f=!1){const h=this.snapshot,m=h?h.latestValues:{},y={...this.latestValues},x=xs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const v=nt(),w=h?h.source:void 0,_=this.layout?this.layout.source:void 0,k=w!==_,S=this.getStack(),N=!S||S.members.length<=1,T=!!(k&&!N&&this.options.crossfade===!0&&!this.path.some(qk));this.animationProgress=0;let E;this.mixTargetDelta=R=>{const I=R/1e3;ag(x.x,u.x,I),ag(x.y,u.y,I),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Li(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Kk(this.relativeTarget,this.relativeTargetOrigin,v,I),E&&Ak(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=nt()),Xt(E,this.relativeTarget)),k&&(this.animationValues=y,Sk(y,m,this.latestValues,I,T,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fe.update(()=>{ko.hasAnimatedSinceResize=!0,this.currentAnimation=vk(0,rg,{...u,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:h,layout:m,latestValues:y}=u;if(!(!f||!h||!m)){if(this!==u&&this.layout&&m&&Py(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||nt();const x=$t(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+x;const v=$t(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+v}Xt(f,h),ws(f,y),Ri(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Rk),this.sharedNodes.get(u).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:f}=this.options;return f?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:f}=this.options;return f?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(f=!0),!f)return;const m={};h.z&&fu("z",u,m,this.animationValues);for(let y=0;y<du.length;y++)fu(`rotate${du[y]}`,u,m,this.animationValues),fu(`skew${du[y]}`,u,m,this.animationValues);u.render();for(const y in m)u.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);u.scheduleRender()}getProjectionStyles(u){var f,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Dk;const m={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=_o(u==null?void 0:u.pointerEvents)||"",m.transform=y?y(this.latestValues,""):"none",m;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=_o(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Lr(this.latestValues)&&(k.transform=y?y({},""):"none",this.hasProjected=!1),k}const v=x.animationValues||x.latestValues;this.applyTransformsToTarget(),m.transform=Lk(this.projectionDeltaWithTransform,this.treeScale,v),y&&(m.transform=y(v,m.transform));const{x:w,y:_}=this.projectionDelta;m.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,x.animationValues?m.opacity=x===this?(h=(f=v.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:m.opacity=x===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const k in Po){if(v[k]===void 0)continue;const{correct:S,applyTo:N}=Po[k],T=m.transform==="none"?v[k]:S(v[k],x);if(N){const E=N.length;for(let R=0;R<E;R++)m[N[R]]=T}else m[k]=T}return this.options.layoutId&&(m.pointerEvents=x===this?_o(u==null?void 0:u.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(sg),this.root.sharedNodes.clear()}}}function Ok(e){e.updateLayout()}function Mk(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=e.layout,{animationType:c}=e.options,u=r.source!==e.layout.source;c==="size"?Zt(x=>{const v=u?r.measuredBox[x]:r.layoutBox[x],w=$t(v);v.min=i[x].min,v.max=v.min+w}):Py(c,r.layoutBox,i)&&Zt(x=>{const v=u?r.measuredBox[x]:r.layoutBox[x],w=$t(i[x]);v.max=v.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[x].max=e.relativeTarget[x].min+w)});const f=xs();Ri(f,i,r.layoutBox);const h=xs();u?Ri(h,e.applyTransform(a,!0),r.measuredBox):Ri(h,i,r.layoutBox);const m=!Sy(f);let y=!1;if(!e.resumeFrom){const x=e.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:v,layout:w}=x;if(v&&w){const _=nt();Li(_,r.layoutBox,v.layoutBox);const k=nt();Li(k,i,w.layoutBox),Ny(_,k)||(y=!0),x.options.layoutRoot&&(e.relativeTarget=k,e.relativeTargetOrigin=_,e.relativeParent=x)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:r,delta:h,layoutDelta:f,hasLayoutChanged:m,hasRelativeTargetChanged:y})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function Vk(e){Ci&&Dr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Fk(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Bk(e){e.clearSnapshot()}function sg(e){e.clearMeasurements()}function zk(e){e.isLayoutDirty=!1}function $k(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ig(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Uk(e){e.resolveTargetDelta()}function Wk(e){e.calcProjection()}function Gk(e){e.resetSkewAndRotation()}function Hk(e){e.removeLeadSnapshot()}function ag(e,t,r){e.translate=Ye(t.translate,0,r),e.scale=Ye(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function og(e,t,r,i){e.min=Ye(t.min,r.min,i),e.max=Ye(t.max,r.max,i)}function Kk(e,t,r,i){og(e.x,t.x,r.x,i),og(e.y,t.y,r.y,i)}function qk(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Yk={duration:.45,ease:[.4,0,.1,1]},lg=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),cg=lg("applewebkit/")&&!lg("chrome/")?Math.round:zt;function ug(e){e.min=cg(e.min),e.max=cg(e.max)}function Qk(e){ug(e.x),ug(e.y)}function Py(e,t,r){return e==="position"||e==="preserve-aspect"&&!Zb(tg(t),tg(r),.2)}function Xk(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Jk=Ey({attachResizeListener:(e,t)=>Bi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hu={current:void 0},Ty=Ey({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!hu.current){const e=new Jk({});e.mount(window),e.setOptions({layoutScroll:!0}),hu.current=e}return hu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Zk={pan:{Feature:mk},drag:{Feature:pk,ProjectionNode:Ty,MeasureLayout:by}};function dg(e,t,r){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,c=i[a];c&&Fe.postRender(()=>c(t,Yi(t)))}class ej extends gr{mount(){const{current:t}=this.node;t&&(this.unmount=e_(t,r=>(dg(this.node,r,"Start"),i=>dg(this.node,i,"End"))))}unmount(){}}class tj extends gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qi(Bi(this.node.current,"focus",()=>this.onFocus()),Bi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fg(e,t,r){const{props:i}=e;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),c=i[a];c&&Fe.postRender(()=>c(t,Yi(t)))}class nj extends gr{mount(){const{current:t}=this.node;t&&(this.unmount=s_(t,r=>(fg(this.node,r,"Start"),(i,{success:a})=>fg(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wu=new WeakMap,pu=new WeakMap,rj=e=>{const t=Wu.get(e.target);t&&t(e)},sj=e=>{e.forEach(rj)};function ij({root:e,...t}){const r=e||document;pu.has(r)||pu.set(r,{});const i=pu.get(r),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(sj,{root:e,...t})),i[a]}function aj(e,t,r){const i=ij(t);return Wu.set(e,r),i.observe(e),()=>{Wu.delete(e),i.unobserve(e)}}const oj={some:0,all:1};class lj extends gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:i,amount:a="some",once:c}=t,u={root:r?r.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:oj[a]},f=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,c&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:x}=this.node.getProps(),v=m?y:x;v&&v(h)};return aj(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(cj(t,r))&&this.startObserver()}unmount(){}}function cj({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const uj={inView:{Feature:lj},tap:{Feature:nj},focus:{Feature:tj},hover:{Feature:ej}},dj={layout:{ProjectionNode:Ty,MeasureLayout:by}},Gu={current:null},Ay={current:!1};function fj(){if(Ay.current=!0,!!ud)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Gu.current=e.matches;e.addListener(t),t()}else Gu.current=!1}const hj=[...ty,bt,pr],pj=e=>hj.find(ey(e)),hg=new WeakMap;function mj(e,t,r){for(const i in t){const a=t[i],c=r[i];if(kt(a))e.addValue(i,a);else if(kt(c))e.addValue(i,Ss(a,{owner:e}));else if(c!==a)if(e.hasValue(i)){const u=e.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=e.getStaticValue(i);e.addValue(i,Ss(u!==void 0?u:a,{owner:e}))}}for(const i in r)t[i]===void 0&&e.removeValue(i);return t}const pg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class gj{scrapeMotionValuesFromProps(t,r,i){return{}}constructor({parent:t,props:r,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:c,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Vd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Sn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Fe.render(this.render,!1,!0))};const{latestValues:h,renderState:m,onUpdate:y}=u;this.onUpdate=y,this.latestValues=h,this.baseTarget={...h},this.initialValues=r.initial?{...h}:{},this.renderState=m,this.parent=t,this.props=r,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!c,this.isControllingVariants=Zo(r),this.isVariantNode=c0(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:x,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const w in v){const _=v[w];h[w]!==void 0&&kt(_)&&_.set(h[w],!1)}}mount(t){this.current=t,hg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),Ay.current||fj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hg.delete(this.current),this.projection&&this.projection.unmount(),Wn(this.notifyUpdate),Wn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Br.has(t),a=r.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&Fe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),c=r.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),c(),u&&u(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in js){const r=js[t];if(!r)continue;const{isEnabled:i,Feature:a}=r;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<pg.length;i++){const a=pg[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c="on"+a,u=t[c];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=mj(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const i=this.values.get(t);r!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&r!==void 0&&(i=Ss(r===null?void 0:r,{owner:this}),this.addValue(t,i)),i}readValue(t,r){var i;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(J0(a)||U0(a))?a=parseFloat(a):!pj(a)&&pr.test(r)&&(a=Y0(t,r)),this.setBaseTarget(t,kt(a)?a.get():a)),kt(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:i}=this.props;let a;if(typeof i=="string"||typeof i=="object"){const u=xd(this.props,i,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);u&&(a=u[t])}if(i&&a!==void 0)return a;const c=this.getBaseTargetFromProps(this.props,t);return c!==void 0&&!kt(c)?c:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Rd),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Ry extends gj{constructor(){super(...arguments),this.KeyframeResolver=ny}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:i}){delete r[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;kt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function yj(e){return window.getComputedStyle(e)}class xj extends Ry{constructor(){super(...arguments),this.type="html",this.renderInstance=x0}readValueFromInstance(t,r){if(Br.has(r)){const i=Md(r);return i&&i.default||0}else{const i=yj(t),a=(m0(r)?i.getPropertyValue(r):i[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return wy(t,r)}build(t,r,i){_d(t,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,r,i){return Sd(t,r,i)}}class vj extends Ry{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Br.has(r)){const i=Md(r);return i&&i.default||0}return r=v0.has(r)?r:md(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,i){return b0(t,r,i)}build(t,r,i){bd(t,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,r,i,a){w0(t,r,i,a)}mount(t){this.isSVGTag=jd(t.tagName),super.mount(t)}}const wj=(e,t)=>yd(e)?new vj(t):new xj(t,{allowProjection:e!==j.Fragment}),_j=Kw({...Wb,...uj,...Zk,...dj},wj),ie=lw(_j);function Ly(e){const t=Gi(()=>Ss(e)),{isStatic:r}=j.useContext(Qo);if(r){const[,i]=j.useState(e);j.useEffect(()=>t.on("change",i),[])}return t}function Dy(e,t){const r=Ly(t()),i=()=>r.set(t());return i(),dd(()=>{const a=()=>Fe.preRender(i,!1,!0),c=e.map(u=>u.on("change",a));return()=>{c.forEach(u=>u()),Wn(i)}}),r}const bj=e=>e&&typeof e=="object"&&e.mix,kj=e=>bj(e)?e.mix:void 0;function jj(...e){const t=!Array.isArray(e[0]),r=t?0:-1,i=e[0+r],a=e[1+r],c=e[2+r],u=e[3+r],f=cy(a,c,{mixer:kj(c[0]),...u});return t?f(i):f}function Sj(e){Pi.current=[],e();const t=Dy(Pi.current,e);return Pi.current=void 0,t}function mg(e,t,r,i){if(typeof e=="function")return Sj(e);const a=typeof t=="function"?t:jj(t,r,i);return Array.isArray(e)?gg(e,a):gg([e],([c])=>a(c))}function gg(e,t){const r=Gi(()=>[]);return Dy(e,()=>{r.length=0;const i=e.length;for(let a=0;a<i;a++)r[a]=e[a].get();return t(r)})}/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Iy=(...e)=>e.filter((t,r,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:a="",children:c,iconNode:u,...f},h)=>j.createElement("svg",{ref:h,...Cj,width:t,height:t,stroke:e,strokeWidth:i?Number(r)*24/Number(t):r,className:Iy("lucide",a),...f},[...u.map(([m,y])=>j.createElement(m,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const r=j.forwardRef(({className:i,...a},c)=>j.createElement(Ej,{ref:c,iconNode:t,className:Iy(`lucide-${Nj(e)}`,i),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=xe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=xe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=xe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=xe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=xe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=xe("Container",[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=xe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=xe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=xe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=xe("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=xe("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=xe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=xe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=xe("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=xe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=xe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=xe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=xe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=xe("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=xe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=xe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=xe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=xe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=xe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=xe("Puzzle",[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=xe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=xe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=xe("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=xe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=xe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=xe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=xe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=xe("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=xe("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=xe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=xe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=xe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wg=e=>{let t;const r=new Set,i=(m,y)=>{const x=typeof m=="function"?m(t):m;if(!Object.is(x,t)){const v=t;t=y??(typeof x!="object"||x===null)?x:Object.assign({},t,x),r.forEach(w=>w(t,v))}},a=()=>t,f={setState:i,getState:a,getInitialState:()=>h,subscribe:m=>(r.add(m),()=>r.delete(m))},h=t=e(i,a,f);return f},$j=(e=>e?wg(e):wg),Uj=e=>e;function Wj(e,t=Uj){const r=ji.useSyncExternalStore(e.subscribe,ji.useCallback(()=>t(e.getState()),[e,t]),ji.useCallback(()=>t(e.getInitialState()),[e,t]));return ji.useDebugValue(r),r}const _g=e=>{const t=$j(e),r=i=>Wj(t,i);return Object.assign(r,t),r},Ji=(e=>e?_g(e):_g),Vo=Ji(e=>({notifications:[],addNotification:t=>{const r=`${Date.now()}-${Math.random().toString(36).slice(2,9)}`,i={...t,id:r,timestamp:Date.now()};e(a=>({notifications:[...a.notifications,i]})),setTimeout(()=>{e(a=>({notifications:a.notifications.filter(c=>c.id!==r)}))},5e3)},removeNotification:t=>{e(r=>({notifications:r.notifications.filter(i=>i.id!==t)}))},clearAll:()=>{e({notifications:[]})}})),bg={sessionId:"",question:"",agents:{},agentOrder:[],answers:[],voteDistribution:{},selectedAgent:void 0,finalAnswer:void 0,orchestratorEvents:[],isComplete:!1,selectingWinner:!1,error:void 0,theme:"dark",viewMode:"coordination",turnNumber:1,conversationHistory:[],agentUIState:{},restoredFromSnapshot:!1,automationMode:!1,logDir:void 0,initStatus:void 0,preparationStatus:void 0,preparationDetail:void 0},gu=()=>({dropdownOpen:!1}),Gj=(e,t)=>{const r=`${e}-round-0`;return{id:e,modelName:t,status:"waiting",content:[],currentContent:"",rounds:[{id:r,roundNumber:0,type:"answer",label:"current",content:"",startTimestamp:Date.now()}],currentRoundId:r,displayRoundId:r,answerCount:0,voteCount:0,files:[],toolCalls:[]}},ye=Ji((e,t)=>({...bg,initSession:(r,i,a,c,u)=>{const f={},h={};a.forEach(x=>{f[x]=Gj(x,u==null?void 0:u[x]),h[x]=gu()});const m=t(),y=m.turnNumber>1&&m.conversationHistory.length>0;e({sessionId:r,question:i,agents:f,agentOrder:a,answers:[],theme:c,isComplete:!1,selectingWinner:!1,error:void 0,voteDistribution:{},selectedAgent:void 0,finalAnswer:void 0,orchestratorEvents:[],viewMode:"coordination",agentUIState:h,restoredFromSnapshot:!1,...y?{conversationHistory:m.conversationHistory,turnNumber:m.turnNumber}:{conversationHistory:[{role:"user",content:i,turn:1}],turnNumber:1}})},updateAgentContent:(r,i,a)=>{e(c=>{const u=c.agents[r];if(!u)return c;const f=a==="status"&&i.includes("new_answer")?u.answerCount+1:u.answerCount,h=u.rounds.map(m=>m.id===u.currentRoundId?{...m,content:m.content+i}:m);return{agents:{...c.agents,[r]:{...u,content:[...u.content,i],currentContent:u.currentContent+i,rounds:h,answerCount:f}}}})},updateAgentStatus:(r,i)=>{e(a=>{const c=a.agents[r];return c?{agents:{...a.agents,[r]:{...c,status:i}}}:a})},addOrchestratorEvent:r=>{e(i=>({orchestratorEvents:[...i.orchestratorEvents,r]}))},updateVoteDistribution:r=>{e({voteDistribution:r})},recordVote:(r,i,a)=>{e(c=>{const u=c.agents[r];if(!u)return c;const h=c.agentOrder.every(N=>{var T;return(T=c.agents[N])==null?void 0:T.voteTarget});let m=c.voteDistribution,y=c.agents;h&&(console.log("[DEBUG] Starting new voting round - resetting vote distribution"),m={},y={...c.agents},c.agentOrder.forEach(N=>{y[N]&&(y[N]={...y[N],voteTarget:void 0,voteReason:void 0})}));const x={...m};x[i]=(x[i]||0)+1;const v={...y[r],voteTarget:i,voteReason:a,voteCount:u.voteCount+1},w={...y,[r]:v},_=c.agentOrder.length,S=Object.values(w).filter(N=>N.voteTarget).length>=_;return{agents:w,voteDistribution:x,selectingWinner:S}})},setConsensus:r=>{const i=t();i.closeAllDropdowns(),e({selectingWinner:!1});const a=t().agents[r];if(a){const c=a.rounds.find(u=>u.id===a.currentRoundId);c&&c.label==="current"?(console.log("[DEBUG] setConsensus: Renaming current round to final"),e(u=>{const f=u.agents[r];if(!f)return u;const h=f.rounds.map(m=>m.id===f.currentRoundId?{...m,label:"final"}:m);return{agents:{...u.agents,[r]:{...f,rounds:h}}}})):(console.log("[DEBUG] setConsensus: Creating new final round (current is finalized)"),i.startNewRound(r,"final","final"))}e({selectedAgent:r}),console.log("[DEBUG] setConsensus: Switching to finalStreaming"),e({viewMode:"finalStreaming"})},setFinalAnswer:(r,i,a)=>{const c=Date.now(),u=t();e({finalAnswer:"__PENDING__",selectedAgent:a}),!u.answers.find(h=>h.agentId===a&&h.id.includes("-final"))&&a&&u.addAnswer({id:`${a}-final-${c}`,agentId:a,answerNumber:0,content:"__PENDING__",timestamp:c,votes:0,isWinner:!0})},addAnswer:r=>{e(i=>{const a=i.agents[r.agentId],c=a?{...i.agents,[r.agentId]:{...a,answerCount:Math.max(a.answerCount,r.answerNumber)}}:i.agents;return{answers:[...i.answers,r],agents:c}})},addFileChange:(r,i)=>{e(a=>{const c=a.agents[r];return c?{agents:{...a.agents,[r]:{...c,files:[...c.files,i]}}}:a})},addToolCall:(r,i)=>{e(a=>{const c=a.agents[r];return c?{agents:{...a.agents,[r]:{...c,toolCalls:[...c.toolCalls,i]}}}:a})},updateToolResult:(r,i,a,c)=>{e(u=>{const f=u.agents[r];if(!f)return u;const h=f.toolCalls.map(m=>m.id===i||!i&&m.result===void 0?{...m,result:a,success:c}:m);return{agents:{...u.agents,[r]:{...f,toolCalls:h}}}})},setError:r=>{e({error:r})},setComplete:r=>{const i=t();if(r){const a=Object.fromEntries(Object.entries(i.agents).map(([c,u])=>[c,{...u,status:"completed"}]));e({isComplete:r,agents:a}),i.selectedAgent&&(console.log("[DEBUG] setComplete: Fetching clean final answer"),t().fetchCleanFinalAnswer())}else e({isComplete:r})},setViewMode:r=>{e({viewMode:r})},backToCoordination:()=>{e({viewMode:"coordination"})},fetchCleanFinalAnswer:async()=>{const r=t();if(r.sessionId){try{const i=await fetch(`/api/sessions/${r.sessionId}/final-answer`);if(i.ok){const a=await i.json();if(a.answer){console.log("[DEBUG] Fetched clean final answer from API"),e({finalAnswer:a.answer});const c=r.selectedAgent;c&&e(u=>({answers:u.answers.map(f=>f.agentId===c&&f.answerNumber===0?{...f,content:a.answer}:f)}))}}else console.log("[DEBUG] API returned non-OK status, using streamed content")}catch(i){console.error("[DEBUG] Failed to fetch clean final answer:",i)}console.log("[DEBUG] Transitioning to finalComplete"),e({viewMode:"finalComplete"})}},startNewRound:(r,i,a)=>{e(c=>{const u=c.agents[r];if(!u)return c;console.log("[DEBUG] startNewRound called:",{agentId:r,roundType:i,customLabel:a,currentRoundId:u.currentRoundId,currentRounds:u.rounds.map(N=>({id:N.id,label:N.label,hasEndTimestamp:!!N.endTimestamp}))});const f=c.agentOrder.indexOf(r)+1,m=u.rounds.filter(N=>N.type==="answer"&&N.label!=="current").length+1,y=`answer${f}.${m}`,x=Date.now(),v=`${r}-round-${u.rounds.length}`,w=u.rounds.map(N=>{if(N.id===u.currentRoundId&&!N.endTimestamp){const T=N.label==="current"?y:N.label;return{...N,endTimestamp:x,label:T}}return N}),_=a==="final"?"final":"current",k=i==="answer"?m+1:u.rounds.filter(N=>N.type===i&&N.label!=="current").length+1,S={id:v,roundNumber:k,type:i,label:_,content:"",startTimestamp:x};return console.log("[DEBUG] startNewRound creating:",{newRoundId:v,newRoundLabel:_,totalRoundsAfter:w.length+1}),{agents:{...c.agents,[r]:{...u,rounds:[...w,S],currentRoundId:v,displayRoundId:v,currentContent:"",voteCount:i==="vote"?u.voteCount+1:u.voteCount}}}})},finalizeRoundWithLabel:(r,i,a=!0)=>{e(c=>{var x;const u=c.agents[r];if(!u)return c;const f=Date.now(),h=u.rounds.find(v=>v.id===u.currentRoundId);console.log("[DEBUG] finalizeRoundWithLabel called:",{agentId:r,label:i,createNewRound:a,currentRoundId:u.currentRoundId,currentRoundLabel:h==null?void 0:h.label,currentRoundContentPreview:(x=h==null?void 0:h.content)==null?void 0:x.substring(0,100),allRounds:u.rounds.map(v=>{var w;return{id:v.id,label:v.label,contentLen:(w=v.content)==null?void 0:w.length}})});const m=u.rounds.map(v=>v.id===u.currentRoundId&&v.label==="current"?{...v,endTimestamp:f,label:i}:v),y=u.currentRoundId;if(a){const v=`${r}-round-${u.rounds.length}`,w={id:v,roundNumber:u.rounds.length,type:"answer",label:"current",content:"",startTimestamp:f};return{agents:{...c.agents,[r]:{...u,rounds:[...m,w],currentRoundId:v,displayRoundId:v,currentContent:""}}}}return{agents:{...c.agents,[r]:{...u,rounds:m,displayRoundId:y,currentContent:(h==null?void 0:h.content)||""}}}})},setAgentRound:(r,i)=>{e(a=>{const c=a.agents[r];if(!c)return a;const u=c.rounds.find(f=>f.id===i);return u?{agents:{...a.agents,[r]:{...c,displayRoundId:i,currentContent:u.content}}}:a})},reset:()=>{e(bg)},addToConversationHistory:(r,i)=>{e(a=>({conversationHistory:[...a.conversationHistory,{role:r,content:i,turn:a.turnNumber}]}))},startContinuation:r=>{e(i=>{const c=[...i.finalAnswer?[...i.conversationHistory,{role:"assistant",content:i.finalAnswer,turn:i.turnNumber}]:i.conversationHistory,{role:"user",content:r,turn:i.turnNumber+1}],u={},f={};return i.agentOrder.forEach(h=>{const m=i.agents[h],y=`${h}-round-0`;u[h]={id:h,modelName:m==null?void 0:m.modelName,status:"waiting",content:[],currentContent:"",rounds:[{id:y,roundNumber:0,type:"answer",label:"current",content:"",startTimestamp:Date.now()}],currentRoundId:y,displayRoundId:y,answerCount:0,voteCount:0,files:[],toolCalls:[]},f[h]=gu()}),{question:r,agents:u,answers:[],voteDistribution:{},selectedAgent:void 0,finalAnswer:void 0,orchestratorEvents:[],isComplete:!1,selectingWinner:!1,error:void 0,viewMode:"coordination",turnNumber:i.turnNumber+1,conversationHistory:c,agentUIState:f}})},setAgentDropdownOpen:(r,i)=>{e(a=>({agentUIState:{...a.agentUIState,[r]:{...a.agentUIState[r]||gu(),dropdownOpen:i}}}))},closeAllDropdowns:()=>{e(r=>{const i={};return Object.entries(r.agentUIState).forEach(([a,c])=>{i[a]={...c,dropdownOpen:!1}}),{agentUIState:i}})},setPreparationStatus:(r,i)=>{e({preparationStatus:r,preparationDetail:i})},processWSEvent:r=>{const i=t();switch(r.type!=="agent_content"&&r.type!=="keepalive"&&console.log("[DEBUG] WebSocket event:",r.type,r),r.type){case"preparation_status":"status"in r&&i.setPreparationStatus(r.status,"detail"in r?r.detail:void 0);break;case"init":"agents"in r&&"question"in r?(e({initStatus:void 0}),i.setPreparationStatus(void 0,void 0),"automation_mode"in r&&e({automationMode:r.automation_mode}),"log_dir"in r&&e({logDir:r.log_dir}),i.initSession(r.session_id,r.question,r.agents,"theme"in r?r.theme:"dark","agent_models"in r?r.agent_models:void 0)):"automation_mode"in r&&e({automationMode:r.automation_mode});break;case"agent_content":"agent_id"in r&&"content"in r&&i.updateAgentContent(r.agent_id,r.content,"content_type"in r?r.content_type:"thinking");break;case"agent_status":"agent_id"in r&&"status"in r&&i.updateAgentStatus(r.agent_id,r.status);break;case"orchestrator_event":"event"in r&&i.addOrchestratorEvent(r.event);break;case"vote_cast":if(console.log("[DEBUG] vote_cast event received:",r),"voter_id"in r&&"target_id"in r){const a=t().agents[r.voter_id],c=a?a.voteCount+1:1,f=`vote${t().agentOrder.indexOf(r.voter_id)+1}.${c}`;console.log(`[DEBUG] Processing vote_cast for ${r.voter_id}, label=${f}`),i.finalizeRoundWithLabel(r.voter_id,f,!1),i.recordVote(r.voter_id,r.target_id,"reason"in r?r.reason:"");const h=t().agents[r.voter_id],m=t().agents[r.target_id],y=m!=null&&m.modelName?`${r.target_id} (${m.modelName})`:r.target_id;Vo.getState().addNotification({type:"vote",title:`${r.voter_id} voted`,message:`Voted for ${y}`,agentId:r.voter_id,modelName:h==null?void 0:h.modelName})}break;case"vote_distribution":"votes"in r&&i.updateVoteDistribution(r.votes);break;case"consensus_reached":"winner_id"in r&&i.setConsensus(r.winner_id);break;case"final_answer":"answer"in r&&i.setFinalAnswer(r.answer,"vote_results"in r?r.vote_results:{},"selected_agent"in r?r.selected_agent:"");break;case"new_answer":if(console.log("[DEBUG] new_answer event received:",r),"agent_id"in r&&"content"in r){const a=r,c=t().agents[a.agent_id];if(c&&c.voteCount>0){console.log(`[DEBUG] Skipping new_answer for ${a.agent_id} - agent has already voted (voteCount=${c.voteCount}), final answer handled by consensus_reached`);break}const u=t().agentOrder.indexOf(a.agent_id)+1,f=a.answer_number??1,h=a.answer_label||`answer${u}.${f}`;console.log(`[DEBUG] Processing new_answer for ${a.agent_id}, label=${h}, answerNumber=${f}`),i.finalizeRoundWithLabel(a.agent_id,h),i.addAnswer({id:a.answer_id??`${a.agent_id}-${Date.now()}`,agentId:a.agent_id,answerNumber:f,content:a.content,timestamp:a.timestamp<1e12?a.timestamp*1e3:a.timestamp,votes:0});const m=t().agents[a.agent_id],y=a.content.slice(0,100)+(a.content.length>100?"...":""),x=a.answer_id??`${a.agent_id}-${Date.now()}`;Vo.getState().addNotification({type:"answer",title:`New Answer from ${a.agent_id}`,message:y,agentId:a.agent_id,modelName:m==null?void 0:m.modelName,answerId:x})}break;case"restart":"reason"in r&&t().agentOrder.forEach(c=>{i.startNewRound(c,"answer")});break;case"file_change":"agent_id"in r&&"path"in r&&i.addFileChange(r.agent_id,{path:r.path,operation:"operation"in r?r.operation:"create",timestamp:r.timestamp<1e12?r.timestamp*1e3:r.timestamp,contentPreview:"content_preview"in r?r.content_preview:void 0});break;case"tool_call":"agent_id"in r&&"tool_name"in r&&i.addToolCall(r.agent_id,{id:"tool_id"in r?r.tool_id:void 0,name:r.tool_name,args:"tool_args"in r?r.tool_args:{},timestamp:r.timestamp<1e12?r.timestamp*1e3:r.timestamp});break;case"tool_result":"agent_id"in r&&"result"in r&&i.updateToolResult(r.agent_id,"tool_id"in r?r.tool_id:void 0,r.result,"success"in r?r.success:!0);break;case"error":"message"in r&&i.setError(r.message);break;case"done":case"coordination_complete":i.setComplete(!0),e({initStatus:void 0});break;case"init_status":"message"in r&&"step"in r&&"progress"in r&&e({initStatus:{message:r.message,step:r.step,progress:r.progress}});break;case"state_snapshot":if("agents"in r&&Array.isArray(r.agents)){const a=r;a.automation_mode!==void 0&&e({automationMode:a.automation_mode}),a.log_dir&&e({logDir:a.log_dir}),i.initSession(a.session_id,a.question||"",a.agents,a.theme||"dark",a.agent_models),a.agent_status&&Object.entries(a.agent_status).forEach(([c,u])=>{i.updateAgentStatus(c,u)}),a.agent_outputs&&e(c=>{const u={...c.agents};return Object.entries(a.agent_outputs).forEach(([f,h])=>{if(u[f]){const m=h.join(""),y=u[f].rounds.map((x,v)=>v===0?{...x,content:m}:x);u[f]={...u[f],rounds:y}}}),{agents:u}}),a.vote_distribution&&i.updateVoteDistribution(a.vote_distribution),a.vote_targets&&Object.entries(a.vote_targets).forEach(([c,u])=>{i.recordVote(c,u,"")}),a.final_answer&&a.selected_agent?(e({restoredFromSnapshot:!0}),i.setFinalAnswer(a.final_answer,{},a.selected_agent),i.setComplete(!0)):a.selected_agent&&(e({restoredFromSnapshot:!0}),fetch(`/api/sessions/${a.session_id}/final-answer`).then(c=>c.json()).then(c=>{c.answer&&(i.setFinalAnswer(c.answer,{},a.selected_agent),i.setComplete(!0))}).catch(()=>{}))}break}}})),zr=e=>e.agents,Zi=e=>e.agentOrder,Kd=e=>e.answers,Ky=e=>e.voteDistribution,$r=e=>e.selectedAgent,qy=e=>e.finalAnswer,qd=e=>e.isComplete,Yd=e=>e.question,Yy=e=>e.viewMode,Hj=e=>e.selectingWinner,Kj=e=>e.restoredFromSnapshot,qj=e=>e.automationMode,Yj=e=>e.logDir,Qj=e=>e.initStatus,Xj=e=>e.preparationStatus,Jj=e=>e.preparationDetail;function kg(e){if(!e)return e;let i=e.split(`
`).filter(a=>{const c=a.trim();return!(c.includes("[MCP]")||c.startsWith(" [MCP]")||c.startsWith(" [MCP]")||c.match(/^\d+ tools? available$/)||c.match(/^Connected to \d+ servers?$/))}).join(`
`);return i=i.replace(/\s*\[MCP\][^\n]*(?:\s*\[MCP\][^\n]*)?/g,""),i=i.replace(/\s*\[MCP\][^\n]*/g,""),i.trim()}const Zj=e=>{if(e.finalAnswer&&e.finalAnswer!=="__PENDING__"||!e.selectedAgent)return e.finalAnswer;const t=e.agents[e.selectedAgent];if(!t)return e.finalAnswer;const r=t.rounds.find(i=>i.label==="final");return r!=null&&r.content?kg(r.content):t.currentContent?kg(t.currentContent):e.finalAnswer};function eS(e,t,r){if(e.content==="__PENDING__"&&e.answerNumber===0){if(r&&r!=="__PENDING__")return r;const i=t[e.agentId];if(i){const a=i.rounds.find(c=>c.label==="final");if(a!=null&&a.content)return a.content;if(i.currentContent)return i.currentContent}}return e.content}function tS({sessionId:e,autoConnect:t=!0,reconnectAttempts:r=5,reconnectInterval:i=3e3}){const[a,c]=j.useState("disconnected"),[u,f]=j.useState(null),h=j.useRef(null),m=j.useRef(0),y=j.useRef(null),x=ye(R=>R.processWSEvent),v=j.useCallback(()=>{const R=window.location.protocol==="https:"?"wss:":"ws:",I=window.location.host;return`${R}//${I}/ws/${e}`},[e]),w=j.useCallback(R=>{try{const I=JSON.parse(R.data);x(I)}catch(I){console.error("Failed to parse WebSocket message:",I)}},[x]),_=j.useCallback(()=>{var R;if(((R=h.current)==null?void 0:R.readyState)!==WebSocket.OPEN){c("connecting"),f(null);try{const I=new WebSocket(v());I.onopen=()=>{c("connected"),m.current=0,console.log("WebSocket connected")},I.onmessage=w,I.onclose=G=>{c("disconnected"),console.log("WebSocket disconnected:",G.code,G.reason),G.code!==1e3&&m.current<r&&(m.current++,console.log(`Reconnecting... Attempt ${m.current}/${r}`),y.current=setTimeout(()=>{_()},i))},I.onerror=G=>{console.error("WebSocket error:",G),c("error"),f("WebSocket connection failed")},h.current=I}catch(I){console.error("Failed to create WebSocket:",I),c("error"),f(I instanceof Error?I.message:"Failed to connect")}}},[v,w,r,i]),k=j.useCallback(()=>{y.current&&(clearTimeout(y.current),y.current=null),h.current&&(h.current.close(1e3,"Client disconnect"),h.current=null),c("disconnected")},[]),S=j.useCallback(R=>{var I;((I=h.current)==null?void 0:I.readyState)===WebSocket.OPEN?h.current.send(JSON.stringify(R)):console.warn("WebSocket is not connected")},[]),N=j.useCallback((R,I)=>{S({action:"start",question:R,config:I})},[S]),T=j.useCallback(R=>{S({action:"continue",question:R})},[S]),E=j.useCallback(()=>{S({action:"cancel"})},[S]);return j.useEffect(()=>(t&&e&&_(),()=>{k()}),[t,e,_,k]),{status:a,connect:_,disconnect:k,send:S,startCoordination:N,continueConversation:T,cancelCoordination:E,error:u}}function nS(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var c;const u=h=>h===null?null:JSON.parse(h,void 0),f=(c=r.getItem(a))!=null?c:null;return f instanceof Promise?f.then(u):u(f)},setItem:(a,c)=>r.setItem(a,JSON.stringify(c,void 0)),removeItem:a=>r.removeItem(a)}}const Yu=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(i){return Yu(i)(r)},catch(i){return this}}}catch(r){return{then(i){return this},catch(i){return Yu(i)(r)}}}},rS=(e,t)=>(r,i,a)=>{let c={storage:nS(()=>localStorage),partialize:k=>k,version:0,merge:(k,S)=>({...S,...k}),...t},u=!1;const f=new Set,h=new Set;let m=c.storage;if(!m)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),r(...k)},i,a);const y=()=>{const k=c.partialize({...i()});return m.setItem(c.name,{state:k,version:c.version})},x=a.setState;a.setState=(k,S)=>(x(k,S),y());const v=e((...k)=>(r(...k),y()),i,a);a.getInitialState=()=>v;let w;const _=()=>{var k,S;if(!m)return;u=!1,f.forEach(T=>{var E;return T((E=i())!=null?E:v)});const N=((S=c.onRehydrateStorage)==null?void 0:S.call(c,(k=i())!=null?k:v))||void 0;return Yu(m.getItem.bind(m))(c.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==c.version){if(c.migrate){const E=c.migrate(T.state,T.version);return E instanceof Promise?E.then(R=>[!0,R]):[!0,E]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var E;const[R,I]=T;if(w=c.merge(I,(E=i())!=null?E:v),r(w,!0),R)return y()}).then(()=>{N==null||N(w,void 0),w=i(),u=!0,h.forEach(T=>T(w))}).catch(T=>{N==null||N(void 0,T)})};return a.persist={setOptions:k=>{c={...c,...k},k.storage&&(m=k.storage)},clearStorage:()=>{m==null||m.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>_(),hasHydrated:()=>u,onHydrate:k=>(f.add(k),()=>{f.delete(k)}),onFinishHydration:k=>(h.add(k),()=>{h.delete(k)})},c.skipHydration||_(),w||v},sS=rS;function yu(){return typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":"dark"}function Qu(e){if(typeof document<"u"){const t=document.documentElement;e==="dark"?t.classList.add("dark"):t.classList.remove("dark")}}const Fr=Ji()(sS((e,t)=>({mode:"dark",setMode:r=>{e({mode:r});const i=r==="system"?yu():r;Qu(i)},getEffectiveTheme:()=>{const{mode:r}=t();return r==="system"?yu():r}}),{name:"massgen-theme",onRehydrateStorage:()=>e=>{if(e){const t=e.mode==="system"?yu():e.mode;Qu(t)}}}));typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{const{mode:e,getEffectiveTheme:t}=Fr.getState();e==="system"&&Qu(t())});const iS=e=>e.mode,aS=e=>e.setMode;function oS(e){return e?e.split(`
`).map((r,i)=>r.includes("")||r.includes("Tool:")||r.includes("tool_call")?o.jsxs("span",{className:"text-blue-400",children:[r,`
`]},i):r.includes("")||r.includes("")?o.jsxs("span",{className:"text-green-400",children:[r,`
`]},i):r.includes("")||r.includes("Error")||r.includes("error")?o.jsxs("span",{className:"text-red-400",children:[r,`
`]},i):r.includes("")||r.includes("vote")||r.includes("Vote")?o.jsxs("span",{className:"text-amber-400",children:[r,`
`]},i):r.includes("")||r.includes("new_answer")?o.jsxs("span",{className:"text-purple-400",children:[r,`
`]},i):o.jsxs("span",{children:[r,`
`]},i)):null}const lS={waiting:{color:"bg-gray-500",icon:nl,label:"Waiting"},working:{color:"bg-blue-500",icon:rt,label:"Working"},voting:{color:"bg-amber-500",icon:$n,label:"Voting"},completed:{color:"bg-green-500",icon:Ud,label:"Done"},failed:{color:"bg-red-500",icon:jt,label:"Failed"}};function Xu({agent:e,isWinner:t=!1,isVisible:r=!0,disableLayoutAnimation:i=!1}){var I,G,F;const a=j.useRef(null),c=j.useRef(null),u=ye(z=>z.setAgentRound),f=ye(z=>z.agentUIState[e.id]),h=ye(z=>z.setAgentDropdownOpen),m=ye(z=>z.closeAllDropdowns),y=(f==null?void 0:f.dropdownOpen)??!1,{color:x,icon:v,label:w}=lS[e.status],_=e.modelName?`${e.id} (${e.modelName})`:e.id,k=(I=e.rounds)==null?void 0:I.find(z=>z.id===e.displayRoundId),S=(k==null?void 0:k.label)||"current",N=(((G=e.rounds)==null?void 0:G.length)||0)>1,T=e.displayRoundId===e.currentRoundId,E=T&&e.currentContent?e.currentContent:(k==null?void 0:k.content)||e.currentContent||"";j.useEffect(()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)},[e.currentContent]),j.useEffect(()=>{const z=te=>{c.current&&!c.current.contains(te.target)&&y&&h(e.id,!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[y,e.id,h]);const R=()=>{y?h(e.id,!1):(m(),h(e.id,!0))};return o.jsxs(ie.div,{layout:!i,initial:{opacity:0,scale:.9},animate:{opacity:r?1:.3,scale:t&&!i?1.02:1},exit:{opacity:0,scale:.9},transition:{type:"spring",stiffness:300,damping:30},className:`
        flex flex-col h-full w-full
        bg-white dark:bg-gray-800 rounded-lg border-2 overflow-hidden
        ${t?"border-yellow-500 shadow-lg shadow-yellow-500/20":"border-gray-200 dark:border-gray-700"}
      `,children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-100/50 dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Di,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),o.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:_}),t&&o.jsx(ie.span,{initial:{scale:0},animate:{scale:1},className:"text-yellow-500 text-lg",children:""})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[N&&o.jsxs("div",{className:"relative",ref:c,children:[o.jsxs("button",{onClick:R,className:`flex items-center gap-1 px-2 py-1 text-xs bg-gray-200 dark:bg-gray-700
                         hover:bg-gray-300 dark:hover:bg-gray-600 rounded transition-colors`,children:[o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:S}),o.jsx(Nn,{className:`w-3 h-3 transition-transform ${y?"rotate-180":""}`})]}),y&&o.jsx("div",{className:"absolute right-0 top-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded shadow-lg z-10 min-w-[120px]",children:(F=e.rounds)==null?void 0:F.map(z=>o.jsx("button",{onClick:()=>{u(e.id,z.id),h(e.id,!1)},className:`w-full text-left px-3 py-1.5 text-xs hover:bg-gray-100 dark:hover:bg-gray-700
                               ${z.id===e.displayRoundId?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300"}`,children:z.label},z.id))})]}),o.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-full ${x}`,children:[o.jsx(v,{className:`w-3.5 h-3.5 text-white ${e.status==="working"?"animate-spin":""}`}),o.jsx("span",{className:"text-xs font-medium text-white",children:w})]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 px-3 py-2 bg-gray-100/50 dark:bg-gray-800/50 text-sm",children:[o.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["Answers: ",o.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:e.answerCount})]}),e.voteTarget&&o.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["Voted for:"," ",o.jsx("span",{className:"text-amber-600 dark:text-amber-400 font-medium",children:e.voteTarget})]})]}),o.jsx("div",{ref:a,className:"flex-1 p-3 overflow-y-auto custom-scrollbar text-sm font-mono",children:o.jsx("pre",{className:"whitespace-pre-wrap text-gray-700 dark:text-gray-300 leading-relaxed",children:E?o.jsxs(o.Fragment,{children:[oS(E),T&&e.status==="working"&&o.jsxs("span",{className:"text-blue-400",children:[o.jsx("span",{className:"streaming-dot",children:"."}),o.jsx("span",{className:"streaming-dot",children:"."}),o.jsx("span",{className:"streaming-dot",children:"."})]})]}):o.jsxs("span",{className:"text-gray-500 italic",children:[e.status==="working"?"Generating response":"Waiting",o.jsx("span",{className:"typing-dot",children:"."}),o.jsx("span",{className:"typing-dot",children:"."}),o.jsx("span",{className:"typing-dot",children:"."})]})})}),e.toolCalls.length>0&&o.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-2 bg-gray-100/30 dark:bg-gray-900/30",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Recent Tools:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:e.toolCalls.slice(-3).map((z,te)=>o.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${z.success===!1?"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300":z.result?"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300":"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300"}`,children:z.name},te))})]})]})}const xi=3,xu=360;function cS(){const e=ye(zr),t=ye(Zi),r=ye($r),i=ye(Yd),a=ye(Xj),c=ye(Jj),[u,f]=j.useState(0),h=Ly(0),m=t.length,y=Math.max(0,m-xi),x=m<=xi,v=x?t:t.slice(u,u+xi),w=!x&&u>0,_=!x&&u<y,k=j.useCallback(()=>{f(R=>Math.max(0,R-1))},[]),S=j.useCallback(()=>{f(R=>Math.min(y,R+1))},[y]),N=j.useCallback((R,I)=>{const G=xu/3;I.offset.x>G&&u>0?k():I.offset.x<-G&&u<y&&S()},[u,y,k,S]),T=mg(h,[-100,0],[0,.8]),E=mg(h,[0,100],[.8,0]);if(m===0){const R=i&&i.trim().length>0,I=a||(R?"Starting coordination...":"Waiting for prompt...");return o.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ie.div,{className:"w-3 h-3 bg-blue-500 rounded-full",animate:{scale:[1,1.3,1],opacity:[.5,1,.5]},transition:{repeat:1/0,duration:1.2,delay:0}}),o.jsx(ie.div,{className:"w-3 h-3 bg-purple-500 rounded-full",animate:{scale:[1,1.3,1],opacity:[.5,1,.5]},transition:{repeat:1/0,duration:1.2,delay:.2}}),o.jsx(ie.div,{className:"w-3 h-3 bg-blue-500 rounded-full",animate:{scale:[1,1.3,1],opacity:[.5,1,.5]},transition:{repeat:1/0,duration:1.2,delay:.4}})]}),o.jsx(ie.span,{className:"text-gray-500 dark:text-gray-400",animate:{opacity:[.5,1,.5]},transition:{repeat:1/0,duration:2},children:I}),c&&o.jsx(ie.span,{className:"text-gray-600 dark:text-gray-500 text-sm",initial:{opacity:0},animate:{opacity:.7},children:c})]})}if(x){const R=m===1?"grid-cols-1":m===2?"grid-cols-2":"grid-cols-3";return o.jsx("div",{className:`grid ${R} gap-4 py-4`,children:o.jsx(Ue,{mode:"popLayout",initial:!1,children:v.map(I=>{const G=e[I];return G?o.jsx(ie.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"spring",stiffness:300,damping:30},className:"h-[450px] min-w-0",children:o.jsx(Xu,{agent:G,isWinner:r===I,isVisible:!0})},I):null})})})}return o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:k,disabled:!w,className:`
          absolute left-0 top-1/2 -translate-y-1/2 z-10
          p-2 rounded-full bg-gray-800/80 border border-gray-600
          transition-opacity duration-200
          ${w?"opacity-100 hover:bg-gray-700":"opacity-30 cursor-not-allowed"}
        `,"aria-label":"Show previous agent",children:o.jsx($d,{className:"w-6 h-6 text-gray-300"})}),o.jsx("button",{onClick:S,disabled:!_,className:`
          absolute right-0 top-1/2 -translate-y-1/2 z-10
          p-2 rounded-full bg-gray-800/80 border border-gray-600
          transition-opacity duration-200
          ${_?"opacity-100 hover:bg-gray-700":"opacity-30 cursor-not-allowed"}
        `,"aria-label":"Show next agent",children:o.jsx(Qi,{className:"w-6 h-6 text-gray-300"})}),o.jsx(ie.div,{className:"absolute left-12 top-0 bottom-0 w-16 shadow-indicator-left z-5 pointer-events-none",style:{opacity:w?T:0},animate:{opacity:w?.8:0},children:w&&o.jsx(ie.div,{className:"absolute left-2 top-1/2 -translate-y-1/2",animate:{x:[-5,0,-5]},transition:{repeat:1/0,duration:2,ease:"easeInOut"},children:o.jsx("div",{className:"w-2 h-20 bg-gradient-to-r from-blue-500/50 to-transparent rounded-full"})})}),o.jsx(ie.div,{className:"absolute right-12 top-0 bottom-0 w-16 shadow-indicator-right z-5 pointer-events-none",style:{opacity:_?E:0},animate:{opacity:_?.8:0},children:_&&o.jsx(ie.div,{className:"absolute right-2 top-1/2 -translate-y-1/2",animate:{x:[5,0,5]},transition:{repeat:1/0,duration:2,ease:"easeInOut"},children:o.jsx("div",{className:"w-2 h-20 bg-gradient-to-l from-blue-500/50 to-transparent rounded-full"})})}),o.jsx(ie.div,{className:"flex gap-4 px-14 py-4 overflow-hidden cursor-grab active:cursor-grabbing",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.2,onDragEnd:N,style:{x:h},children:o.jsx(Ue,{mode:"popLayout",initial:!1,children:v.map(R=>{const I=e[R];return I?o.jsx(ie.div,{layout:!0,initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{type:"spring",stiffness:300,damping:30},style:{width:xu,minWidth:xu},className:"h-[450px]",children:o.jsx(Xu,{agent:I,isWinner:r===R,isVisible:!0})},R):null})})}),m>xi&&o.jsx("div",{className:"flex justify-center gap-2 mt-2",children:Array.from({length:m}).map((R,I)=>o.jsx("button",{onClick:()=>f(Math.min(I,y)),className:`
                w-2 h-2 rounded-full transition-all duration-200
                ${I>=u&&I<u+xi?"bg-blue-500 scale-125":"bg-gray-600 hover:bg-gray-500"}
              `,"aria-label":`Go to agent ${I+1}`},I))})]})}const uS={waiting:nl,working:rt,voting:$n,completed:Ud,failed:jt},dS={waiting:"bg-gray-600 text-gray-300",working:"bg-blue-600 text-blue-100",voting:"bg-amber-600 text-amber-100",completed:"bg-green-600 text-green-100",failed:"bg-red-600 text-red-100"};function fS(e,t,r=1){return`answer${t.indexOf(e)+1}.${r}`}function hS({onAgentClick:e}){const t=ye(zr),r=ye(Zi),i=ye($r),{workingCount:a,votedCount:c,voteDetails:u}=j.useMemo(()=>{let f=0,h=0;const m=[];return r.forEach(y=>{const x=t[y];if(x&&((x.status==="working"||x.status==="voting"&&!x.voteTarget)&&f++,x.voteTarget)){h++;const v=t[x.voteTarget],w=(v==null?void 0:v.answerCount)||1;m.push({voter:y,votedFor:x.voteTarget,answerLabel:fS(x.voteTarget,r,w)})}}),{workingCount:f,votedCount:h,voteDetails:m}},[t,r]);return o.jsxs("div",{className:"bg-gray-100/50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700 px-6 py-3",children:[o.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:r.map(f=>{const h=t[f];if(!h)return null;const m=uS[h.status],y=dS[h.status],x=i===f,v=!!h.voteTarget;return o.jsxs(ie.button,{onClick:()=>e==null?void 0:e(f),whileHover:{scale:1.05},whileTap:{scale:.95},className:`
                  flex items-center gap-2 px-3 py-1.5 rounded-full
                  transition-all duration-200 cursor-pointer
                  ${y}
                  ${x?"ring-2 ring-yellow-500 ring-offset-2 ring-offset-white dark:ring-offset-gray-900":""}
                  ${v&&!x?"ring-1 ring-amber-500/50":""}
                `,children:[o.jsx(m,{className:`w-4 h-4 ${h.status==="working"?"animate-spin":""}`}),o.jsx("span",{className:"text-sm font-medium",children:f}),o.jsxs("span",{className:"text-xs bg-black/20 px-1.5 rounded-full",children:["#",r.indexOf(f)+1]}),x&&o.jsx("span",{className:"text-sm",children:""})]},f)})}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-1 text-gray-600 dark:text-gray-400",children:[o.jsx(rt,{className:"w-4 h-4 text-blue-500"}),o.jsxs("span",{children:["Working: ",a]})]}),o.jsxs("div",{className:"flex items-center gap-1 text-gray-600 dark:text-gray-400",children:[o.jsx(Ud,{className:"w-4 h-4 text-green-500"}),o.jsxs("span",{children:["Voted: ",c]})]})]})]}),u.length>0&&o.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-2 mt-2 flex-wrap",children:u.map(f=>o.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 rounded text-xs",children:[o.jsx("span",{className:"font-medium",children:f.voter}),o.jsx(My,{className:"w-3 h-3"}),o.jsx("span",{className:"text-amber-600 dark:text-amber-200",children:f.answerLabel})]},f.voter))})]})}function pS(){const e=ye($r),t=ye(zr),r=ye(Yy),i=ye(Kj),[a,c]=j.useState(!1),u=r==="finalComplete"&&e&&!a&&!i,f=e?t[e]:null,h=f!=null&&f.modelName?`${e} (${f.modelName})`:e;return j.useEffect(()=>{if(u){const m=setTimeout(()=>{c(!0)},1500);return()=>clearTimeout(m)}},[u]),j.useEffect(()=>{r==="coordination"&&c(!1)},[r]),o.jsx(Ue,{children:u&&o.jsx(o.Fragment,{children:o.jsxs(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 pointer-events-none",children:[o.jsx(ie.div,{initial:{scale:.8,opacity:0},animate:{scale:1.5,opacity:[0,.3,0]},transition:{duration:1.5,ease:"easeOut"},className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-96 h-96 rounded-full bg-yellow-400 blur-3xl"})}),o.jsx(ie.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.4,type:"spring",stiffness:300},className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"bg-gray-900/95 border-2 border-yellow-500 rounded-2xl p-8 shadow-2xl shadow-yellow-500/30 final-answer-glow",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx(ie.div,{animate:{rotate:[0,10,-10,10,-10,0]},transition:{duration:.6,repeat:1},children:o.jsx(hr,{className:"w-16 h-16 text-yellow-500"})}),o.jsxs("div",{className:"text-center",children:[o.jsxs("h2",{className:"text-2xl font-bold text-yellow-400 flex items-center justify-center gap-2",children:[o.jsx(Mo,{className:"w-6 h-6"}),"Final Answer Ready!",o.jsx(Mo,{className:"w-6 h-6"})]}),o.jsxs("p",{className:"text-gray-400 mt-2",children:["Winner: ",o.jsx("span",{className:"text-yellow-300 font-semibold",children:h})]})]})]})})})]})})})}const vi=["docker","apiKeys","agentCount","setupMode","agentConfig","coordination","context","preview"],mS={voting_sensitivity:"lenient",answer_novelty_requirement:"lenient"},jg={isOpen:!1,currentStep:"docker",isLoading:!1,error:null,setupStatus:null,providers:[],dynamicModels:{},loadingModels:{},providerCapabilities:{},loadingCapabilities:{},contextPaths:[],useDocker:!0,agentCount:3,setupMode:"same",agents:[],coordinationSettings:mS,generatedConfig:null,generatedYaml:null,configFilename:"config",savedConfigPath:null},we=Ji()((e,t)=>({...jg,openWizard:()=>{e({isOpen:!0,currentStep:"docker"}),t().fetchSetupStatus(),t().fetchProviders()},closeWizard:()=>{e({isOpen:!1})},addContextPath:(r,i)=>{const{contextPaths:a}=t();e({contextPaths:[...a,{path:r,type:i}]})},removeContextPath:r=>{const{contextPaths:i}=t();e({contextPaths:i.filter((a,c)=>c!==r)})},updateContextPath:(r,i,a)=>{const{contextPaths:c}=t(),u=[...c];u[r]&&(u[r]={path:i,type:a},e({contextPaths:u}))},setStep:r=>{e({currentStep:r})},nextStep:()=>{const{currentStep:r,agentCount:i,providers:a}=t(),c=vi.indexOf(r);if(r==="docker"&&a.some(f=>f.has_api_key)){e({currentStep:"agentCount"});return}if(r==="agentCount"&&i===1){e({setupMode:"different",agents:[{id:"agent_a",provider:"",model:""}],currentStep:"agentConfig"});return}if(r==="setupMode"){const u=[];for(let f=0;f<i;f++)u.push({id:`agent_${String.fromCharCode(97+f)}`,provider:"",model:""});e({agents:u})}r==="context"&&t().generateConfig(),c<vi.length-1&&e({currentStep:vi[c+1]})},prevStep:()=>{const{currentStep:r,agentCount:i,providers:a}=t(),c=vi.indexOf(r);if(r==="agentCount"&&a.some(f=>f.has_api_key)){e({currentStep:"docker"});return}if(r==="agentConfig"&&i===1){e({currentStep:"agentCount"});return}c>0&&e({currentStep:vi[c-1]})},setUseDocker:r=>{e({useDocker:r})},setAgentCount:r=>{e({agentCount:r})},setSetupMode:r=>{e({setupMode:r})},setAgentConfig:(r,i,a,c)=>{const{agents:u}=t(),f=[...u];f[r]&&(f[r]={...f[r],provider:i,model:a,...c!==void 0&&{enable_web_search:c}},e({agents:f}))},setAllAgentsConfig:(r,i,a)=>{const{agents:c}=t(),u=c.map(f=>({...f,provider:r,model:i,...a!==void 0&&{enable_web_search:a}}));e({agents:u})},setAgentWebSearch:(r,i)=>{const{agents:a}=t(),c=[...a];c[r]&&(c[r]={...c[r],enable_web_search:i},e({agents:c}))},setAgentCodeExecution:(r,i)=>{const{agents:a}=t(),c=[...a];c[r]&&(c[r]={...c[r],enable_code_execution:i},e({agents:c}))},setAgentSystemMessage:(r,i)=>{const{agents:a}=t(),c=[...a];c[r]&&(c[r]={...c[r],system_message:i||void 0},e({agents:c}))},setCoordinationSettings:r=>{const{coordinationSettings:i}=t();e({coordinationSettings:{...i,...r}})},setConfigFilename:r=>{e({configFilename:r})},setGeneratedYaml:r=>{e({generatedYaml:r})},fetchSetupStatus:async()=>{e({isLoading:!0,error:null});try{const r=await fetch("/api/setup/status");if(!r.ok)throw new Error("Failed to fetch setup status");const i=await r.json();e({setupStatus:i,useDocker:i.docker_available})}catch(r){e({error:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},fetchProviders:async()=>{e({isLoading:!0,error:null});try{const r=await fetch("/api/providers");if(!r.ok)throw new Error("Failed to fetch providers");const i=await r.json();e({providers:i.providers})}catch(r){e({error:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},fetchDynamicModels:async r=>{const{dynamicModels:i,loadingModels:a}=t();if(i[r])return i[r];if(a[r])return[];e({loadingModels:{...a,[r]:!0}});try{const c=await fetch(`/api/providers/${r}/models`);if(!c.ok)throw new Error("Failed to fetch models");const f=(await c.json()).models||[];return e({dynamicModels:{...t().dynamicModels,[r]:f},loadingModels:{...t().loadingModels,[r]:!1}}),f}catch{return e({loadingModels:{...t().loadingModels,[r]:!1}}),[]}},fetchProviderCapabilities:async r=>{const{providerCapabilities:i,loadingCapabilities:a}=t();if(i[r])return i[r];if(a[r])return null;e({loadingCapabilities:{...a,[r]:!0}});try{const c=await fetch(`/api/providers/${r}/capabilities`);if(!c.ok)throw new Error("Failed to fetch capabilities");const u=await c.json();return e({providerCapabilities:{...t().providerCapabilities,[r]:u},loadingCapabilities:{...t().loadingCapabilities,[r]:!1}}),u}catch{return e({loadingCapabilities:{...t().loadingCapabilities,[r]:!1}}),null}},generateConfig:async()=>{const{agents:r,useDocker:i,coordinationSettings:a,contextPaths:c}=t();e({isLoading:!0,error:null});try{const u=await fetch("/api/config/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agents:r,use_docker:i,coordination:a,context_paths:c})});if(!u.ok){const h=await u.json();throw new Error(h.error||"Failed to generate config")}const f=await u.json();e({generatedConfig:f.config,generatedYaml:f.yaml})}catch(u){e({error:u instanceof Error?u.message:"Unknown error"})}finally{e({isLoading:!1})}},saveConfig:async()=>{const{generatedConfig:r,generatedYaml:i,configFilename:a}=t();if(!r&&!i)return e({error:"No config to save"}),!1;e({isLoading:!0,error:null});try{const u={filename:`${a||"config"}.yaml`};i&&(u.yaml_content=i),r&&(u.config=r);const f=await fetch("/api/config/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!f.ok){const m=await f.json();throw new Error(m.error||"Failed to save config")}const h=await f.json();return e({isLoading:!1,savedConfigPath:h.path}),!0}catch(c){return e({error:c instanceof Error?c.message:"Unknown error",isLoading:!1}),!1}},reset:()=>{e(jg)}})),gS=e=>e.contextPaths;function yS({currentSessionId:e,selectedConfig:t,onConfigChange:r,onSessionChange:i,onNewSession:a,onOpenAnswerBrowser:c,onOpenVoteBrowser:u,onViewConfig:f,answerCount:h,voteCount:m}){var W,J,le,ke;const[y,x]=j.useState([]),[v,w]=j.useState([]),[_,k]=j.useState(null),[S,N]=j.useState(!1),[T,E]=j.useState(!1),[R,I]=j.useState(!0),[G,F]=j.useState(""),[z,te]=j.useState(""),ge=Fr(iS),Pe=Fr(aS),Ae=we(B=>B.openWizard),Le=()=>{const B=["light","dark","system"],re=(B.indexOf(ge)+1)%B.length;Pe(B[re])},Se=ge==="light"?Fj:ge==="dark"?Dj:$y;j.useEffect(()=>{if(R||new URLSearchParams(window.location.search).get("config"))return;!t&&!_&&Ae()},[R,Ae,t,_]);const ue=j.useCallback(async()=>{try{const ee=await(await fetch("/api/configs")).json();x(ee.configs||[]),k(ee.default);const re=new URLSearchParams(window.location.search).get("config");!t&&!re&&ee.default&&r(ee.default)}catch(B){console.error("Failed to fetch configs:",B)}finally{I(!1)}},[t,r]),pe=j.useCallback(async()=>{try{const ee=await(await fetch("/api/sessions")).json();w(ee.sessions||[])}catch(B){console.error("Failed to fetch sessions:",B)}},[]);j.useEffect(()=>{ue(),pe();const B=setInterval(pe,5e3);return()=>clearInterval(B)},[ue,pe]);const ve=(G.trim()?y.filter(B=>B.name.toLowerCase().includes(G.toLowerCase())||B.category.toLowerCase().includes(G.toLowerCase())||B.path.toLowerCase().includes(G.toLowerCase())):y).filter(B=>B.category.toLowerCase()!=="ag2"&&!B.name.toLowerCase().startsWith("ag2")),q=ve.reduce((B,ee)=>{const re=ee.category||"root";return B[re]||(B[re]=[]),B[re].push(ee),B},{}),O=["user",...Object.keys(q).filter(B=>B!=="user").sort()].filter(B=>q[B]),L=t?((W=y.find(B=>B.path===t))==null?void 0:W.name)||((J=y.find(B=>B.path.endsWith("/"+t)))==null?void 0:J.name)||((le=t.split("/").pop())==null?void 0:le.replace(".yaml","").replace(".json",""))||"Selected":"Select Config";return o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>{const B=!S;N(B),E(!1),B||F("")},className:`flex items-center gap-1.5 px-2.5 py-1.5 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600
                   rounded-lg border border-gray-300 dark:border-gray-600 text-sm transition-colors`,children:[o.jsx(Gd,{className:"w-4 h-4 text-blue-400"}),o.jsx("span",{className:"max-w-[140px] truncate",children:R?"Loading...":L}),o.jsx(Nn,{className:`w-3 h-3 transition-transform ${S?"rotate-180":""}`})]}),o.jsx(Ue,{children:S&&o.jsxs(ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`absolute right-0 mt-2 w-80 max-h-[400px] overflow-y-auto
                       bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50`,children:[o.jsxs("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-800 z-10",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Oo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",value:G,onChange:B=>F(B.target.value),placeholder:"Search configs...",className:`w-full pl-9 pr-8 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600
                             rounded-lg text-sm text-gray-900 dark:text-gray-100 placeholder-gray-500
                             focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`,autoFocus:!0,onClick:B=>B.stopPropagation()}),G&&o.jsx("button",{onClick:B=>{B.stopPropagation(),F("")},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",children:o.jsx(pn,{className:"w-4 h-4 text-gray-400"})})]}),t&&o.jsxs("button",{onClick:()=>{f(),N(!1)},className:`w-full flex items-center justify-center gap-2 mt-2 px-3 py-1.5 text-xs
                             text-gray-500 hover:text-gray-700 dark:hover:text-gray-300
                             bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600
                             border border-gray-300 dark:border-gray-600 rounded-lg transition-colors`,children:[o.jsx(Ii,{className:"w-3 h-3"}),"View Config File"]})]}),_&&!G&&o.jsxs("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Default (from CLI)"}),o.jsx("button",{onClick:()=>{r(_),N(!1)},className:`w-full text-left px-3 py-2 rounded text-sm truncate
                             ${t===_?"bg-blue-600 text-white":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:((ke=y.find(B=>B.path===_))==null?void 0:ke.name)||_})]}),O.map(B=>o.jsxs("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700 last:border-0",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1 uppercase tracking-wide",children:B==="root"?"General":B==="user"?"Your Config":B}),q[B].map(ee=>o.jsx("button",{onClick:()=>{r(ee.path),N(!1)},className:`w-full text-left px-3 py-2 rounded text-sm truncate
                               ${t===ee.path?"bg-blue-600 text-white":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"}`,title:ee.path,children:ee.name},ee.path))]},B)),ve.length===0&&!R&&o.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:G?`No configs matching "${G}"`:"No configs found"})]})})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>{const B=!T;E(B),N(!1),F(""),B&&te("")},className:`flex items-center gap-1.5 px-2.5 py-1.5 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600
                   rounded-lg border border-gray-300 dark:border-gray-600 text-sm transition-colors`,children:[o.jsx(Hd,{className:"w-4 h-4 text-purple-400"}),o.jsxs("span",{children:["Sessions (",v.length,")"]}),o.jsx(Nn,{className:`w-3 h-3 transition-transform ${T?"rotate-180":""}`})]}),o.jsx(Ue,{children:T&&o.jsxs(ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`absolute right-0 mt-2 w-80 max-h-[400px] overflow-y-auto
                       bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl z-50`,children:[o.jsxs("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Oo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",value:z,onChange:B=>te(B.target.value),onKeyDown:B=>{B.key==="Enter"&&z.trim()&&(i(z.trim()),E(!1),te(""))},placeholder:"Enter session ID...",className:`w-full pl-9 pr-8 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600
                             rounded-lg text-sm text-gray-900 dark:text-gray-100 placeholder-gray-500
                             focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent font-mono`,onClick:B=>B.stopPropagation()}),z&&o.jsx("button",{onClick:B=>{B.stopPropagation(),te("")},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",children:o.jsx(pn,{className:"w-4 h-4 text-gray-400"})})]}),z&&o.jsx("div",{className:"mt-1 max-h-24 overflow-y-auto",children:v.filter(B=>B.session_id.toLowerCase().includes(z.toLowerCase())).slice(0,3).map(B=>o.jsx("button",{onClick:()=>{i(B.session_id),E(!1),te("")},className:`w-full text-left px-3 py-1 text-xs font-mono text-gray-600 dark:text-gray-400
                                   hover:bg-gray-100 dark:hover:bg-gray-700 rounded truncate`,children:B.session_id},B.session_id))})]}),o.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700",children:o.jsxs("button",{onClick:()=>{a(),E(!1),setTimeout(pe,500)},className:`w-full flex items-center gap-2 px-3 py-2 rounded text-sm
                           bg-green-600 hover:bg-green-500 text-white transition-colors`,children:[o.jsx(sl,{className:"w-4 h-4"}),"New Session"]})}),v.filter(B=>B.status==="active"||B.is_running||B.connections>0).length>0&&o.jsxs("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Active Sessions"}),o.jsx("button",{onClick:pe,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"Refresh",children:o.jsx(mr,{className:"w-3 h-3 text-gray-500"})})]}),v.filter(B=>B.status==="active"||B.is_running||B.connections>0).map(B=>o.jsxs("button",{onClick:()=>{i(B.session_id),E(!1)},className:`w-full text-left px-3 py-2 rounded text-sm mb-1
                                 ${e===B.session_id?"bg-purple-600 text-white":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"font-mono text-xs truncate max-w-[180px]",children:[B.session_id.slice(0,8),"..."]}),o.jsxs("div",{className:"flex items-center gap-2",children:[B.is_running&&o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),o.jsxs("span",{className:"text-xs text-gray-400",children:[B.connections," conn"]})]})]}),B.question&&o.jsx("div",{className:"text-xs text-gray-400 truncate mt-1",children:B.question})]},B.session_id))]}),v.filter(B=>B.status==="completed"&&!B.is_running&&B.connections===0).length>0&&o.jsxs("div",{className:"p-2",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Completed Sessions"}),v.filter(B=>B.status==="completed"&&!B.is_running&&B.connections===0).map(B=>o.jsxs("button",{onClick:()=>{i(B.session_id),E(!1)},className:`w-full text-left px-3 py-2 rounded text-sm mb-1
                                 ${e===B.session_id?"bg-purple-600 text-white":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"font-mono text-xs truncate max-w-[180px]",children:[B.session_id.slice(0,8),"..."]}),o.jsx("span",{className:"text-xs text-gray-400",children:" done"})]}),B.question&&o.jsx("div",{className:"text-xs text-gray-400 truncate mt-1",children:B.question})]},B.session_id))]}),v.length===0&&o.jsx("div",{className:"p-2 text-gray-500 text-sm text-center py-4",children:"No sessions"})]})})]}),o.jsxs("button",{onClick:c,className:`flex items-center gap-1.5 px-2.5 py-1.5 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600
                 rounded-lg border border-gray-300 dark:border-gray-600 text-sm transition-colors`,title:"Browse Answers",children:[o.jsx(Cn,{className:"w-4 h-4 text-blue-500 dark:text-blue-400"}),o.jsx("span",{children:"Answers"}),h>0&&o.jsx("span",{className:"px-1.5 py-0.5 bg-blue-600 text-white rounded-full text-xs min-w-[1.25rem] text-center",children:h})]}),o.jsxs("button",{onClick:u,className:`flex items-center gap-1.5 px-2.5 py-1.5 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600
                 rounded-lg border border-gray-300 dark:border-gray-600 text-sm transition-colors`,title:"Browse Votes",children:[o.jsx($n,{className:"w-4 h-4 text-amber-500 dark:text-amber-400"}),o.jsx("span",{children:"Votes"}),m>0&&o.jsx("span",{className:"px-1.5 py-0.5 bg-amber-600 text-white rounded-full text-xs min-w-[1.25rem] text-center",children:m})]}),o.jsx("button",{onClick:Le,className:`p-1.5 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600
                 rounded-lg border border-gray-300 dark:border-gray-600 transition-colors`,title:`Theme: ${ge} (click to cycle)`,children:o.jsx(Se,{className:"w-4 h-4 text-amber-500 dark:text-yellow-400"})}),o.jsxs("a",{href:"/setup",className:`flex items-center gap-1.5 px-2.5 py-1.5 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600
                 rounded-lg border border-gray-300 dark:border-gray-600 text-sm transition-colors`,title:"Open Setup Page",children:[o.jsx(zj,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),o.jsx("span",{children:"Setup"})]}),o.jsxs("button",{onClick:Ae,className:`flex items-center gap-1.5 px-2.5 py-1.5 bg-gradient-to-r from-blue-500 to-purple-500
                 hover:from-blue-600 hover:to-purple-600 rounded-lg text-sm text-white transition-all`,title:"Open Quickstart Wizard",children:[o.jsx(qu,{className:"w-4 h-4"}),o.jsx("span",{children:"Quickstart"})]}),o.jsx("button",{className:"p-1.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Settings",children:o.jsx(Wy,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})})]})}const xS="modulepreload",vS=function(e){return"/"+e},Sg={},C=function(t,r,i){let a=Promise.resolve();if(r&&r.length>0){let u=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=u(r.map(m=>{if(m=vS(m),m in Sg)return;Sg[m]=!0;const y=m.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${x}`))return;const v=document.createElement("link");if(v.rel=y?"stylesheet":xS,y||(v.as="script"),v.crossOrigin="",v.href=m,h&&v.setAttribute("nonce",h),document.head.appendChild(v),y)return new Promise((w,_)=>{v.addEventListener("load",w),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&c(f.reason);return t().catch(c)})},Qy=[{id:"abap",name:"ABAP",import:()=>C(()=>import("./abap-DsBKuouk.js"),[])},{id:"actionscript-3",name:"ActionScript",import:()=>C(()=>import("./actionscript-3-D_z4Izcz.js"),[])},{id:"ada",name:"Ada",import:()=>C(()=>import("./ada-727ZlQH0.js"),[])},{id:"angular-html",name:"Angular HTML",import:()=>C(()=>import("./angular-html-LfdN0zeE.js").then(e=>e.f),__vite__mapDeps([0,1,2,3]))},{id:"angular-ts",name:"Angular TypeScript",import:()=>C(()=>import("./angular-ts-CKsD7JZE.js"),__vite__mapDeps([4,0,1,2,3,5]))},{id:"apache",name:"Apache Conf",import:()=>C(()=>import("./apache-Dn00JSTd.js"),[])},{id:"apex",name:"Apex",import:()=>C(()=>import("./apex-COJ4H7py.js"),[])},{id:"apl",name:"APL",import:()=>C(()=>import("./apl-BBq3IX1j.js"),__vite__mapDeps([6,1,2,3,7,8,9]))},{id:"applescript",name:"AppleScript",import:()=>C(()=>import("./applescript-Bu5BbsvL.js"),[])},{id:"ara",name:"Ara",import:()=>C(()=>import("./ara-7O62HKoU.js"),[])},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:()=>C(()=>import("./asciidoc-BPT9niGB.js"),[])},{id:"asm",name:"Assembly",import:()=>C(()=>import("./asm-Dhn9LcZ4.js"),[])},{id:"astro",name:"Astro",import:()=>C(()=>import("./astro-CqkE3fuf.js"),__vite__mapDeps([10,9,2,11,3,12]))},{id:"awk",name:"AWK",import:()=>C(()=>import("./awk-eg146-Ew.js"),[])},{id:"ballerina",name:"Ballerina",import:()=>C(()=>import("./ballerina-Du268qiB.js"),[])},{id:"bat",name:"Batch File",aliases:["batch"],import:()=>C(()=>import("./bat-fje9CFhw.js"),[])},{id:"beancount",name:"Beancount",import:()=>C(()=>import("./beancount-BwXTMy5W.js"),[])},{id:"berry",name:"Berry",aliases:["be"],import:()=>C(()=>import("./berry-3xVqZejG.js"),[])},{id:"bibtex",name:"BibTeX",import:()=>C(()=>import("./bibtex-xW4inM5L.js"),[])},{id:"bicep",name:"Bicep",import:()=>C(()=>import("./bicep-DHo0CJ0O.js"),[])},{id:"blade",name:"Blade",import:()=>C(()=>import("./blade-a8OxSdnT.js"),__vite__mapDeps([13,1,2,3,7,8,14,9]))},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:()=>C(()=>import("./bsl-Dgyn0ogV.js"),__vite__mapDeps([15,16]))},{id:"c",name:"C",import:()=>C(()=>import("./c-C3t2pwGQ.js"),[])},{id:"cadence",name:"Cadence",aliases:["cdc"],import:()=>C(()=>import("./cadence-DNquZEk8.js"),[])},{id:"cairo",name:"Cairo",import:()=>C(()=>import("./cairo--RitsXJZ.js"),__vite__mapDeps([17,18]))},{id:"clarity",name:"Clarity",import:()=>C(()=>import("./clarity-BHOwM8T6.js"),[])},{id:"clojure",name:"Clojure",aliases:["clj"],import:()=>C(()=>import("./clojure-DxSadP1t.js"),[])},{id:"cmake",name:"CMake",import:()=>C(()=>import("./cmake-DbXoA79R.js"),[])},{id:"cobol",name:"COBOL",import:()=>C(()=>import("./cobol-PTqiYgYu.js"),__vite__mapDeps([19,1,2,3,8]))},{id:"codeowners",name:"CODEOWNERS",import:()=>C(()=>import("./codeowners-Bp6g37R7.js"),[])},{id:"codeql",name:"CodeQL",aliases:["ql"],import:()=>C(()=>import("./codeql-sacFqUAJ.js"),[])},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:()=>C(()=>import("./coffee-dyiR41kL.js"),__vite__mapDeps([20,2]))},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:()=>C(()=>import("./common-lisp-C7gG9l05.js"),[])},{id:"coq",name:"Coq",import:()=>C(()=>import("./coq-Dsg_Bt_b.js"),[])},{id:"cpp",name:"C++",aliases:["c++"],import:()=>C(()=>import("./cpp-BksuvNSY.js"),__vite__mapDeps([21,22,23,24,14]))},{id:"crystal",name:"Crystal",import:()=>C(()=>import("./crystal-DtDmRg-F.js"),__vite__mapDeps([25,1,2,3,14,24,26]))},{id:"csharp",name:"C#",aliases:["c#","cs"],import:()=>C(()=>import("./csharp-D9R-vmeu.js"),[])},{id:"css",name:"CSS",import:()=>C(()=>import("./css-BPhBrDlE.js"),[])},{id:"csv",name:"CSV",import:()=>C(()=>import("./csv-B0qRVHPH.js"),[])},{id:"cue",name:"CUE",import:()=>C(()=>import("./cue-DtFQj3wx.js"),[])},{id:"cypher",name:"Cypher",aliases:["cql"],import:()=>C(()=>import("./cypher-m2LEI-9-.js"),[])},{id:"d",name:"D",import:()=>C(()=>import("./d-BoXegm-a.js"),[])},{id:"dart",name:"Dart",import:()=>C(()=>import("./dart-B9wLZaAG.js"),[])},{id:"dax",name:"DAX",import:()=>C(()=>import("./dax-ClGRhx96.js"),[])},{id:"desktop",name:"Desktop",import:()=>C(()=>import("./desktop-DEIpsLCJ.js"),[])},{id:"diff",name:"Diff",import:()=>C(()=>import("./diff-BgYniUM_.js"),[])},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:()=>C(()=>import("./docker-COcR7UxN.js"),[])},{id:"dotenv",name:"dotEnv",import:()=>C(()=>import("./dotenv-BjQB5zDj.js"),[])},{id:"dream-maker",name:"Dream Maker",import:()=>C(()=>import("./dream-maker-C-nORZOA.js"),[])},{id:"edge",name:"Edge",import:()=>C(()=>import("./edge-D5gP-w-T.js"),__vite__mapDeps([27,11,1,2,3,28]))},{id:"elixir",name:"Elixir",import:()=>C(()=>import("./elixir-CLiX3zqd.js"),__vite__mapDeps([29,1,2,3]))},{id:"elm",name:"Elm",import:()=>C(()=>import("./elm-CmHSxxaM.js"),__vite__mapDeps([30,23,24]))},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:()=>C(()=>import("./emacs-lisp-BX77sIaO.js"),[])},{id:"erb",name:"ERB",import:()=>C(()=>import("./erb-BYTLMnw6.js"),__vite__mapDeps([31,1,2,3,32,33,7,8,14,34,11,35,36,21,22,23,24,26,37,38]))},{id:"erlang",name:"Erlang",aliases:["erl"],import:()=>C(()=>import("./erlang-B-DoSBHF.js"),[])},{id:"fennel",name:"Fennel",import:()=>C(()=>import("./fennel-bCA53EVm.js"),[])},{id:"fish",name:"Fish",import:()=>C(()=>import("./fish-w-ucz2PV.js"),[])},{id:"fluent",name:"Fluent",aliases:["ftl"],import:()=>C(()=>import("./fluent-Dayu4EKP.js"),[])},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:()=>C(()=>import("./fortran-fixed-form-TqA4NnZg.js"),__vite__mapDeps([39,40]))},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:()=>C(()=>import("./fortran-free-form-DKXYxT9g.js"),[])},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:()=>C(()=>import("./fsharp-XplgxFYe.js"),__vite__mapDeps([41,42]))},{id:"gdresource",name:"GDResource",import:()=>C(()=>import("./gdresource-BHYsBjWJ.js"),__vite__mapDeps([43,44,45]))},{id:"gdscript",name:"GDScript",import:()=>C(()=>import("./gdscript-DfxzS6Rs.js"),[])},{id:"gdshader",name:"GDShader",import:()=>C(()=>import("./gdshader-SKMF96pI.js"),[])},{id:"genie",name:"Genie",import:()=>C(()=>import("./genie-ajMbGru0.js"),[])},{id:"gherkin",name:"Gherkin",import:()=>C(()=>import("./gherkin--30QC5Em.js"),[])},{id:"git-commit",name:"Git Commit Message",import:()=>C(()=>import("./git-commit-i4q6IMui.js"),__vite__mapDeps([46,47]))},{id:"git-rebase",name:"Git Rebase Message",import:()=>C(()=>import("./git-rebase-B-v9cOL2.js"),__vite__mapDeps([48,26]))},{id:"gleam",name:"Gleam",import:()=>C(()=>import("./gleam-B430Bg39.js"),[])},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:()=>C(()=>import("./glimmer-js-D-cwc0-E.js"),__vite__mapDeps([49,2,11,3,1]))},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:()=>C(()=>import("./glimmer-ts-pgjy16dm.js"),__vite__mapDeps([50,11,3,2,1]))},{id:"glsl",name:"GLSL",import:()=>C(()=>import("./glsl-DBO2IWDn.js"),__vite__mapDeps([23,24]))},{id:"gnuplot",name:"Gnuplot",import:()=>C(()=>import("./gnuplot-CM8KxXT1.js"),[])},{id:"go",name:"Go",import:()=>C(()=>import("./go-B1SYOhNW.js"),[])},{id:"graphql",name:"GraphQL",aliases:["gql"],import:()=>C(()=>import("./graphql-cDcHW_If.js"),__vite__mapDeps([34,2,11,35,36]))},{id:"groovy",name:"Groovy",import:()=>C(()=>import("./groovy-DkBy-JyN.js"),[])},{id:"hack",name:"Hack",import:()=>C(()=>import("./hack-D1yCygmZ.js"),__vite__mapDeps([51,1,2,3,14]))},{id:"haml",name:"Ruby Haml",import:()=>C(()=>import("./haml-B2EZWmdv.js"),__vite__mapDeps([33,2,3]))},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:()=>C(()=>import("./handlebars-BQGss363.js"),__vite__mapDeps([52,1,2,3,38]))},{id:"haskell",name:"Haskell",aliases:["hs"],import:()=>C(()=>import("./haskell-BILxekzW.js"),[])},{id:"haxe",name:"Haxe",import:()=>C(()=>import("./haxe-C5wWYbrZ.js"),[])},{id:"hcl",name:"HashiCorp HCL",import:()=>C(()=>import("./hcl-HzYwdGDm.js"),[])},{id:"hjson",name:"Hjson",import:()=>C(()=>import("./hjson-T-Tgc4AT.js"),[])},{id:"hlsl",name:"HLSL",import:()=>C(()=>import("./hlsl-ifBTmRxC.js"),[])},{id:"html",name:"HTML",import:()=>C(()=>import("./html-C2L_23MC.js"),__vite__mapDeps([1,2,3]))},{id:"html-derivative",name:"HTML (Derivative)",import:()=>C(()=>import("./html-derivative-CSfWNPLT.js"),__vite__mapDeps([28,1,2,3]))},{id:"http",name:"HTTP",import:()=>C(()=>import("./http-FRrOvY1W.js"),__vite__mapDeps([53,26,9,7,8,34,2,11,35,36]))},{id:"hxml",name:"HXML",import:()=>C(()=>import("./hxml-TIA70rKU.js"),__vite__mapDeps([54,55]))},{id:"hy",name:"Hy",import:()=>C(()=>import("./hy-BMj5Y0dO.js"),[])},{id:"imba",name:"Imba",import:()=>C(()=>import("./imba-bv_oIlVt.js"),__vite__mapDeps([56,11]))},{id:"ini",name:"INI",aliases:["properties"],import:()=>C(()=>import("./ini-BjABl1g7.js"),[])},{id:"java",name:"Java",import:()=>C(()=>import("./java-xI-RfyKK.js"),[])},{id:"javascript",name:"JavaScript",aliases:["js"],import:()=>C(()=>import("./javascript-ySlJ1b_l.js"),[])},{id:"jinja",name:"Jinja",import:()=>C(()=>import("./jinja-DGy0s7-h.js"),__vite__mapDeps([57,1,2,3]))},{id:"jison",name:"Jison",import:()=>C(()=>import("./jison-BqZprYcd.js"),__vite__mapDeps([58,2]))},{id:"json",name:"JSON",import:()=>C(()=>import("./json-BQoSv7ci.js"),[])},{id:"json5",name:"JSON5",import:()=>C(()=>import("./json5-w8dY5SsB.js"),[])},{id:"jsonc",name:"JSON with Comments",import:()=>C(()=>import("./jsonc-TU54ms6u.js"),[])},{id:"jsonl",name:"JSON Lines",import:()=>C(()=>import("./jsonl-DREVFZK8.js"),[])},{id:"jsonnet",name:"Jsonnet",import:()=>C(()=>import("./jsonnet-BfivnA6A.js"),[])},{id:"jssm",name:"JSSM",aliases:["fsl"],import:()=>C(()=>import("./jssm-P4WzXJd0.js"),[])},{id:"jsx",name:"JSX",import:()=>C(()=>import("./jsx-BAng5TT0.js"),[])},{id:"julia",name:"Julia",aliases:["jl"],import:()=>C(()=>import("./julia-BBuGR-5E.js"),__vite__mapDeps([59,21,22,23,24,14,18,2,60]))},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:()=>C(()=>import("./kotlin-B5lbUyaz.js"),[])},{id:"kusto",name:"Kusto",aliases:["kql"],import:()=>C(()=>import("./kusto-mebxcVVE.js"),[])},{id:"latex",name:"LaTeX",import:()=>C(()=>import("./latex-C-cWTeAZ.js"),__vite__mapDeps([61,62,60]))},{id:"lean",name:"Lean 4",aliases:["lean4"],import:()=>C(()=>import("./lean-XBlWyCtg.js"),[])},{id:"less",name:"Less",import:()=>C(()=>import("./less-BfCpw3nA.js"),[])},{id:"liquid",name:"Liquid",import:()=>C(()=>import("./liquid-D3W5UaiH.js"),__vite__mapDeps([63,1,2,3,9]))},{id:"log",name:"Log file",import:()=>C(()=>import("./log-Cc5clBb7.js"),[])},{id:"logo",name:"Logo",import:()=>C(()=>import("./logo-IuBKFhSY.js"),[])},{id:"lua",name:"Lua",import:()=>C(()=>import("./lua-CvWAzNxB.js"),__vite__mapDeps([37,24]))},{id:"luau",name:"Luau",import:()=>C(()=>import("./luau-Du5NY7AG.js"),[])},{id:"make",name:"Makefile",aliases:["makefile"],import:()=>C(()=>import("./make-Bvotw-X0.js"),[])},{id:"markdown",name:"Markdown",aliases:["md"],import:()=>C(()=>import("./markdown-UIAJJxZW.js"),[])},{id:"marko",name:"Marko",import:()=>C(()=>import("./marko-z0MBrx5-.js"),__vite__mapDeps([64,3,65,5,2]))},{id:"matlab",name:"MATLAB",import:()=>C(()=>import("./matlab-D9-PGadD.js"),[])},{id:"mdc",name:"MDC",import:()=>C(()=>import("./mdc-DB_EDNY_.js"),__vite__mapDeps([66,42,38,28,1,2,3]))},{id:"mdx",name:"MDX",import:()=>C(()=>import("./mdx-sdHcTMYB.js"),[])},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:()=>C(()=>import("./mermaid-Ci6OQyBP.js"),[])},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:()=>C(()=>import("./mipsasm-BC5c_5Pe.js"),[])},{id:"mojo",name:"Mojo",import:()=>C(()=>import("./mojo-Tz6hzZYG.js"),[])},{id:"move",name:"Move",import:()=>C(()=>import("./move-DB_GagMm.js"),[])},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:()=>C(()=>import("./narrat-DLbgOhZU.js"),[])},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:()=>C(()=>import("./nextflow-B0XVJmRM.js"),[])},{id:"nginx",name:"Nginx",import:()=>C(()=>import("./nginx-D_VnBJ67.js"),__vite__mapDeps([67,37,24]))},{id:"nim",name:"Nim",import:()=>C(()=>import("./nim-ZlGxZxc3.js"),__vite__mapDeps([68,24,1,2,3,7,8,23,42]))},{id:"nix",name:"Nix",import:()=>C(()=>import("./nix-shcSOmrb.js"),[])},{id:"nushell",name:"nushell",aliases:["nu"],import:()=>C(()=>import("./nushell-D4Tzg5kh.js"),[])},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:()=>C(()=>import("./objective-c-Deuh7S70.js"),[])},{id:"objective-cpp",name:"Objective-C++",import:()=>C(()=>import("./objective-cpp-BUEGK8hf.js"),[])},{id:"ocaml",name:"OCaml",import:()=>C(()=>import("./ocaml-BNioltXt.js"),[])},{id:"pascal",name:"Pascal",import:()=>C(()=>import("./pascal-JqZropPD.js"),[])},{id:"perl",name:"Perl",import:()=>C(()=>import("./perl-CHQXSrWU.js"),__vite__mapDeps([69,1,2,3,7,8,14]))},{id:"php",name:"PHP",import:()=>C(()=>import("./php-B5ebYQev.js"),__vite__mapDeps([70,1,2,3,7,8,14,9]))},{id:"plsql",name:"PL/SQL",import:()=>C(()=>import("./plsql-LKU2TuZ1.js"),[])},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:()=>C(()=>import("./po-BFLt1xDp.js"),[])},{id:"polar",name:"Polar",import:()=>C(()=>import("./polar-DKykz6zU.js"),[])},{id:"postcss",name:"PostCSS",import:()=>C(()=>import("./postcss-B3ZDOciz.js"),[])},{id:"powerquery",name:"PowerQuery",import:()=>C(()=>import("./powerquery-CSHBycmS.js"),[])},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:()=>C(()=>import("./powershell-BIEUsx6d.js"),[])},{id:"prisma",name:"Prisma",import:()=>C(()=>import("./prisma-B48N-Iqd.js"),[])},{id:"prolog",name:"Prolog",import:()=>C(()=>import("./prolog-BY-TUvya.js"),[])},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:()=>C(()=>import("./proto-zocC4JxJ.js"),[])},{id:"pug",name:"Pug",aliases:["jade"],import:()=>C(()=>import("./pug-CM9l7STV.js"),__vite__mapDeps([71,2,3,1]))},{id:"puppet",name:"Puppet",import:()=>C(()=>import("./puppet-Cza_XSSt.js"),[])},{id:"purescript",name:"PureScript",import:()=>C(()=>import("./purescript-Bg-kzb6g.js"),[])},{id:"python",name:"Python",aliases:["py"],import:()=>C(()=>import("./python-DhUJRlN_.js"),[])},{id:"qml",name:"QML",import:()=>C(()=>import("./qml-D8XfuvdV.js"),__vite__mapDeps([72,2]))},{id:"qmldir",name:"QML Directory",import:()=>C(()=>import("./qmldir-C8lEn-DE.js"),[])},{id:"qss",name:"Qt Style Sheets",import:()=>C(()=>import("./qss-DhMKtDLN.js"),[])},{id:"r",name:"R",import:()=>C(()=>import("./r-CwjWoCRV.js"),[])},{id:"racket",name:"Racket",import:()=>C(()=>import("./racket-CzouJOBO.js"),[])},{id:"raku",name:"Raku",aliases:["perl6"],import:()=>C(()=>import("./raku-B1bQXN8T.js"),[])},{id:"razor",name:"ASP.NET Razor",import:()=>C(()=>import("./razor-CNLDkMZG.js"),__vite__mapDeps([73,1,2,3,74]))},{id:"reg",name:"Windows Registry Script",import:()=>C(()=>import("./reg-5LuOXUq_.js"),[])},{id:"regexp",name:"RegExp",aliases:["regex"],import:()=>C(()=>import("./regexp-DWJ3fJO_.js"),[])},{id:"rel",name:"Rel",import:()=>C(()=>import("./rel-DJlmqQ1C.js"),[])},{id:"riscv",name:"RISC-V",import:()=>C(()=>import("./riscv-QhoSD0DR.js"),[])},{id:"rst",name:"reStructuredText",import:()=>C(()=>import("./rst-4NLicBqY.js"),__vite__mapDeps([75,28,1,2,3,21,22,23,24,14,18,26,38,76,32,33,7,8,34,11,35,36,37]))},{id:"ruby",name:"Ruby",aliases:["rb"],import:()=>C(()=>import("./ruby-DeZ3UC14.js"),__vite__mapDeps([32,1,2,3,33,7,8,14,34,11,35,36,21,22,23,24,26,37,38]))},{id:"rust",name:"Rust",aliases:["rs"],import:()=>C(()=>import("./rust-Be6lgOlo.js"),[])},{id:"sas",name:"SAS",import:()=>C(()=>import("./sas-BmTFh92c.js"),__vite__mapDeps([77,14]))},{id:"sass",name:"Sass",import:()=>C(()=>import("./sass-BJ4Li9vH.js"),[])},{id:"scala",name:"Scala",import:()=>C(()=>import("./scala-DQVVAn-B.js"),[])},{id:"scheme",name:"Scheme",import:()=>C(()=>import("./scheme-BJGe-b2p.js"),[])},{id:"scss",name:"SCSS",import:()=>C(()=>import("./scss-C31hgJw-.js"),__vite__mapDeps([5,3]))},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:()=>C(()=>import("./sdbl-BLhTXw86.js"),[])},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:()=>C(()=>import("./shaderlab-B7qAK45m.js"),__vite__mapDeps([78,79]))},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:()=>C(()=>import("./shellscript-atvbtKCR.js"),[])},{id:"shellsession",name:"Shell Session",aliases:["console"],import:()=>C(()=>import("./shellsession-C_rIy8kc.js"),__vite__mapDeps([80,26]))},{id:"smalltalk",name:"Smalltalk",import:()=>C(()=>import("./smalltalk-DkLiglaE.js"),[])},{id:"solidity",name:"Solidity",import:()=>C(()=>import("./solidity-C1w2a3ep.js"),[])},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:()=>C(()=>import("./soy-C-lX7w71.js"),__vite__mapDeps([81,1,2,3]))},{id:"sparql",name:"SPARQL",import:()=>C(()=>import("./sparql-bYkjHRlG.js"),__vite__mapDeps([82,83]))},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:()=>C(()=>import("./splunk-Cf8iN4DR.js"),[])},{id:"sql",name:"SQL",import:()=>C(()=>import("./sql-COK4E0Yg.js"),[])},{id:"ssh-config",name:"SSH Config",import:()=>C(()=>import("./ssh-config-BknIz3MU.js"),[])},{id:"stata",name:"Stata",import:()=>C(()=>import("./stata-DorPZHa4.js"),__vite__mapDeps([84,14]))},{id:"stylus",name:"Stylus",aliases:["styl"],import:()=>C(()=>import("./stylus-BeQkCIfX.js"),[])},{id:"svelte",name:"Svelte",import:()=>C(()=>import("./svelte-MSaWC3Je.js"),__vite__mapDeps([85,2,11,3,12]))},{id:"swift",name:"Swift",import:()=>C(()=>import("./swift-BSxZ-RaX.js"),[])},{id:"system-verilog",name:"SystemVerilog",import:()=>C(()=>import("./system-verilog-C7L56vO4.js"),[])},{id:"systemd",name:"Systemd Units",import:()=>C(()=>import("./systemd-CUnW07Te.js"),[])},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:()=>C(()=>import("./talonscript-C1XDQQGZ.js"),[])},{id:"tasl",name:"Tasl",import:()=>C(()=>import("./tasl-CQjiPCtT.js"),[])},{id:"tcl",name:"Tcl",import:()=>C(()=>import("./tcl-DQ1-QYvQ.js"),[])},{id:"templ",name:"Templ",import:()=>C(()=>import("./templ-dwX3ZSMB.js"),__vite__mapDeps([86,87,2,3]))},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:()=>C(()=>import("./terraform-BbSNqyBO.js"),[])},{id:"tex",name:"TeX",import:()=>C(()=>import("./tex-rYs2v40G.js"),__vite__mapDeps([62,60]))},{id:"toml",name:"TOML",import:()=>C(()=>import("./toml-CB2ApiWb.js"),[])},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:()=>C(()=>import("./ts-tags-CipyTH0X.js"),__vite__mapDeps([88,11,3,2,23,24,1,14,7,8]))},{id:"tsv",name:"TSV",import:()=>C(()=>import("./tsv-B_m7g4N7.js"),[])},{id:"tsx",name:"TSX",import:()=>C(()=>import("./tsx-B6W0miNI.js"),[])},{id:"turtle",name:"Turtle",import:()=>C(()=>import("./turtle-BMR_PYu6.js"),[])},{id:"twig",name:"Twig",import:()=>C(()=>import("./twig-NC5TFiHP.js"),__vite__mapDeps([89,3,2,5,70,1,7,8,14,9,18,32,33,34,11,35,36,21,22,23,24,26,37,38]))},{id:"typescript",name:"TypeScript",aliases:["ts"],import:()=>C(()=>import("./typescript-Dj6nwHGl.js"),[])},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:()=>C(()=>import("./typespec-BpWG_bgh.js"),[])},{id:"typst",name:"Typst",aliases:["typ"],import:()=>C(()=>import("./typst-BVUVsWT6.js"),[])},{id:"v",name:"V",import:()=>C(()=>import("./v-CAQ2eGtk.js"),[])},{id:"vala",name:"Vala",import:()=>C(()=>import("./vala-BFOHcciG.js"),[])},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:()=>C(()=>import("./vb-CdO5JTpU.js"),[])},{id:"verilog",name:"Verilog",import:()=>C(()=>import("./verilog-CJaU5se_.js"),[])},{id:"vhdl",name:"VHDL",import:()=>C(()=>import("./vhdl-DYoNaHQp.js"),[])},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:()=>C(()=>import("./viml-m4uW47V2.js"),[])},{id:"vue",name:"Vue",import:()=>C(()=>import("./vue-BuYVFjOK.js"),__vite__mapDeps([90,1,2,3,11,9,28]))},{id:"vue-html",name:"Vue HTML",import:()=>C(()=>import("./vue-html-xdeiXROB.js"),__vite__mapDeps([91,90,1,2,3,11,9,28]))},{id:"vyper",name:"Vyper",aliases:["vy"],import:()=>C(()=>import("./vyper-nyqBNV6O.js"),[])},{id:"wasm",name:"WebAssembly",import:()=>C(()=>import("./wasm-C6j12Q_x.js"),[])},{id:"wenyan",name:"Wenyan",aliases:[""],import:()=>C(()=>import("./wenyan-7A4Fjokl.js"),[])},{id:"wgsl",name:"WGSL",import:()=>C(()=>import("./wgsl-CB0Krxn9.js"),[])},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:()=>C(()=>import("./wikitext-DCE3LsBG.js"),[])},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:()=>C(()=>import("./wolfram-C3FkfJm5.js"),[])},{id:"xml",name:"XML",import:()=>C(()=>import("./xml-e3z08dGr.js"),__vite__mapDeps([7,8]))},{id:"xsl",name:"XSL",import:()=>C(()=>import("./xsl-Dd0NUgwM.js"),__vite__mapDeps([92,7,8]))},{id:"yaml",name:"YAML",aliases:["yml"],import:()=>C(()=>import("./yaml-CVw76BM1.js"),[])},{id:"zenscript",name:"ZenScript",import:()=>C(()=>import("./zenscript-HnGAYVZD.js"),[])},{id:"zig",name:"Zig",import:()=>C(()=>import("./zig-BVz_zdnA.js"),[])}],wS=Object.fromEntries(Qy.map(e=>[e.id,e.import])),_S=Object.fromEntries(Qy.flatMap(e=>{var t;return((t=e.aliases)==null?void 0:t.map(r=>[r,e.import]))||[]})),bS={...wS,..._S},kS=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:()=>C(()=>import("./andromeeda-C3khCPGq.js"),[])},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:()=>C(()=>import("./aurora-x-D-2ljcwZ.js"),[])},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:()=>C(()=>import("./ayu-dark-Cv9koXgw.js"),[])},{id:"catppuccin-frappe",displayName:"Catppuccin Frapp",type:"dark",import:()=>C(()=>import("./catppuccin-frappe-CD_QflpE.js"),[])},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:()=>C(()=>import("./catppuccin-latte-DRW-0cLl.js"),[])},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:()=>C(()=>import("./catppuccin-macchiato-C-_shW-Y.js"),[])},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:()=>C(()=>import("./catppuccin-mocha-LGGdnPYs.js"),[])},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:()=>C(()=>import("./dark-plus-C3mMm8J8.js"),[])},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:()=>C(()=>import("./dracula-BzJJZx-M.js"),[])},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:()=>C(()=>import("./dracula-soft-BXkSAIEj.js"),[])},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:()=>C(()=>import("./everforest-dark-BgDCqdQA.js"),[])},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:()=>C(()=>import("./everforest-light-C8M2exoo.js"),[])},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:()=>C(()=>import("./github-dark-DHJKELXO.js"),[])},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:()=>C(()=>import("./github-dark-default-Cuk6v7N8.js"),[])},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:()=>C(()=>import("./github-dark-dimmed-DH5Ifo-i.js"),[])},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:()=>C(()=>import("./github-dark-high-contrast-E3gJ1_iC.js"),[])},{id:"github-light",displayName:"GitHub Light",type:"light",import:()=>C(()=>import("./github-light-DAi9KRSo.js"),[])},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:()=>C(()=>import("./github-light-default-D7oLnXFd.js"),[])},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:()=>C(()=>import("./github-light-high-contrast-BfjtVDDH.js"),[])},{id:"houston",displayName:"Houston",type:"dark",import:()=>C(()=>import("./houston-DnULxvSX.js"),[])},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:()=>C(()=>import("./kanagawa-dragon-CkXjmgJE.js"),[])},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:()=>C(()=>import("./kanagawa-lotus-CfQXZHmo.js"),[])},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:()=>C(()=>import("./kanagawa-wave-DWedfzmr.js"),[])},{id:"laserwave",displayName:"LaserWave",type:"dark",import:()=>C(()=>import("./laserwave-DUszq2jm.js"),[])},{id:"light-plus",displayName:"Light Plus",type:"light",import:()=>C(()=>import("./light-plus-B7mTdjB0.js"),[])},{id:"material-theme",displayName:"Material Theme",type:"dark",import:()=>C(()=>import("./material-theme-D5KoaKCx.js"),[])},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:()=>C(()=>import("./material-theme-darker-BfHTSMKl.js"),[])},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:()=>C(()=>import("./material-theme-lighter-B0m2ddpp.js"),[])},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:()=>C(()=>import("./material-theme-ocean-CyktbL80.js"),[])},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:()=>C(()=>import("./material-theme-palenight-Csfq5Kiy.js"),[])},{id:"min-dark",displayName:"Min Dark",type:"dark",import:()=>C(()=>import("./min-dark-CafNBF8u.js"),[])},{id:"min-light",displayName:"Min Light",type:"light",import:()=>C(()=>import("./min-light-CTRr51gU.js"),[])},{id:"monokai",displayName:"Monokai",type:"dark",import:()=>C(()=>import("./monokai-D4h5O-jR.js"),[])},{id:"night-owl",displayName:"Night Owl",type:"dark",import:()=>C(()=>import("./night-owl-C39BiMTA.js"),[])},{id:"nord",displayName:"Nord",type:"dark",import:()=>C(()=>import("./nord-Ddv68eIx.js"),[])},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:()=>C(()=>import("./one-dark-pro-GBQ2dnAY.js"),[])},{id:"one-light",displayName:"One Light",type:"light",import:()=>C(()=>import("./one-light-PoHY5YXO.js"),[])},{id:"plastic",displayName:"Plastic",type:"dark",import:()=>C(()=>import("./plastic-3e1v2bzS.js"),[])},{id:"poimandres",displayName:"Poimandres",type:"dark",import:()=>C(()=>import("./poimandres-CS3Unz2-.js"),[])},{id:"red",displayName:"Red",type:"dark",import:()=>C(()=>import("./red-bN70gL4F.js"),[])},{id:"rose-pine",displayName:"Ros Pine",type:"dark",import:()=>C(()=>import("./rose-pine-CmCqftbK.js"),[])},{id:"rose-pine-dawn",displayName:"Ros Pine Dawn",type:"light",import:()=>C(()=>import("./rose-pine-dawn-Ds-gbosJ.js"),[])},{id:"rose-pine-moon",displayName:"Ros Pine Moon",type:"dark",import:()=>C(()=>import("./rose-pine-moon-CjDtw9vr.js"),[])},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:()=>C(()=>import("./slack-dark-BthQWCQV.js"),[])},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:()=>C(()=>import("./slack-ochin-DqwNpetd.js"),[])},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:()=>C(()=>import("./snazzy-light-Bw305WKR.js"),[])},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:()=>C(()=>import("./solarized-dark-DXbdFlpD.js"),[])},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:()=>C(()=>import("./solarized-light-L9t79GZl.js"),[])},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:()=>C(()=>import("./synthwave-84-CbfX1IO0.js"),[])},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:()=>C(()=>import("./tokyo-night-DBQeEorK.js"),[])},{id:"vesper",displayName:"Vesper",type:"dark",import:()=>C(()=>import("./vesper-BEBZ7ncR.js"),[])},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:()=>C(()=>import("./vitesse-black-Bkuqu6BP.js"),[])},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:()=>C(()=>import("./vitesse-dark-D0r3Knsf.js"),[])},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:()=>C(()=>import("./vitesse-light-CVO1_9PV.js"),[])}],jS=Object.fromEntries(kS.map(e=>[e.id,e.import]));let Un=class extends Error{constructor(t){super(t),this.name="ShikiError"}},Qd=class extends Error{constructor(t){super(t),this.name="ShikiError"}};function SS(){return 2147483648}function NS(){return typeof performance<"u"?performance.now():Date.now()}const CS=(e,t)=>e+(t-e%t)%t;async function ES(e){let t,r;const i={};function a(w){r=w,i.HEAPU8=new Uint8Array(w),i.HEAPU32=new Uint32Array(w)}function c(w,_,k){i.HEAPU8.copyWithin(w,_,_+k)}function u(w){try{return t.grow(w-r.byteLength+65535>>>16),a(t.buffer),1}catch{}}function f(w){const _=i.HEAPU8.length;w=w>>>0;const k=SS();if(w>k)return!1;for(let S=1;S<=4;S*=2){let N=_*(1+.2/S);N=Math.min(N,w+100663296);const T=Math.min(k,CS(Math.max(w,N),65536));if(u(T))return!0}return!1}const h=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function m(w,_,k=1024){const S=_+k;let N=_;for(;w[N]&&!(N>=S);)++N;if(N-_>16&&w.buffer&&h)return h.decode(w.subarray(_,N));let T="";for(;_<N;){let E=w[_++];if(!(E&128)){T+=String.fromCharCode(E);continue}const R=w[_++]&63;if((E&224)===192){T+=String.fromCharCode((E&31)<<6|R);continue}const I=w[_++]&63;if((E&240)===224?E=(E&15)<<12|R<<6|I:E=(E&7)<<18|R<<12|I<<6|w[_++]&63,E<65536)T+=String.fromCharCode(E);else{const G=E-65536;T+=String.fromCharCode(55296|G>>10,56320|G&1023)}}return T}function y(w,_){return w?m(i.HEAPU8,w,_):""}const x={emscripten_get_now:NS,emscripten_memcpy_big:c,emscripten_resize_heap:f,fd_write:()=>0};async function v(){const _=await e({env:x,wasi_snapshot_preview1:x});t=_.memory,a(t.buffer),Object.assign(i,_),i.UTF8ToString=y}return await v(),i}var PS=Object.defineProperty,TS=(e,t,r)=>t in e?PS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lt=(e,t,r)=>(TS(e,typeof t!="symbol"?t+"":t,r),r);let ht=null;function AS(e){throw new Qd(e.UTF8ToString(e.getLastOnigError()))}class il{constructor(t){lt(this,"utf16Length"),lt(this,"utf8Length"),lt(this,"utf16Value"),lt(this,"utf8Value"),lt(this,"utf16OffsetToUtf8"),lt(this,"utf8OffsetToUtf16");const r=t.length,i=il._utf8ByteLength(t),a=i!==r,c=a?new Uint32Array(r+1):null;a&&(c[r]=i);const u=a?new Uint32Array(i+1):null;a&&(u[i]=r);const f=new Uint8Array(i);let h=0;for(let m=0;m<r;m++){const y=t.charCodeAt(m);let x=y,v=!1;if(y>=55296&&y<=56319&&m+1<r){const w=t.charCodeAt(m+1);w>=56320&&w<=57343&&(x=(y-55296<<10)+65536|w-56320,v=!0)}a&&(c[m]=h,v&&(c[m+1]=h),x<=127?u[h+0]=m:x<=2047?(u[h+0]=m,u[h+1]=m):x<=65535?(u[h+0]=m,u[h+1]=m,u[h+2]=m):(u[h+0]=m,u[h+1]=m,u[h+2]=m,u[h+3]=m)),x<=127?f[h++]=x:x<=2047?(f[h++]=192|(x&1984)>>>6,f[h++]=128|(x&63)>>>0):x<=65535?(f[h++]=224|(x&61440)>>>12,f[h++]=128|(x&4032)>>>6,f[h++]=128|(x&63)>>>0):(f[h++]=240|(x&1835008)>>>18,f[h++]=128|(x&258048)>>>12,f[h++]=128|(x&4032)>>>6,f[h++]=128|(x&63)>>>0),v&&m++}this.utf16Length=r,this.utf8Length=i,this.utf16Value=t,this.utf8Value=f,this.utf16OffsetToUtf8=c,this.utf8OffsetToUtf16=u}static _utf8ByteLength(t){let r=0;for(let i=0,a=t.length;i<a;i++){const c=t.charCodeAt(i);let u=c,f=!1;if(c>=55296&&c<=56319&&i+1<a){const h=t.charCodeAt(i+1);h>=56320&&h<=57343&&(u=(c-55296<<10)+65536|h-56320,f=!0)}u<=127?r+=1:u<=2047?r+=2:u<=65535?r+=3:r+=4,f&&i++}return r}createString(t){const r=t.omalloc(this.utf8Length);return t.HEAPU8.set(this.utf8Value,r),r}}const bn=class{constructor(e){if(lt(this,"id",++bn.LAST_ID),lt(this,"_onigBinding"),lt(this,"content"),lt(this,"utf16Length"),lt(this,"utf8Length"),lt(this,"utf16OffsetToUtf8"),lt(this,"utf8OffsetToUtf16"),lt(this,"ptr"),!ht)throw new Qd("Must invoke loadWasm first.");this._onigBinding=ht,this.content=e;const t=new il(e);this.utf16Length=t.utf16Length,this.utf8Length=t.utf8Length,this.utf16OffsetToUtf8=t.utf16OffsetToUtf8,this.utf8OffsetToUtf16=t.utf8OffsetToUtf16,this.utf8Length<1e4&&!bn._sharedPtrInUse?(bn._sharedPtr||(bn._sharedPtr=ht.omalloc(1e4)),bn._sharedPtrInUse=!0,ht.HEAPU8.set(t.utf8Value,bn._sharedPtr),this.ptr=bn._sharedPtr):this.ptr=t.createString(ht)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===bn._sharedPtr?bn._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};let ea=bn;lt(ea,"LAST_ID",0);lt(ea,"_sharedPtr",0);lt(ea,"_sharedPtrInUse",!1);class RS{constructor(t){if(lt(this,"_onigBinding"),lt(this,"_ptr"),!ht)throw new Qd("Must invoke loadWasm first.");const r=[],i=[];for(let f=0,h=t.length;f<h;f++){const m=new il(t[f]);r[f]=m.createString(ht),i[f]=m.utf8Length}const a=ht.omalloc(4*t.length);ht.HEAPU32.set(r,a/4);const c=ht.omalloc(4*t.length);ht.HEAPU32.set(i,c/4);const u=ht.createOnigScanner(a,c,t.length);for(let f=0,h=t.length;f<h;f++)ht.ofree(r[f]);ht.ofree(c),ht.ofree(a),u===0&&AS(ht),this._onigBinding=ht,this._ptr=u}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(t,r,i){let a=0;if(typeof i=="number"&&(a=i),typeof t=="string"){t=new ea(t);const c=this._findNextMatchSync(t,r,!1,a);return t.dispose(),c}return this._findNextMatchSync(t,r,!1,a)}_findNextMatchSync(t,r,i,a){const c=this._onigBinding,u=c.findNextOnigScannerMatch(this._ptr,t.id,t.ptr,t.utf8Length,t.convertUtf16OffsetToUtf8(r),a);if(u===0)return null;const f=c.HEAPU32;let h=u/4;const m=f[h++],y=f[h++],x=[];for(let v=0;v<y;v++){const w=t.convertUtf8OffsetToUtf16(f[h++]),_=t.convertUtf8OffsetToUtf16(f[h++]);x[v]={start:w,end:_,length:_-w}}return{index:m,captureIndices:x}}}function LS(e){return typeof e.instantiator=="function"}function DS(e){return typeof e.default=="function"}function IS(e){return typeof e.data<"u"}function OS(e){return typeof Response<"u"&&e instanceof Response}function MS(e){var t;return typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))||typeof Buffer<"u"&&((t=Buffer.isBuffer)==null?void 0:t.call(Buffer,e))||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&e instanceof Uint32Array}let go;function VS(e){if(go)return go;async function t(){ht=await ES(async r=>{let i=e;return i=await i,typeof i=="function"&&(i=await i(r)),typeof i=="function"&&(i=await i(r)),LS(i)?i=await i.instantiator(r):DS(i)?i=await i.default(r):(IS(i)&&(i=i.data),OS(i)?typeof WebAssembly.instantiateStreaming=="function"?i=await FS(i)(r):i=await BS(i)(r):MS(i)?i=await vu(i)(r):i instanceof WebAssembly.Module?i=await vu(i)(r):"default"in i&&i.default instanceof WebAssembly.Module&&(i=await vu(i.default)(r))),"instance"in i&&(i=i.instance),"exports"in i&&(i=i.exports),i})}return go=t(),go}function vu(e){return t=>WebAssembly.instantiate(e,t)}function FS(e){return t=>WebAssembly.instantiateStreaming(e,t)}function BS(e){return async t=>{const r=await e.arrayBuffer();return WebAssembly.instantiate(r,t)}}let zS;function $S(){return zS}async function Xy(e){return e&&await VS(e),{createScanner(t){return new RS(t.map(r=>typeof r=="string"?r:r.source))},createString(t){return new ea(t)}}}function US(e){return Xd(e)}function Xd(e){return Array.isArray(e)?WS(e):e instanceof RegExp?e:typeof e=="object"?GS(e):e}function WS(e){let t=[];for(let r=0,i=e.length;r<i;r++)t[r]=Xd(e[r]);return t}function GS(e){let t={};for(let r in e)t[r]=Xd(e[r]);return t}function Jy(e,...t){return t.forEach(r=>{for(let i in r)e[i]=r[i]}),e}function Zy(e){const t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return t===0?e:~t===e.length-1?Zy(e.substring(0,e.length-1)):e.substr(~t+1)}var wu=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,yo=class{static hasCaptures(e){return e===null?!1:(wu.lastIndex=0,wu.test(e))}static replaceCaptures(e,t,r){return e.replace(wu,(i,a,c,u)=>{let f=r[parseInt(a||c,10)];if(f){let h=t.substring(f.start,f.end);for(;h[0]===".";)h=h.substring(1);switch(u){case"downcase":return h.toLowerCase();case"upcase":return h.toUpperCase();default:return h}}else return i})}};function ex(e,t){return e<t?-1:e>t?1:0}function tx(e,t){if(e===null&&t===null)return 0;if(!e)return-1;if(!t)return 1;let r=e.length,i=t.length;if(r===i){for(let a=0;a<r;a++){let c=ex(e[a],t[a]);if(c!==0)return c}return 0}return r-i}function Ng(e){return!!(/^#[0-9a-f]{6}$/i.test(e)||/^#[0-9a-f]{8}$/i.test(e)||/^#[0-9a-f]{3}$/i.test(e)||/^#[0-9a-f]{4}$/i.test(e))}function nx(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var rx=class{constructor(e){H(this,"cache",new Map);this.fn=e}get(e){if(this.cache.has(e))return this.cache.get(e);const t=this.fn(e);return this.cache.set(e,t),t}},Fo=class{constructor(e,t,r){H(this,"_cachedMatchRoot",new rx(e=>this._root.match(e)));this._colorMap=e,this._defaults=t,this._root=r}static createFromRawTheme(e,t){return this.createFromParsedTheme(qS(e),t)}static createFromParsedTheme(e,t){return QS(e,t)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(e){if(e===null)return this._defaults;const t=e.scopeName,i=this._cachedMatchRoot.get(t).find(a=>HS(e.parent,a.parentScopes));return i?new sx(i.fontStyle,i.foreground,i.background):null}},_u=class No{constructor(t,r){this.parent=t,this.scopeName=r}static push(t,r){for(const i of r)t=new No(t,i);return t}static from(...t){let r=null;for(let i=0;i<t.length;i++)r=new No(r,t[i]);return r}push(t){return new No(this,t)}getSegments(){let t=this;const r=[];for(;t;)r.push(t.scopeName),t=t.parent;return r.reverse(),r}toString(){return this.getSegments().join(" ")}extends(t){return this===t?!0:this.parent===null?!1:this.parent.extends(t)}getExtensionIfDefined(t){const r=[];let i=this;for(;i&&i!==t;)r.push(i.scopeName),i=i.parent;return i===t?r.reverse():void 0}};function HS(e,t){if(t.length===0)return!0;for(let r=0;r<t.length;r++){let i=t[r],a=!1;if(i===">"){if(r===t.length-1)return!1;i=t[++r],a=!0}for(;e&&!KS(e.scopeName,i);){if(a)return!1;e=e.parent}if(!e)return!1;e=e.parent}return!0}function KS(e,t){return t===e||e.startsWith(t)&&e[t.length]==="."}var sx=class{constructor(e,t,r){this.fontStyle=e,this.foregroundId=t,this.backgroundId=r}};function qS(e){if(!e)return[];if(!e.settings||!Array.isArray(e.settings))return[];let t=e.settings,r=[],i=0;for(let a=0,c=t.length;a<c;a++){let u=t[a];if(!u.settings)continue;let f;if(typeof u.scope=="string"){let x=u.scope;x=x.replace(/^[,]+/,""),x=x.replace(/[,]+$/,""),f=x.split(",")}else Array.isArray(u.scope)?f=u.scope:f=[""];let h=-1;if(typeof u.settings.fontStyle=="string"){h=0;let x=u.settings.fontStyle.split(" ");for(let v=0,w=x.length;v<w;v++)switch(x[v]){case"italic":h=h|1;break;case"bold":h=h|2;break;case"underline":h=h|4;break;case"strikethrough":h=h|8;break}}let m=null;typeof u.settings.foreground=="string"&&Ng(u.settings.foreground)&&(m=u.settings.foreground);let y=null;typeof u.settings.background=="string"&&Ng(u.settings.background)&&(y=u.settings.background);for(let x=0,v=f.length;x<v;x++){let _=f[x].trim().split(" "),k=_[_.length-1],S=null;_.length>1&&(S=_.slice(0,_.length-1),S.reverse()),r[i++]=new YS(k,S,a,h,m,y)}}return r}var YS=class{constructor(e,t,r,i,a,c){this.scope=e,this.parentScopes=t,this.index=r,this.fontStyle=i,this.foreground=a,this.background=c}},Fn=(e=>(e[e.NotSet=-1]="NotSet",e[e.None=0]="None",e[e.Italic=1]="Italic",e[e.Bold=2]="Bold",e[e.Underline=4]="Underline",e[e.Strikethrough=8]="Strikethrough",e))(Fn||{});function QS(e,t){e.sort((h,m)=>{let y=ex(h.scope,m.scope);return y!==0||(y=tx(h.parentScopes,m.parentScopes),y!==0)?y:h.index-m.index});let r=0,i="#000000",a="#ffffff";for(;e.length>=1&&e[0].scope==="";){let h=e.shift();h.fontStyle!==-1&&(r=h.fontStyle),h.foreground!==null&&(i=h.foreground),h.background!==null&&(a=h.background)}let c=new XS(t),u=new sx(r,c.getId(i),c.getId(a)),f=new ZS(new Ju(0,null,-1,0,0),[]);for(let h=0,m=e.length;h<m;h++){let y=e[h];f.insert(0,y.scope,y.parentScopes,y.fontStyle,c.getId(y.foreground),c.getId(y.background))}return new Fo(c,u,f)}var XS=class{constructor(e){H(this,"_isFrozen");H(this,"_lastColorId");H(this,"_id2color");H(this,"_color2id");if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(e)){this._isFrozen=!0;for(let t=0,r=e.length;t<r;t++)this._color2id[e[t]]=t,this._id2color[t]=e[t]}else this._isFrozen=!1}getId(e){if(e===null)return 0;e=e.toUpperCase();let t=this._color2id[e];if(t)return t;if(this._isFrozen)throw new Error(`Missing color in color map - ${e}`);return t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t}getColorMap(){return this._id2color.slice(0)}},JS=Object.freeze([]),Ju=class ix{constructor(t,r,i,a,c){H(this,"scopeDepth");H(this,"parentScopes");H(this,"fontStyle");H(this,"foreground");H(this,"background");this.scopeDepth=t,this.parentScopes=r||JS,this.fontStyle=i,this.foreground=a,this.background=c}clone(){return new ix(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(t){let r=[];for(let i=0,a=t.length;i<a;i++)r[i]=t[i].clone();return r}acceptOverwrite(t,r,i,a){this.scopeDepth>t?console.log("how did this happen?"):this.scopeDepth=t,r!==-1&&(this.fontStyle=r),i!==0&&(this.foreground=i),a!==0&&(this.background=a)}},ZS=class Zu{constructor(t,r=[],i={}){H(this,"_rulesWithParentScopes");this._mainRule=t,this._children=i,this._rulesWithParentScopes=r}static _cmpBySpecificity(t,r){if(t.scopeDepth!==r.scopeDepth)return r.scopeDepth-t.scopeDepth;let i=0,a=0;for(;t.parentScopes[i]===">"&&i++,r.parentScopes[a]===">"&&a++,!(i>=t.parentScopes.length||a>=r.parentScopes.length);){const c=r.parentScopes[a].length-t.parentScopes[i].length;if(c!==0)return c;i++,a++}return r.parentScopes.length-t.parentScopes.length}match(t){if(t!==""){let i=t.indexOf("."),a,c;if(i===-1?(a=t,c=""):(a=t.substring(0,i),c=t.substring(i+1)),this._children.hasOwnProperty(a))return this._children[a].match(c)}const r=this._rulesWithParentScopes.concat(this._mainRule);return r.sort(Zu._cmpBySpecificity),r}insert(t,r,i,a,c,u){if(r===""){this._doInsertHere(t,i,a,c,u);return}let f=r.indexOf("."),h,m;f===-1?(h=r,m=""):(h=r.substring(0,f),m=r.substring(f+1));let y;this._children.hasOwnProperty(h)?y=this._children[h]:(y=new Zu(this._mainRule.clone(),Ju.cloneArr(this._rulesWithParentScopes)),this._children[h]=y),y.insert(t+1,m,i,a,c,u)}_doInsertHere(t,r,i,a,c){if(r===null){this._mainRule.acceptOverwrite(t,i,a,c);return}for(let u=0,f=this._rulesWithParentScopes.length;u<f;u++){let h=this._rulesWithParentScopes[u];if(tx(h.parentScopes,r)===0){h.acceptOverwrite(t,i,a,c);return}}i===-1&&(i=this._mainRule.fontStyle),a===0&&(a=this._mainRule.foreground),c===0&&(c=this._mainRule.background),this._rulesWithParentScopes.push(new Ju(t,r,i,a,c))}},Cs=class Jt{static toBinaryStr(t){return t.toString(2).padStart(32,"0")}static print(t){const r=Jt.getLanguageId(t),i=Jt.getTokenType(t),a=Jt.getFontStyle(t),c=Jt.getForeground(t),u=Jt.getBackground(t);console.log({languageId:r,tokenType:i,fontStyle:a,foreground:c,background:u})}static getLanguageId(t){return(t&255)>>>0}static getTokenType(t){return(t&768)>>>8}static containsBalancedBrackets(t){return(t&1024)!==0}static getFontStyle(t){return(t&30720)>>>11}static getForeground(t){return(t&16744448)>>>15}static getBackground(t){return(t&4278190080)>>>24}static set(t,r,i,a,c,u,f){let h=Jt.getLanguageId(t),m=Jt.getTokenType(t),y=Jt.containsBalancedBrackets(t)?1:0,x=Jt.getFontStyle(t),v=Jt.getForeground(t),w=Jt.getBackground(t);return r!==0&&(h=r),i!==8&&(m=i),a!==null&&(y=a?1:0),c!==-1&&(x=c),u!==0&&(v=u),f!==0&&(w=f),(h<<0|m<<8|y<<10|x<<11|v<<15|w<<24)>>>0}};function Bo(e,t){const r=[],i=eN(e);let a=i.next();for(;a!==null;){let h=0;if(a.length===2&&a.charAt(1)===":"){switch(a.charAt(0)){case"R":h=1;break;case"L":h=-1;break;default:console.log(`Unknown priority ${a} in scope selector`)}a=i.next()}let m=u();if(r.push({matcher:m,priority:h}),a!==",")break;a=i.next()}return r;function c(){if(a==="-"){a=i.next();const h=c();return m=>!!h&&!h(m)}if(a==="("){a=i.next();const h=f();return a===")"&&(a=i.next()),h}if(Cg(a)){const h=[];do h.push(a),a=i.next();while(Cg(a));return m=>t(h,m)}return null}function u(){const h=[];let m=c();for(;m;)h.push(m),m=c();return y=>h.every(x=>x(y))}function f(){const h=[];let m=u();for(;m&&(h.push(m),a==="|"||a===",");){do a=i.next();while(a==="|"||a===",");m=u()}return y=>h.some(x=>x(y))}}function Cg(e){return!!e&&!!e.match(/[\w\.:]+/)}function eN(e){let t=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,r=t.exec(e);return{next:()=>{if(!r)return null;const i=r[0];return r=t.exec(e),i}}}function ax(e){typeof e.dispose=="function"&&e.dispose()}var zi=class{constructor(e){this.scopeName=e}toKey(){return this.scopeName}},tN=class{constructor(e,t){this.scopeName=e,this.ruleName=t}toKey(){return`${this.scopeName}#${this.ruleName}`}},nN=class{constructor(){H(this,"_references",[]);H(this,"_seenReferenceKeys",new Set);H(this,"visitedRule",new Set)}get references(){return this._references}add(e){const t=e.toKey();this._seenReferenceKeys.has(t)||(this._seenReferenceKeys.add(t),this._references.push(e))}},rN=class{constructor(e,t){H(this,"seenFullScopeRequests",new Set);H(this,"seenPartialScopeRequests",new Set);H(this,"Q");this.repo=e,this.initialScopeName=t,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new zi(this.initialScopeName)]}processQueue(){const e=this.Q;this.Q=[];const t=new nN;for(const r of e)sN(r,this.initialScopeName,this.repo,t);for(const r of t.references)if(r instanceof zi){if(this.seenFullScopeRequests.has(r.scopeName))continue;this.seenFullScopeRequests.add(r.scopeName),this.Q.push(r)}else{if(this.seenFullScopeRequests.has(r.scopeName)||this.seenPartialScopeRequests.has(r.toKey()))continue;this.seenPartialScopeRequests.add(r.toKey()),this.Q.push(r)}}};function sN(e,t,r,i){const a=r.lookup(e.scopeName);if(!a){if(e.scopeName===t)throw new Error(`No grammar provided for <${t}>`);return}const c=r.lookup(t);e instanceof zi?Co({baseGrammar:c,selfGrammar:a},i):ed(e.ruleName,{baseGrammar:c,selfGrammar:a,repository:a.repository},i);const u=r.injections(e.scopeName);if(u)for(const f of u)i.add(new zi(f))}function ed(e,t,r){if(t.repository&&t.repository[e]){const i=t.repository[e];zo([i],t,r)}}function Co(e,t){e.selfGrammar.patterns&&Array.isArray(e.selfGrammar.patterns)&&zo(e.selfGrammar.patterns,{...e,repository:e.selfGrammar.repository},t),e.selfGrammar.injections&&zo(Object.values(e.selfGrammar.injections),{...e,repository:e.selfGrammar.repository},t)}function zo(e,t,r){for(const i of e){if(r.visitedRule.has(i))continue;r.visitedRule.add(i);const a=i.repository?Jy({},t.repository,i.repository):t.repository;Array.isArray(i.patterns)&&zo(i.patterns,{...t,repository:a},r);const c=i.include;if(!c)continue;const u=ox(c);switch(u.kind){case 0:Co({...t,selfGrammar:t.baseGrammar},r);break;case 1:Co(t,r);break;case 2:ed(u.ruleName,{...t,repository:a},r);break;case 3:case 4:const f=u.scopeName===t.selfGrammar.scopeName?t.selfGrammar:u.scopeName===t.baseGrammar.scopeName?t.baseGrammar:void 0;if(f){const h={baseGrammar:t.baseGrammar,selfGrammar:f,repository:a};u.kind===4?ed(u.ruleName,h,r):Co(h,r)}else u.kind===4?r.add(new tN(u.scopeName,u.ruleName)):r.add(new zi(u.scopeName));break}}}var iN=class{constructor(){H(this,"kind",0)}},aN=class{constructor(){H(this,"kind",1)}},oN=class{constructor(e){H(this,"kind",2);this.ruleName=e}},lN=class{constructor(e){H(this,"kind",3);this.scopeName=e}},cN=class{constructor(e,t){H(this,"kind",4);this.scopeName=e,this.ruleName=t}};function ox(e){if(e==="$base")return new iN;if(e==="$self")return new aN;const t=e.indexOf("#");if(t===-1)return new lN(e);if(t===0)return new oN(e.substring(1));{const r=e.substring(0,t),i=e.substring(t+1);return new cN(r,i)}}var uN=/\\(\d+)/,Eg=/\\(\d+)/g,dN=-1,lx=-2;var ta=class{constructor(e,t,r,i){H(this,"$location");H(this,"id");H(this,"_nameIsCapturing");H(this,"_name");H(this,"_contentNameIsCapturing");H(this,"_contentName");this.$location=e,this.id=t,this._name=r||null,this._nameIsCapturing=yo.hasCaptures(this._name),this._contentName=i||null,this._contentNameIsCapturing=yo.hasCaptures(this._contentName)}get debugName(){const e=this.$location?`${Zy(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,t){return!this._nameIsCapturing||this._name===null||e===null||t===null?this._name:yo.replaceCaptures(this._name,e,t)}getContentName(e,t){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:yo.replaceCaptures(this._contentName,e,t)}},fN=class extends ta{constructor(t,r,i,a,c){super(t,r,i,a);H(this,"retokenizeCapturedWithRuleId");this.retokenizeCapturedWithRuleId=c}dispose(){}collectPatterns(t,r){throw new Error("Not supported!")}compile(t,r){throw new Error("Not supported!")}compileAG(t,r,i,a){throw new Error("Not supported!")}},hN=class extends ta{constructor(t,r,i,a,c){super(t,r,i,null);H(this,"_match");H(this,"captures");H(this,"_cachedCompiledPatterns");this._match=new $i(a,this.id),this.captures=c,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(t,r){r.push(this._match)}compile(t,r){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,r,i,a){return this._getCachedCompiledPatterns(t).compileAG(t,i,a)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Ui,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},Pg=class extends ta{constructor(t,r,i,a,c){super(t,r,i,a);H(this,"hasMissingPatterns");H(this,"patterns");H(this,"_cachedCompiledPatterns");this.patterns=c.patterns,this.hasMissingPatterns=c.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(t,r){for(const i of this.patterns)t.getRule(i).collectPatterns(t,r)}compile(t,r){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,r,i,a){return this._getCachedCompiledPatterns(t).compileAG(t,i,a)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Ui,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},td=class extends ta{constructor(t,r,i,a,c,u,f,h,m,y){super(t,r,i,a);H(this,"_begin");H(this,"beginCaptures");H(this,"_end");H(this,"endHasBackReferences");H(this,"endCaptures");H(this,"applyEndPatternLast");H(this,"hasMissingPatterns");H(this,"patterns");H(this,"_cachedCompiledPatterns");this._begin=new $i(c,this.id),this.beginCaptures=u,this._end=new $i(f||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=h,this.applyEndPatternLast=m||!1,this.patterns=y.patterns,this.hasMissingPatterns=y.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(t,r){return this._end.resolveBackReferences(t,r)}collectPatterns(t,r){r.push(this._begin)}compile(t,r){return this._getCachedCompiledPatterns(t,r).compile(t)}compileAG(t,r,i,a){return this._getCachedCompiledPatterns(t,r).compileAG(t,i,a)}_getCachedCompiledPatterns(t,r){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new Ui;for(const i of this.patterns)t.getRule(i).collectPatterns(t,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,r):this._cachedCompiledPatterns.setSource(0,r)),this._cachedCompiledPatterns}},$o=class extends ta{constructor(t,r,i,a,c,u,f,h,m){super(t,r,i,a);H(this,"_begin");H(this,"beginCaptures");H(this,"whileCaptures");H(this,"_while");H(this,"whileHasBackReferences");H(this,"hasMissingPatterns");H(this,"patterns");H(this,"_cachedCompiledPatterns");H(this,"_cachedCompiledWhilePatterns");this._begin=new $i(c,this.id),this.beginCaptures=u,this.whileCaptures=h,this._while=new $i(f,lx),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=m.patterns,this.hasMissingPatterns=m.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(t,r){return this._while.resolveBackReferences(t,r)}collectPatterns(t,r){r.push(this._begin)}compile(t,r){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,r,i,a){return this._getCachedCompiledPatterns(t).compileAG(t,i,a)}_getCachedCompiledPatterns(t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new Ui;for(const r of this.patterns)t.getRule(r).collectPatterns(t,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(t,r){return this._getCachedCompiledWhilePatterns(t,r).compile(t)}compileWhileAG(t,r,i,a){return this._getCachedCompiledWhilePatterns(t,r).compileAG(t,i,a)}_getCachedCompiledWhilePatterns(t,r){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new Ui,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,r||""),this._cachedCompiledWhilePatterns}},cx=class _t{static createCaptureRule(t,r,i,a,c){return t.registerRule(u=>new fN(r,u,i,a,c))}static getCompiledRuleId(t,r,i){return t.id||r.registerRule(a=>{if(t.id=a,t.match)return new hN(t.$vscodeTextmateLocation,t.id,t.name,t.match,_t._compileCaptures(t.captures,r,i));if(typeof t.begin>"u"){t.repository&&(i=Jy({},i,t.repository));let c=t.patterns;return typeof c>"u"&&t.include&&(c=[{include:t.include}]),new Pg(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,_t._compilePatterns(c,r,i))}return t.while?new $o(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,_t._compileCaptures(t.beginCaptures||t.captures,r,i),t.while,_t._compileCaptures(t.whileCaptures||t.captures,r,i),_t._compilePatterns(t.patterns,r,i)):new td(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,_t._compileCaptures(t.beginCaptures||t.captures,r,i),t.end,_t._compileCaptures(t.endCaptures||t.captures,r,i),t.applyEndPatternLast,_t._compilePatterns(t.patterns,r,i))}),t.id}static _compileCaptures(t,r,i){let a=[];if(t){let c=0;for(const u in t){if(u==="$vscodeTextmateLocation")continue;const f=parseInt(u,10);f>c&&(c=f)}for(let u=0;u<=c;u++)a[u]=null;for(const u in t){if(u==="$vscodeTextmateLocation")continue;const f=parseInt(u,10);let h=0;t[u].patterns&&(h=_t.getCompiledRuleId(t[u],r,i)),a[f]=_t.createCaptureRule(r,t[u].$vscodeTextmateLocation,t[u].name,t[u].contentName,h)}}return a}static _compilePatterns(t,r,i){let a=[];if(t)for(let c=0,u=t.length;c<u;c++){const f=t[c];let h=-1;if(f.include){const m=ox(f.include);switch(m.kind){case 0:case 1:h=_t.getCompiledRuleId(i[f.include],r,i);break;case 2:let y=i[m.ruleName];y&&(h=_t.getCompiledRuleId(y,r,i));break;case 3:case 4:const x=m.scopeName,v=m.kind===4?m.ruleName:null,w=r.getExternalGrammar(x,i);if(w)if(v){let _=w.repository[v];_&&(h=_t.getCompiledRuleId(_,r,w.repository))}else h=_t.getCompiledRuleId(w.repository.$self,r,w.repository);break}}else h=_t.getCompiledRuleId(f,r,i);if(h!==-1){const m=r.getRule(h);let y=!1;if((m instanceof Pg||m instanceof td||m instanceof $o)&&m.hasMissingPatterns&&m.patterns.length===0&&(y=!0),y)continue;a.push(h)}}return{patterns:a,hasMissingPatterns:(t?t.length:0)!==a.length}}},$i=class ux{constructor(t,r){H(this,"source");H(this,"ruleId");H(this,"hasAnchor");H(this,"hasBackReferences");H(this,"_anchorCache");if(t&&typeof t=="string"){const i=t.length;let a=0,c=[],u=!1;for(let f=0;f<i;f++)if(t.charAt(f)==="\\"&&f+1<i){const m=t.charAt(f+1);m==="z"?(c.push(t.substring(a,f)),c.push("$(?!\\n)(?<!\\n)"),a=f+2):(m==="A"||m==="G")&&(u=!0),f++}this.hasAnchor=u,a===0?this.source=t:(c.push(t.substring(a,i)),this.source=c.join(""))}else this.hasAnchor=!1,this.source=t;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=r,typeof this.source=="string"?this.hasBackReferences=uN.test(this.source):this.hasBackReferences=!1}clone(){return new ux(this.source,this.ruleId)}setSource(t){this.source!==t&&(this.source=t,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(t,r){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let i=r.map(a=>t.substring(a.start,a.end));return Eg.lastIndex=0,this.source.replace(Eg,(a,c)=>nx(i[parseInt(c,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let t=[],r=[],i=[],a=[],c,u,f,h;for(c=0,u=this.source.length;c<u;c++)f=this.source.charAt(c),t[c]=f,r[c]=f,i[c]=f,a[c]=f,f==="\\"&&c+1<u&&(h=this.source.charAt(c+1),h==="A"?(t[c+1]="",r[c+1]="",i[c+1]="A",a[c+1]="A"):h==="G"?(t[c+1]="",r[c+1]="G",i[c+1]="",a[c+1]="G"):(t[c+1]=h,r[c+1]=h,i[c+1]=h,a[c+1]=h),c++);return{A0_G0:t.join(""),A0_G1:r.join(""),A1_G0:i.join(""),A1_G1:a.join("")}}resolveAnchors(t,r){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:t?r?this._anchorCache.A1_G1:this._anchorCache.A1_G0:r?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},Ui=class{constructor(){H(this,"_items");H(this,"_hasAnchors");H(this,"_cached");H(this,"_anchorCache");this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,t){this._items[e].source!==t&&(this._disposeCaches(),this._items[e].setSource(t))}compile(e){if(!this._cached){let t=this._items.map(r=>r.source);this._cached=new Tg(e,t,this._items.map(r=>r.ruleId))}return this._cached}compileAG(e,t,r){return this._hasAnchors?t?r?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A1_G0):r?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,t,r)),this._anchorCache.A0_G0):this.compile(e)}_resolveAnchors(e,t,r){let i=this._items.map(a=>a.resolveAnchors(t,r));return new Tg(e,i,this._items.map(a=>a.ruleId))}},Tg=class{constructor(e,t,r){H(this,"scanner");this.regExps=t,this.rules=r,this.scanner=e.createOnigScanner(t)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const e=[];for(let t=0,r=this.rules.length;t<r;t++)e.push("   - "+this.rules[t]+": "+this.regExps[t]);return e.join(`
`)}findNextMatchSync(e,t,r){const i=this.scanner.findNextMatchSync(e,t,r);return i?{ruleId:this.rules[i.index],captureIndices:i.captureIndices}:null}},bu=class{constructor(e,t){this.languageId=e,this.tokenType=t}},Vn,pN=(Vn=class{constructor(t,r){H(this,"_defaultAttributes");H(this,"_embeddedLanguagesMatcher");H(this,"_getBasicScopeAttributes",new rx(t=>{const r=this._scopeToLanguage(t),i=this._toStandardTokenType(t);return new bu(r,i)}));this._defaultAttributes=new bu(t,8),this._embeddedLanguagesMatcher=new mN(Object.entries(r||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(t){return t===null?Vn._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(t)}_scopeToLanguage(t){return this._embeddedLanguagesMatcher.match(t)||0}_toStandardTokenType(t){const r=t.match(Vn.STANDARD_TOKEN_TYPE_REGEXP);if(!r)return 8;switch(r[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}},H(Vn,"_NULL_SCOPE_METADATA",new bu(0,0)),H(Vn,"STANDARD_TOKEN_TYPE_REGEXP",/\b(comment|string|regex|meta\.embedded)\b/),Vn),mN=class{constructor(e){H(this,"values");H(this,"scopesRegExp");if(e.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(e);const t=e.map(([r,i])=>nx(r));t.sort(),t.reverse(),this.scopesRegExp=new RegExp(`^((${t.join(")|(")}))($|\\.)`,"")}}match(e){if(!this.scopesRegExp)return;const t=e.match(this.scopesRegExp);if(t)return this.values.get(t[1])}},Ag=class{constructor(e,t){this.stack=e,this.stoppedEarly=t}};function dx(e,t,r,i,a,c,u,f){const h=t.content.length;let m=!1,y=-1;if(u){const w=gN(e,t,r,i,a,c);a=w.stack,i=w.linePos,r=w.isFirstLine,y=w.anchorPosition}const x=Date.now();for(;!m;){if(f!==0&&Date.now()-x>f)return new Ag(a,!0);v()}return new Ag(a,!1);function v(){const w=yN(e,t,r,i,a,y);if(!w){c.produce(a,h),m=!0;return}const _=w.captureIndices,k=w.matchedRuleId,S=_&&_.length>0?_[0].end>i:!1;if(k===dN){const N=a.getRule(e);c.produce(a,_[0].start),a=a.withContentNameScopesList(a.nameScopesList),Ei(e,t,r,a,c,N.endCaptures,_),c.produce(a,_[0].end);const T=a;if(a=a.parent,y=T.getAnchorPos(),!S&&T.getEnterPos()===i){a=T,c.produce(a,h),m=!0;return}}else{const N=e.getRule(k);c.produce(a,_[0].start);const T=a,E=N.getName(t.content,_),R=a.contentNameScopesList.pushAttributed(E,e);if(a=a.push(k,i,y,_[0].end===h,null,R,R),N instanceof td){const I=N;Ei(e,t,r,a,c,I.beginCaptures,_),c.produce(a,_[0].end),y=_[0].end;const G=I.getContentName(t.content,_),F=R.pushAttributed(G,e);if(a=a.withContentNameScopesList(F),I.endHasBackReferences&&(a=a.withEndRule(I.getEndWithResolvedBackReferences(t.content,_))),!S&&T.hasSameRuleAs(a)){a=a.pop(),c.produce(a,h),m=!0;return}}else if(N instanceof $o){const I=N;Ei(e,t,r,a,c,I.beginCaptures,_),c.produce(a,_[0].end),y=_[0].end;const G=I.getContentName(t.content,_),F=R.pushAttributed(G,e);if(a=a.withContentNameScopesList(F),I.whileHasBackReferences&&(a=a.withEndRule(I.getWhileWithResolvedBackReferences(t.content,_))),!S&&T.hasSameRuleAs(a)){a=a.pop(),c.produce(a,h),m=!0;return}}else if(Ei(e,t,r,a,c,N.captures,_),c.produce(a,_[0].end),a=a.pop(),!S){a=a.safePop(),c.produce(a,h),m=!0;return}}_[0].end>i&&(i=_[0].end,r=!1)}}function gN(e,t,r,i,a,c){let u=a.beginRuleCapturedEOL?0:-1;const f=[];for(let h=a;h;h=h.pop()){const m=h.getRule(e);m instanceof $o&&f.push({rule:m,stack:h})}for(let h=f.pop();h;h=f.pop()){const{ruleScanner:m,findOptions:y}=wN(h.rule,e,h.stack.endRule,r,i===u),x=m.findNextMatchSync(t,i,y);if(x){if(x.ruleId!==lx){a=h.stack.pop();break}x.captureIndices&&x.captureIndices.length&&(c.produce(h.stack,x.captureIndices[0].start),Ei(e,t,r,h.stack,c,h.rule.whileCaptures,x.captureIndices),c.produce(h.stack,x.captureIndices[0].end),u=x.captureIndices[0].end,x.captureIndices[0].end>i&&(i=x.captureIndices[0].end,r=!1))}else{a=h.stack.pop();break}}return{stack:a,linePos:i,anchorPosition:u,isFirstLine:r}}function yN(e,t,r,i,a,c){const u=xN(e,t,r,i,a,c),f=e.getInjections();if(f.length===0)return u;const h=vN(f,e,t,r,i,a,c);if(!h)return u;if(!u)return h;const m=u.captureIndices[0].start,y=h.captureIndices[0].start;return y<m||h.priorityMatch&&y===m?h:u}function xN(e,t,r,i,a,c){const u=a.getRule(e),{ruleScanner:f,findOptions:h}=fx(u,e,a.endRule,r,i===c),m=f.findNextMatchSync(t,i,h);return m?{captureIndices:m.captureIndices,matchedRuleId:m.ruleId}:null}function vN(e,t,r,i,a,c,u){let f=Number.MAX_VALUE,h=null,m,y=0;const x=c.contentNameScopesList.getScopeNames();for(let v=0,w=e.length;v<w;v++){const _=e[v];if(!_.matcher(x))continue;const k=t.getRule(_.ruleId),{ruleScanner:S,findOptions:N}=fx(k,t,null,i,a===u),T=S.findNextMatchSync(r,a,N);if(!T)continue;const E=T.captureIndices[0].start;if(!(E>=f)&&(f=E,h=T.captureIndices,m=T.ruleId,y=_.priority,f===a))break}return h?{priorityMatch:y===-1,captureIndices:h,matchedRuleId:m}:null}function fx(e,t,r,i,a){return{ruleScanner:e.compileAG(t,r,i,a),findOptions:0}}function wN(e,t,r,i,a){return{ruleScanner:e.compileWhileAG(t,r,i,a),findOptions:0}}function Ei(e,t,r,i,a,c,u){if(c.length===0)return;const f=t.content,h=Math.min(c.length,u.length),m=[],y=u[0].end;for(let x=0;x<h;x++){const v=c[x];if(v===null)continue;const w=u[x];if(w.length===0)continue;if(w.start>y)break;for(;m.length>0&&m[m.length-1].endPos<=w.start;)a.produceFromScopes(m[m.length-1].scopes,m[m.length-1].endPos),m.pop();if(m.length>0?a.produceFromScopes(m[m.length-1].scopes,w.start):a.produce(i,w.start),v.retokenizeCapturedWithRuleId){const k=v.getName(f,u),S=i.contentNameScopesList.pushAttributed(k,e),N=v.getContentName(f,u),T=S.pushAttributed(N,e),E=i.push(v.retokenizeCapturedWithRuleId,w.start,-1,!1,null,S,T),R=e.createOnigString(f.substring(0,w.end));dx(e,R,r&&w.start===0,w.start,E,a,!1,0),ax(R);continue}const _=v.getName(f,u);if(_!==null){const S=(m.length>0?m[m.length-1].scopes:i.contentNameScopesList).pushAttributed(_,e);m.push(new _N(S,w.end))}}for(;m.length>0;)a.produceFromScopes(m[m.length-1].scopes,m[m.length-1].endPos),m.pop()}var _N=class{constructor(e,t){H(this,"scopes");H(this,"endPos");this.scopes=e,this.endPos=t}};function bN(e,t,r,i,a,c,u,f){return new jN(e,t,r,i,a,c,u,f)}function Rg(e,t,r,i,a){const c=Bo(t,Uo),u=cx.getCompiledRuleId(r,i,a.repository);for(const f of c)e.push({debugSelector:t,matcher:f.matcher,ruleId:u,grammar:a,priority:f.priority})}function Uo(e,t){if(t.length<e.length)return!1;let r=0;return e.every(i=>{for(let a=r;a<t.length;a++)if(kN(t[a],i))return r=a+1,!0;return!1})}function kN(e,t){if(!e)return!1;if(e===t)return!0;const r=t.length;return e.length>r&&e.substr(0,r)===t&&e[r]==="."}var jN=class{constructor(e,t,r,i,a,c,u,f){H(this,"_rootId");H(this,"_lastRuleId");H(this,"_ruleId2desc");H(this,"_includedGrammars");H(this,"_grammarRepository");H(this,"_grammar");H(this,"_injections");H(this,"_basicScopeAttributesProvider");H(this,"_tokenTypeMatchers");if(this._rootScopeName=e,this.balancedBracketSelectors=c,this._onigLib=f,this._basicScopeAttributesProvider=new pN(r,i),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=u,this._grammar=Lg(t,null),this._injections=null,this._tokenTypeMatchers=[],a)for(const h of Object.keys(a)){const m=Bo(h,Uo);for(const y of m)this._tokenTypeMatchers.push({matcher:y.matcher,type:a[h]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const e of this._ruleId2desc)e&&e.dispose()}createOnigScanner(e){return this._onigLib.createOnigScanner(e)}createOnigString(e){return this._onigLib.createOnigString(e)}getMetadataForScope(e){return this._basicScopeAttributesProvider.getBasicScopeAttributes(e)}_collectInjections(){const e={lookup:a=>a===this._rootScopeName?this._grammar:this.getExternalGrammar(a),injections:a=>this._grammarRepository.injections(a)},t=[],r=this._rootScopeName,i=e.lookup(r);if(i){const a=i.injections;if(a)for(let u in a)Rg(t,u,a[u],this,i);const c=this._grammarRepository.injections(r);c&&c.forEach(u=>{const f=this.getExternalGrammar(u);if(f){const h=f.injectionSelector;h&&Rg(t,h,f,this,f)}})}return t.sort((a,c)=>a.priority-c.priority),t}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(e){const t=++this._lastRuleId,r=e(t);return this._ruleId2desc[t]=r,r}getRule(e){return this._ruleId2desc[e]}getExternalGrammar(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){const r=this._grammarRepository.lookup(e);if(r)return this._includedGrammars[e]=Lg(r,t&&t.$base),this._includedGrammars[e]}}tokenizeLine(e,t,r=0){const i=this._tokenize(e,t,!1,r);return{tokens:i.lineTokens.getResult(i.ruleStack,i.lineLength),ruleStack:i.ruleStack,stoppedEarly:i.stoppedEarly}}tokenizeLine2(e,t,r=0){const i=this._tokenize(e,t,!0,r);return{tokens:i.lineTokens.getBinaryResult(i.ruleStack,i.lineLength),ruleStack:i.ruleStack,stoppedEarly:i.stoppedEarly}}_tokenize(e,t,r,i){this._rootId===-1&&(this._rootId=cx.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let a;if(!t||t===nd.NULL){a=!0;const m=this._basicScopeAttributesProvider.getDefaultAttributes(),y=this.themeProvider.getDefaults(),x=Cs.set(0,m.languageId,m.tokenType,null,y.fontStyle,y.foregroundId,y.backgroundId),v=this.getRule(this._rootId).getName(null,null);let w;v?w=Oi.createRootAndLookUpScopeName(v,x,this):w=Oi.createRoot("unknown",x),t=new nd(null,this._rootId,-1,-1,!1,null,w,w)}else a=!1,t.reset();e=e+`
`;const c=this.createOnigString(e),u=c.content.length,f=new NN(r,e,this._tokenTypeMatchers,this.balancedBracketSelectors),h=dx(this,c,a,0,t,f,!0,i);return ax(c),{lineLength:u,lineTokens:f,ruleStack:h.stack,stoppedEarly:h.stoppedEarly}}};function Lg(e,t){return e=US(e),e.repository=e.repository||{},e.repository.$self={$vscodeTextmateLocation:e.$vscodeTextmateLocation,patterns:e.patterns,name:e.scopeName},e.repository.$base=t||e.repository.$self,e}var Oi=class kn{constructor(t,r,i){this.parent=t,this.scopePath=r,this.tokenAttributes=i}static fromExtension(t,r){let i=t,a=(t==null?void 0:t.scopePath)??null;for(const c of r)a=_u.push(a,c.scopeNames),i=new kn(i,a,c.encodedTokenAttributes);return i}static createRoot(t,r){return new kn(null,new _u(null,t),r)}static createRootAndLookUpScopeName(t,r,i){const a=i.getMetadataForScope(t),c=new _u(null,t),u=i.themeProvider.themeMatch(c),f=kn.mergeAttributes(r,a,u);return new kn(null,c,f)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(t){return kn.equals(this,t)}static equals(t,r){do{if(t===r||!t&&!r)return!0;if(!t||!r||t.scopeName!==r.scopeName||t.tokenAttributes!==r.tokenAttributes)return!1;t=t.parent,r=r.parent}while(!0)}static mergeAttributes(t,r,i){let a=-1,c=0,u=0;return i!==null&&(a=i.fontStyle,c=i.foregroundId,u=i.backgroundId),Cs.set(t,r.languageId,r.tokenType,null,a,c,u)}pushAttributed(t,r){if(t===null)return this;if(t.indexOf(" ")===-1)return kn._pushAttributed(this,t,r);const i=t.split(/ /g);let a=this;for(const c of i)a=kn._pushAttributed(a,c,r);return a}static _pushAttributed(t,r,i){const a=i.getMetadataForScope(r),c=t.scopePath.push(r),u=i.themeProvider.themeMatch(c),f=kn.mergeAttributes(t.tokenAttributes,a,u);return new kn(t,c,f)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(t){var a;const r=[];let i=this;for(;i&&i!==t;)r.push({encodedTokenAttributes:i.tokenAttributes,scopeNames:i.scopePath.getExtensionIfDefined(((a=i.parent)==null?void 0:a.scopePath)??null)}),i=i.parent;return i===t?r.reverse():void 0}},en,nd=(en=class{constructor(t,r,i,a,c,u,f,h){H(this,"_stackElementBrand");H(this,"_enterPos");H(this,"_anchorPos");H(this,"depth");this.parent=t,this.ruleId=r,this.beginRuleCapturedEOL=c,this.endRule=u,this.nameScopesList=f,this.contentNameScopesList=h,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=i,this._anchorPos=a}equals(t){return t===null?!1:en._equals(this,t)}static _equals(t,r){return t===r?!0:this._structuralEquals(t,r)?Oi.equals(t.contentNameScopesList,r.contentNameScopesList):!1}static _structuralEquals(t,r){do{if(t===r||!t&&!r)return!0;if(!t||!r||t.depth!==r.depth||t.ruleId!==r.ruleId||t.endRule!==r.endRule)return!1;t=t.parent,r=r.parent}while(!0)}clone(){return this}static _reset(t){for(;t;)t._enterPos=-1,t._anchorPos=-1,t=t.parent}reset(){en._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(t,r,i,a,c,u,f){return new en(this,t,r,i,a,c,u,f)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(t){return t.getRule(this.ruleId)}toString(){const t=[];return this._writeString(t,0),"["+t.join(",")+"]"}_writeString(t,r){var i,a;return this.parent&&(r=this.parent._writeString(t,r)),t[r++]=`(${this.ruleId}, ${(i=this.nameScopesList)==null?void 0:i.toString()}, ${(a=this.contentNameScopesList)==null?void 0:a.toString()})`,r}withContentNameScopesList(t){return this.contentNameScopesList===t?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,t)}withEndRule(t){return this.endRule===t?this:new en(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,t,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(t){let r=this;for(;r&&r._enterPos===t._enterPos;){if(r.ruleId===t.ruleId)return!0;r=r.parent}return!1}toStateStackFrame(){var t,r,i;return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((r=this.nameScopesList)==null?void 0:r.getExtensionIfDefined(((t=this.parent)==null?void 0:t.nameScopesList)??null))??[],contentNameScopesList:((i=this.contentNameScopesList)==null?void 0:i.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(t,r){const i=Oi.fromExtension((t==null?void 0:t.nameScopesList)??null,r.nameScopesList);return new en(t,r.ruleId,r.enterPos??-1,r.anchorPos??-1,r.beginRuleCapturedEOL,r.endRule,i,Oi.fromExtension(i,r.contentNameScopesList))}},H(en,"NULL",new en(null,0,0,0,!1,null,null,null)),en),SN=class{constructor(e,t){H(this,"balancedBracketScopes");H(this,"unbalancedBracketScopes");H(this,"allowAny",!1);this.balancedBracketScopes=e.flatMap(r=>r==="*"?(this.allowAny=!0,[]):Bo(r,Uo).map(i=>i.matcher)),this.unbalancedBracketScopes=t.flatMap(r=>Bo(r,Uo).map(i=>i.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(e){for(const t of this.unbalancedBracketScopes)if(t(e))return!1;for(const t of this.balancedBracketScopes)if(t(e))return!0;return this.allowAny}},NN=class{constructor(e,t,r,i){H(this,"_emitBinaryTokens");H(this,"_lineText");H(this,"_tokens");H(this,"_binaryTokens");H(this,"_lastTokenEndIndex");H(this,"_tokenTypeOverrides");this.balancedBracketSelectors=i,this._emitBinaryTokens=e,this._tokenTypeOverrides=r,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(e,t){this.produceFromScopes(e.contentNameScopesList,t)}produceFromScopes(e,t){var i;if(this._lastTokenEndIndex>=t)return;if(this._emitBinaryTokens){let a=(e==null?void 0:e.tokenAttributes)??0,c=!1;if((i=this.balancedBracketSelectors)!=null&&i.matchesAlways&&(c=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const u=(e==null?void 0:e.getScopeNames())??[];for(const f of this._tokenTypeOverrides)f.matcher(u)&&(a=Cs.set(a,0,f.type,null,-1,0,0));this.balancedBracketSelectors&&(c=this.balancedBracketSelectors.match(u))}if(c&&(a=Cs.set(a,0,8,c,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===a){this._lastTokenEndIndex=t;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(a),this._lastTokenEndIndex=t;return}const r=(e==null?void 0:e.getScopeNames())??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:r}),this._lastTokenEndIndex=t}getResult(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);const r=new Uint32Array(this._binaryTokens.length);for(let i=0,a=this._binaryTokens.length;i<a;i++)r[i]=this._binaryTokens[i];return r}},CN=class{constructor(e,t){H(this,"_grammars",new Map);H(this,"_rawGrammars",new Map);H(this,"_injectionGrammars",new Map);H(this,"_theme");this._onigLib=t,this._theme=e}dispose(){for(const e of this._grammars.values())e.dispose()}setTheme(e){this._theme=e}getColorMap(){return this._theme.getColorMap()}addGrammar(e,t){this._rawGrammars.set(e.scopeName,e),t&&this._injectionGrammars.set(e.scopeName,t)}lookup(e){return this._rawGrammars.get(e)}injections(e){return this._injectionGrammars.get(e)}getDefaults(){return this._theme.getDefaults()}themeMatch(e){return this._theme.match(e)}grammarForScopeName(e,t,r,i,a){if(!this._grammars.has(e)){let c=this._rawGrammars.get(e);if(!c)return null;this._grammars.set(e,bN(e,c,t,r,i,a,this,this._onigLib))}return this._grammars.get(e)}},EN=class{constructor(t){H(this,"_options");H(this,"_syncRegistry");H(this,"_ensureGrammarCache");this._options=t,this._syncRegistry=new CN(Fo.createFromRawTheme(t.theme,t.colorMap),t.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(t,r){this._syncRegistry.setTheme(Fo.createFromRawTheme(t,r))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(t,r,i){return this.loadGrammarWithConfiguration(t,r,{embeddedLanguages:i})}loadGrammarWithConfiguration(t,r,i){return this._loadGrammar(t,r,i.embeddedLanguages,i.tokenTypes,new SN(i.balancedBracketSelectors||[],i.unbalancedBracketSelectors||[]))}loadGrammar(t){return this._loadGrammar(t,0,null,null,null)}_loadGrammar(t,r,i,a,c){const u=new rN(this._syncRegistry,t);for(;u.Q.length>0;)u.Q.map(f=>this._loadSingleGrammar(f.scopeName)),u.processQueue();return this._grammarForScopeName(t,r,i,a,c)}_loadSingleGrammar(t){this._ensureGrammarCache.has(t)||(this._doLoadSingleGrammar(t),this._ensureGrammarCache.set(t,!0))}_doLoadSingleGrammar(t){const r=this._options.loadGrammar(t);if(r){const i=typeof this._options.getInjections=="function"?this._options.getInjections(t):void 0;this._syncRegistry.addGrammar(r,i)}}addGrammar(t,r=[],i=0,a=null){return this._syncRegistry.addGrammar(t,r),this._grammarForScopeName(t.scopeName,i,a)}_grammarForScopeName(t,r=0,i=null,a=null,c=null){return this._syncRegistry.grammarForScopeName(t,r,i,a,c)}},rd=nd.NULL;const PN=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class na{constructor(t,r,i){this.normal=r,this.property=t,i&&(this.space=i)}}na.prototype.normal={};na.prototype.property={};na.prototype.space=void 0;function hx(e,t){const r={},i={};for(const a of e)Object.assign(r,a.property),Object.assign(i,a.normal);return new na(r,i,t)}function sd(e){return e.toLowerCase()}class Dt{constructor(t,r){this.attribute=r,this.property=t}}Dt.prototype.attribute="";Dt.prototype.booleanish=!1;Dt.prototype.boolean=!1;Dt.prototype.commaOrSpaceSeparated=!1;Dt.prototype.commaSeparated=!1;Dt.prototype.defined=!1;Dt.prototype.mustUseProperty=!1;Dt.prototype.number=!1;Dt.prototype.overloadedBoolean=!1;Dt.prototype.property="";Dt.prototype.spaceSeparated=!1;Dt.prototype.space=void 0;let TN=0;const Ee=Ur(),it=Ur(),id=Ur(),Z=Ur(),Ve=Ur(),_s=Ur(),Bt=Ur();function Ur(){return 2**++TN}const ad=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ee,booleanish:it,commaOrSpaceSeparated:Bt,commaSeparated:_s,number:Z,overloadedBoolean:id,spaceSeparated:Ve},Symbol.toStringTag,{value:"Module"})),ku=Object.keys(ad);class Jd extends Dt{constructor(t,r,i,a){let c=-1;if(super(t,r),Dg(this,"space",a),typeof i=="number")for(;++c<ku.length;){const u=ku[c];Dg(this,ku[c],(i&ad[u])===ad[u])}}}Jd.prototype.defined=!0;function Dg(e,t,r){r&&(e[t]=r)}function Ts(e){const t={},r={};for(const[i,a]of Object.entries(e.properties)){const c=new Jd(i,e.transform(e.attributes||{},i),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(c.mustUseProperty=!0),t[i]=c,r[sd(i)]=i,r[sd(c.attribute)]=i}return new na(t,r,e.space)}const px=Ts({properties:{ariaActiveDescendant:null,ariaAtomic:it,ariaAutoComplete:null,ariaBusy:it,ariaChecked:it,ariaColCount:Z,ariaColIndex:Z,ariaColSpan:Z,ariaControls:Ve,ariaCurrent:null,ariaDescribedBy:Ve,ariaDetails:null,ariaDisabled:it,ariaDropEffect:Ve,ariaErrorMessage:null,ariaExpanded:it,ariaFlowTo:Ve,ariaGrabbed:it,ariaHasPopup:null,ariaHidden:it,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ve,ariaLevel:Z,ariaLive:null,ariaModal:it,ariaMultiLine:it,ariaMultiSelectable:it,ariaOrientation:null,ariaOwns:Ve,ariaPlaceholder:null,ariaPosInSet:Z,ariaPressed:it,ariaReadOnly:it,ariaRelevant:null,ariaRequired:it,ariaRoleDescription:Ve,ariaRowCount:Z,ariaRowIndex:Z,ariaRowSpan:Z,ariaSelected:it,ariaSetSize:Z,ariaSort:null,ariaValueMax:Z,ariaValueMin:Z,ariaValueNow:Z,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function mx(e,t){return t in e?e[t]:t}function gx(e,t){return mx(e,t.toLowerCase())}const AN=Ts({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:_s,acceptCharset:Ve,accessKey:Ve,action:null,allow:null,allowFullScreen:Ee,allowPaymentRequest:Ee,allowUserMedia:Ee,alt:null,as:null,async:Ee,autoCapitalize:null,autoComplete:Ve,autoFocus:Ee,autoPlay:Ee,blocking:Ve,capture:null,charSet:null,checked:Ee,cite:null,className:Ve,cols:Z,colSpan:null,content:null,contentEditable:it,controls:Ee,controlsList:Ve,coords:Z|_s,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ee,defer:Ee,dir:null,dirName:null,disabled:Ee,download:id,draggable:it,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ee,formTarget:null,headers:Ve,height:Z,hidden:id,high:Z,href:null,hrefLang:null,htmlFor:Ve,httpEquiv:Ve,id:null,imageSizes:null,imageSrcSet:null,inert:Ee,inputMode:null,integrity:null,is:null,isMap:Ee,itemId:null,itemProp:Ve,itemRef:Ve,itemScope:Ee,itemType:Ve,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ee,low:Z,manifest:null,max:null,maxLength:Z,media:null,method:null,min:null,minLength:Z,multiple:Ee,muted:Ee,name:null,nonce:null,noModule:Ee,noValidate:Ee,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ee,optimum:Z,pattern:null,ping:Ve,placeholder:null,playsInline:Ee,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ee,referrerPolicy:null,rel:Ve,required:Ee,reversed:Ee,rows:Z,rowSpan:Z,sandbox:Ve,scope:null,scoped:Ee,seamless:Ee,selected:Ee,shadowRootClonable:Ee,shadowRootDelegatesFocus:Ee,shadowRootMode:null,shape:null,size:Z,sizes:null,slot:null,span:Z,spellCheck:it,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Z,step:null,style:null,tabIndex:Z,target:null,title:null,translate:null,type:null,typeMustMatch:Ee,useMap:null,value:it,width:Z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ve,axis:null,background:null,bgColor:null,border:Z,borderColor:null,bottomMargin:Z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ee,declare:Ee,event:null,face:null,frame:null,frameBorder:null,hSpace:Z,leftMargin:Z,link:null,longDesc:null,lowSrc:null,marginHeight:Z,marginWidth:Z,noResize:Ee,noHref:Ee,noShade:Ee,noWrap:Ee,object:null,profile:null,prompt:null,rev:null,rightMargin:Z,rules:null,scheme:null,scrolling:it,standby:null,summary:null,text:null,topMargin:Z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ee,disableRemotePlayback:Ee,prefix:null,property:null,results:Z,security:null,unselectable:null},space:"html",transform:gx}),RN=Ts({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Bt,accentHeight:Z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Z,amplitude:Z,arabicForm:null,ascent:Z,attributeName:null,attributeType:null,azimuth:Z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Z,by:null,calcMode:null,capHeight:Z,className:Ve,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Z,diffuseConstant:Z,direction:null,display:null,dur:null,divisor:Z,dominantBaseline:null,download:Ee,dx:null,dy:null,edgeMode:null,editable:null,elevation:Z,enableBackground:null,end:null,event:null,exponent:Z,externalResourcesRequired:null,fill:null,fillOpacity:Z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:_s,g2:_s,glyphName:_s,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Z,horizOriginX:Z,horizOriginY:Z,id:null,ideographic:Z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Z,k:Z,k1:Z,k2:Z,k3:Z,k4:Z,kernelMatrix:Bt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Z,overlineThickness:Z,paintOrder:null,panose1:null,path:null,pathLength:Z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ve,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Z,pointsAtY:Z,pointsAtZ:Z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Bt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Bt,rev:Bt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Bt,requiredFeatures:Bt,requiredFonts:Bt,requiredFormats:Bt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Z,specularExponent:Z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Z,strikethroughThickness:Z,string:null,stroke:null,strokeDashArray:Bt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Z,strokeOpacity:Z,strokeWidth:null,style:null,surfaceScale:Z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Bt,tabIndex:Z,tableValues:null,target:null,targetX:Z,targetY:Z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Bt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Z,underlineThickness:Z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Z,values:null,vAlphabetic:Z,vMathematical:Z,vectorEffect:null,vHanging:Z,vIdeographic:Z,version:null,vertAdvY:Z,vertOriginX:Z,vertOriginY:Z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:mx}),yx=Ts({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),xx=Ts({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:gx}),vx=Ts({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),LN=/[A-Z]/g,Ig=/-[a-z]/g,DN=/^data[-\w.:]+$/i;function IN(e,t){const r=sd(t);let i=t,a=Dt;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&DN.test(t)){if(t.charAt(4)==="-"){const c=t.slice(5).replace(Ig,MN);i="data"+c.charAt(0).toUpperCase()+c.slice(1)}else{const c=t.slice(4);if(!Ig.test(c)){let u=c.replace(LN,ON);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}a=Jd}return new a(i,t)}function ON(e){return"-"+e.toLowerCase()}function MN(e){return e.charAt(1).toUpperCase()}const VN=hx([px,AN,yx,xx,vx],"html"),wx=hx([px,RN,yx,xx,vx],"svg"),Og={}.hasOwnProperty;function FN(e,t){const r=t||{};function i(a,...c){let u=i.invalid;const f=i.handlers;if(a&&Og.call(a,e)){const h=String(a[e]);u=Og.call(f,h)?f[h]:i.unknown}if(u)return u.call(this,a,...c)}return i.handlers=r.handlers||{},i.invalid=r.invalid,i.unknown=r.unknown,i}const BN=/["&'<>`]/g,zN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$N=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,UN=/[|\\{}()[\]^$+*?.]/g,Mg=new WeakMap;function WN(e,t){if(e=e.replace(t.subset?GN(t.subset):BN,i),t.subset||t.escapeOnly)return e;return e.replace(zN,r).replace($N,i);function r(a,c,u){return t.format((a.charCodeAt(0)-55296)*1024+a.charCodeAt(1)-56320+65536,u.charCodeAt(c+2),t)}function i(a,c,u){return t.format(a.charCodeAt(0),u.charCodeAt(c+1),t)}}function GN(e){let t=Mg.get(e);return t||(t=HN(e),Mg.set(e,t)),t}function HN(e){const t=[];let r=-1;for(;++r<e.length;)t.push(e[r].replace(UN,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}const KN=/[\dA-Fa-f]/;function qN(e,t,r){const i="&#x"+e.toString(16).toUpperCase();return r&&t&&!KN.test(String.fromCharCode(t))?i:i+";"}const YN=/\d/;function QN(e,t,r){const i="&#"+String(e);return r&&t&&!YN.test(String.fromCharCode(t))?i:i+";"}const XN=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],ju={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},JN=["cent","copy","divide","gt","lt","not","para","times"],_x={}.hasOwnProperty,od={};let xo;for(xo in ju)_x.call(ju,xo)&&(od[ju[xo]]=xo);const ZN=/[^\dA-Za-z]/;function e2(e,t,r,i){const a=String.fromCharCode(e);if(_x.call(od,a)){const c=od[a],u="&"+c;return r&&XN.includes(c)&&!JN.includes(c)&&(!i||t&&t!==61&&ZN.test(String.fromCharCode(t)))?u:u+";"}return""}function t2(e,t,r){let i=qN(e,t,r.omitOptionalSemicolons),a;if((r.useNamedReferences||r.useShortestReferences)&&(a=e2(e,t,r.omitOptionalSemicolons,r.attribute)),(r.useShortestReferences||!a)&&r.useShortestReferences){const c=QN(e,t,r.omitOptionalSemicolons);c.length<i.length&&(i=c)}return a&&(!r.useShortestReferences||a.length<i.length)?a:i}function bs(e,t){return WN(e,Object.assign({format:t2},t))}const n2=/^>|^->|<!--|-->|--!>|<!-$/g,r2=[">"],s2=["<",">"];function i2(e,t,r,i){return i.settings.bogusComments?"<?"+bs(e.value,Object.assign({},i.settings.characterReferences,{subset:r2}))+">":"<!--"+e.value.replace(n2,a)+"-->";function a(c){return bs(c,Object.assign({},i.settings.characterReferences,{subset:s2}))}}function a2(e,t,r,i){return"<!"+(i.settings.upperDoctype?"DOCTYPE":"doctype")+(i.settings.tightDoctype?"":" ")+"html>"}function Vg(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let i=0,a=r.indexOf(t);for(;a!==-1;)i++,a=r.indexOf(t,a+t.length);return i}function o2(e,t){const r=t||{};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}function l2(e){return e.join(" ").trim()}const c2=/[ \t\n\f\r]/g;function Zd(e){return typeof e=="object"?e.type==="text"?Fg(e.value):!1:Fg(e)}function Fg(e){return e.replace(c2,"")===""}const ct=kx(1),bx=kx(-1),u2=[];function kx(e){return t;function t(r,i,a){const c=r?r.children:u2;let u=(i||0)+e,f=c[u];if(!a)for(;f&&Zd(f);)u+=e,f=c[u];return f}}const d2={}.hasOwnProperty;function jx(e){return t;function t(r,i,a){return d2.call(e,r.tagName)&&e[r.tagName](r,i,a)}}const ef=jx({body:h2,caption:Su,colgroup:Su,dd:y2,dt:g2,head:Su,html:f2,li:m2,optgroup:x2,option:v2,p:p2,rp:Bg,rt:Bg,tbody:_2,td:zg,tfoot:b2,th:zg,thead:w2,tr:k2});function Su(e,t,r){const i=ct(r,t,!0);return!i||i.type!=="comment"&&!(i.type==="text"&&Zd(i.value.charAt(0)))}function f2(e,t,r){const i=ct(r,t);return!i||i.type!=="comment"}function h2(e,t,r){const i=ct(r,t);return!i||i.type!=="comment"}function p2(e,t,r){const i=ct(r,t);return i?i.type==="element"&&(i.tagName==="address"||i.tagName==="article"||i.tagName==="aside"||i.tagName==="blockquote"||i.tagName==="details"||i.tagName==="div"||i.tagName==="dl"||i.tagName==="fieldset"||i.tagName==="figcaption"||i.tagName==="figure"||i.tagName==="footer"||i.tagName==="form"||i.tagName==="h1"||i.tagName==="h2"||i.tagName==="h3"||i.tagName==="h4"||i.tagName==="h5"||i.tagName==="h6"||i.tagName==="header"||i.tagName==="hgroup"||i.tagName==="hr"||i.tagName==="main"||i.tagName==="menu"||i.tagName==="nav"||i.tagName==="ol"||i.tagName==="p"||i.tagName==="pre"||i.tagName==="section"||i.tagName==="table"||i.tagName==="ul"):!r||!(r.type==="element"&&(r.tagName==="a"||r.tagName==="audio"||r.tagName==="del"||r.tagName==="ins"||r.tagName==="map"||r.tagName==="noscript"||r.tagName==="video"))}function m2(e,t,r){const i=ct(r,t);return!i||i.type==="element"&&i.tagName==="li"}function g2(e,t,r){const i=ct(r,t);return!!(i&&i.type==="element"&&(i.tagName==="dt"||i.tagName==="dd"))}function y2(e,t,r){const i=ct(r,t);return!i||i.type==="element"&&(i.tagName==="dt"||i.tagName==="dd")}function Bg(e,t,r){const i=ct(r,t);return!i||i.type==="element"&&(i.tagName==="rp"||i.tagName==="rt")}function x2(e,t,r){const i=ct(r,t);return!i||i.type==="element"&&i.tagName==="optgroup"}function v2(e,t,r){const i=ct(r,t);return!i||i.type==="element"&&(i.tagName==="option"||i.tagName==="optgroup")}function w2(e,t,r){const i=ct(r,t);return!!(i&&i.type==="element"&&(i.tagName==="tbody"||i.tagName==="tfoot"))}function _2(e,t,r){const i=ct(r,t);return!i||i.type==="element"&&(i.tagName==="tbody"||i.tagName==="tfoot")}function b2(e,t,r){return!ct(r,t)}function k2(e,t,r){const i=ct(r,t);return!i||i.type==="element"&&i.tagName==="tr"}function zg(e,t,r){const i=ct(r,t);return!i||i.type==="element"&&(i.tagName==="td"||i.tagName==="th")}const j2=jx({body:C2,colgroup:E2,head:N2,html:S2,tbody:P2});function S2(e){const t=ct(e,-1);return!t||t.type!=="comment"}function N2(e){const t=new Set;for(const i of e.children)if(i.type==="element"&&(i.tagName==="base"||i.tagName==="title")){if(t.has(i.tagName))return!1;t.add(i.tagName)}const r=e.children[0];return!r||r.type==="element"}function C2(e){const t=ct(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&Zd(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function E2(e,t,r){const i=bx(r,t),a=ct(e,-1,!0);return r&&i&&i.type==="element"&&i.tagName==="colgroup"&&ef(i,r.children.indexOf(i),r)?!1:!!(a&&a.type==="element"&&a.tagName==="col")}function P2(e,t,r){const i=bx(r,t),a=ct(e,-1);return r&&i&&i.type==="element"&&(i.tagName==="thead"||i.tagName==="tbody")&&ef(i,r.children.indexOf(i),r)?!1:!!(a&&a.type==="element"&&a.tagName==="tr")}const vo={name:[[`
\f\r &/=>`.split(""),`
\f\r "&'/=>\``.split("")],[`\0
\f\r "&'/<=>`.split(""),`\0
\f\r "&'/<=>\``.split("")]],unquoted:[[`
\f\r &>`.split(""),`\0
\f\r "&'<=>\``.split("")],[`\0
\f\r "&'<=>\``.split(""),`\0
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function T2(e,t,r,i){const a=i.schema,c=a.space==="svg"?!1:i.settings.omitOptionalTags;let u=a.space==="svg"?i.settings.closeEmptyElements:i.settings.voids.includes(e.tagName.toLowerCase());const f=[];let h;a.space==="html"&&e.tagName==="svg"&&(i.schema=wx);const m=A2(i,e.properties),y=i.all(a.space==="html"&&e.tagName==="template"?e.content:e);return i.schema=a,y&&(u=!1),(m||!c||!j2(e,t,r))&&(f.push("<",e.tagName,m?" "+m:""),u&&(a.space==="svg"||i.settings.closeSelfClosing)&&(h=m.charAt(m.length-1),(!i.settings.tightSelfClosing||h==="/"||h&&h!=='"'&&h!=="'")&&f.push(" "),f.push("/")),f.push(">")),f.push(y),!u&&(!c||!ef(e,t,r))&&f.push("</"+e.tagName+">"),f.join("")}function A2(e,t){const r=[];let i=-1,a;if(t){for(a in t)if(t[a]!==null&&t[a]!==void 0){const c=R2(e,a,t[a]);c&&r.push(c)}}for(;++i<r.length;){const c=e.settings.tightAttributes?r[i].charAt(r[i].length-1):void 0;i!==r.length-1&&c!=='"'&&c!=="'"&&(r[i]+=" ")}return r.join("")}function R2(e,t,r){const i=IN(e.schema,t),a=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,c=e.settings.allowDangerousCharacters?0:1;let u=e.quote,f;if(i.overloadedBoolean&&(r===i.attribute||r==="")?r=!0:(i.boolean||i.overloadedBoolean)&&(typeof r!="string"||r===i.attribute||r==="")&&(r=!!r),r==null||r===!1||typeof r=="number"&&Number.isNaN(r))return"";const h=bs(i.attribute,Object.assign({},e.settings.characterReferences,{subset:vo.name[a][c]}));return r===!0||(r=Array.isArray(r)?(i.commaSeparated?o2:l2)(r,{padLeft:!e.settings.tightCommaSeparatedLists}):String(r),e.settings.collapseEmptyAttributes&&!r)?h:(e.settings.preferUnquoted&&(f=bs(r,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:vo.unquoted[a][c]}))),f!==r&&(e.settings.quoteSmart&&Vg(r,u)>Vg(r,e.alternative)&&(u=e.alternative),f=u+bs(r,Object.assign({},e.settings.characterReferences,{subset:(u==="'"?vo.single:vo.double)[a][c],attribute:!0}))+u),h+(f&&"="+f))}const L2=["<","&"];function Sx(e,t,r,i){return r&&r.type==="element"&&(r.tagName==="script"||r.tagName==="style")?e.value:bs(e.value,Object.assign({},i.settings.characterReferences,{subset:L2}))}function D2(e,t,r,i){return i.settings.allowDangerousHtml?e.value:Sx(e,t,r,i)}function I2(e,t,r,i){return i.all(e)}const O2=FN("type",{invalid:M2,unknown:V2,handlers:{comment:i2,doctype:a2,element:T2,raw:D2,root:I2,text:Sx}});function M2(e){throw new Error("Expected node, not `"+e+"`")}function V2(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const F2={},B2={},z2=[];function $2(e,t){const r=F2,i=r.quote||'"',a=i==='"'?"'":'"';if(i!=='"'&&i!=="'")throw new Error("Invalid quote `"+i+"`, expected `'` or `\"`");return{one:U2,all:W2,settings:{omitOptionalTags:r.omitOptionalTags||!1,allowParseErrors:r.allowParseErrors||!1,allowDangerousCharacters:r.allowDangerousCharacters||!1,quoteSmart:r.quoteSmart||!1,preferUnquoted:r.preferUnquoted||!1,tightAttributes:r.tightAttributes||!1,upperDoctype:r.upperDoctype||!1,tightDoctype:r.tightDoctype||!1,bogusComments:r.bogusComments||!1,tightCommaSeparatedLists:r.tightCommaSeparatedLists||!1,tightSelfClosing:r.tightSelfClosing||!1,collapseEmptyAttributes:r.collapseEmptyAttributes||!1,allowDangerousHtml:r.allowDangerousHtml||!1,voids:r.voids||PN,characterReferences:r.characterReferences||B2,closeSelfClosing:r.closeSelfClosing||!1,closeEmptyElements:r.closeEmptyElements||!1},schema:r.space==="svg"?wx:VN,quote:i,alternative:a}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function U2(e,t,r){return O2(e,t,r,this)}function W2(e){const t=[],r=e&&e.children||z2;let i=-1;for(;++i<r.length;)t[i]=this.one(r[i],i,e);return t.join("")}function G2(e){return Array.isArray(e)?e:[e]}function al(e,t=!1){var c;const r=e.split(/(\r?\n)/g);let i=0;const a=[];for(let u=0;u<r.length;u+=2){const f=t?r[u]+(r[u+1]||""):r[u];a.push([f,i]),i+=r[u].length,i+=((c=r[u+1])==null?void 0:c.length)||0}return a}function tf(e){return!e||["plaintext","txt","text","plain"].includes(e)}function Nx(e){return e==="ansi"||tf(e)}function nf(e){return e==="none"}function Cx(e){return nf(e)}function Ex(e,t){var i;if(!t)return e;e.properties||(e.properties={}),(i=e.properties).class||(i.class=[]),typeof e.properties.class=="string"&&(e.properties.class=e.properties.class.split(/\s+/g)),Array.isArray(e.properties.class)||(e.properties.class=[]);const r=Array.isArray(t)?t:t.split(/\s+/g);for(const a of r)a&&!e.properties.class.includes(a)&&e.properties.class.push(a);return e}function H2(e,t){let r=0;const i=[];for(const a of t)a>r&&i.push({...e,content:e.content.slice(r,a),offset:e.offset+r}),r=a;return r<e.content.length&&i.push({...e,content:e.content.slice(r),offset:e.offset+r}),i}function K2(e,t){const r=Array.from(t instanceof Set?t:new Set(t)).sort((i,a)=>i-a);return r.length?e.map(i=>i.flatMap(a=>{const c=r.filter(u=>a.offset<u&&u<a.offset+a.content.length).map(u=>u-a.offset).sort((u,f)=>u-f);return c.length?H2(a,c):a})):e}async function Px(e){return Promise.resolve(typeof e=="function"?e():e).then(t=>t.default||t)}function Wo(e,t){const r=typeof e=="string"?{}:{...e.colorReplacements},i=typeof e=="string"?e:e.name;for(const[a,c]of Object.entries((t==null?void 0:t.colorReplacements)||{}))typeof c=="string"?r[a]=c:a===i&&Object.assign(r,c);return r}function Or(e,t){return e&&((t==null?void 0:t[e==null?void 0:e.toLowerCase()])||e)}function Tx(e){const t={};return e.color&&(t.color=e.color),e.bgColor&&(t["background-color"]=e.bgColor),e.fontStyle&&(e.fontStyle&Fn.Italic&&(t["font-style"]="italic"),e.fontStyle&Fn.Bold&&(t["font-weight"]="bold"),e.fontStyle&Fn.Underline&&(t["text-decoration"]="underline")),t}function q2(e){return typeof e=="string"?e:Object.entries(e).map(([t,r])=>`${t}:${r}`).join(";")}function Y2(e){const t=al(e,!0).map(([a])=>a);function r(a){if(a===e.length)return{line:t.length-1,character:t[t.length-1].length};let c=a,u=0;for(const f of t){if(c<f.length)break;c-=f.length,u++}return{line:u,character:c}}function i(a,c){let u=0;for(let f=0;f<a;f++)u+=t[f].length;return u+=c,u}return{lines:t,indexToPos:r,posToIndex:i}}class Ct extends Error{constructor(t){super(t),this.name="ShikiError"}}const Ax=new WeakMap;function ol(e,t){Ax.set(e,t)}function Wi(e){return Ax.get(e)}class As{constructor(...t){H(this,"_stacks",{});H(this,"lang");if(t.length===2){const[r,i]=t;this.lang=i,this._stacks=r}else{const[r,i,a]=t;this.lang=i,this._stacks={[a]:r}}}get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(t,r){return new As(Object.fromEntries(G2(r).map(i=>[i,rd])),t)}getInternalStack(t=this.theme){return this._stacks[t]}get scopes(){return $g(this._stacks[this.theme])}getScopes(t=this.theme){return $g(this._stacks[t])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.scopes}}}function $g(e){const t=[],r=new Set;function i(a){var u;if(r.has(a))return;r.add(a);const c=(u=a==null?void 0:a.nameScopesList)==null?void 0:u.scopeName;c&&t.push(c),a.parent&&i(a.parent)}return i(e),t}function Q2(e,t){if(!(e instanceof As))throw new Ct("Invalid grammar state");return e.getInternalStack(t)}function X2(){const e=new WeakMap;function t(r){if(!e.has(r.meta)){let i=function(u){if(typeof u=="number"){if(u<0||u>r.source.length)throw new Ct(`Invalid decoration offset: ${u}. Code length: ${r.source.length}`);return{...a.indexToPos(u),offset:u}}else{const f=a.lines[u.line];if(f===void 0)throw new Ct(`Invalid decoration position ${JSON.stringify(u)}. Lines length: ${a.lines.length}`);if(u.character<0||u.character>f.length)throw new Ct(`Invalid decoration position ${JSON.stringify(u)}. Line ${u.line} length: ${f.length}`);return{...u,offset:a.posToIndex(u.line,u.character)}}};const a=Y2(r.source),c=(r.options.decorations||[]).map(u=>({...u,start:i(u.start),end:i(u.end)}));J2(c),e.set(r.meta,{decorations:c,converter:a,source:r.source})}return e.get(r.meta)}return{name:"shiki:decorations",tokens(r){var u;if(!((u=this.options.decorations)!=null&&u.length))return;const a=t(this).decorations.flatMap(f=>[f.start.offset,f.end.offset]);return K2(r,a)},code(r){var y;if(!((y=this.options.decorations)!=null&&y.length))return;const i=t(this),a=Array.from(r.children).filter(x=>x.type==="element"&&x.tagName==="span");if(a.length!==i.converter.lines.length)throw new Ct(`Number of lines in code element (${a.length}) does not match the number of lines in the source (${i.converter.lines.length}). Failed to apply decorations.`);function c(x,v,w,_){const k=a[x];let S="",N=-1,T=-1;if(v===0&&(N=0),w===0&&(T=0),w===Number.POSITIVE_INFINITY&&(T=k.children.length),N===-1||T===-1)for(let R=0;R<k.children.length;R++)S+=Rx(k.children[R]),N===-1&&S.length===v&&(N=R+1),T===-1&&S.length===w&&(T=R+1);if(N===-1)throw new Ct(`Failed to find start index for decoration ${JSON.stringify(_.start)}`);if(T===-1)throw new Ct(`Failed to find end index for decoration ${JSON.stringify(_.end)}`);const E=k.children.slice(N,T);if(!_.alwaysWrap&&E.length===k.children.length)f(k,_,"line");else if(!_.alwaysWrap&&E.length===1&&E[0].type==="element")f(E[0],_,"token");else{const R={type:"element",tagName:"span",properties:{},children:E};f(R,_,"wrapper"),k.children.splice(N,E.length,R)}}function u(x,v){a[x]=f(a[x],v,"line")}function f(x,v,w){var S;const _=v.properties||{},k=v.transform||(N=>N);return x.tagName=v.tagName||"span",x.properties={...x.properties,..._,class:x.properties.class},(S=v.properties)!=null&&S.class&&Ex(x,v.properties.class),x=k(x,w)||x,x}const h=[],m=i.decorations.sort((x,v)=>v.start.offset-x.start.offset);for(const x of m){const{start:v,end:w}=x;if(v.line===w.line)c(v.line,v.character,w.character,x);else if(v.line<w.line){c(v.line,v.character,Number.POSITIVE_INFINITY,x);for(let _=v.line+1;_<w.line;_++)h.unshift(()=>u(_,x));c(w.line,0,w.character,x)}}h.forEach(x=>x())}}}function J2(e){for(let t=0;t<e.length;t++){const r=e[t];if(r.start.offset>r.end.offset)throw new Ct(`Invalid decoration range: ${JSON.stringify(r.start)} - ${JSON.stringify(r.end)}`);for(let i=t+1;i<e.length;i++){const a=e[i],c=r.start.offset<a.start.offset&&a.start.offset<r.end.offset,u=r.start.offset<a.end.offset&&a.end.offset<r.end.offset,f=a.start.offset<r.start.offset&&r.start.offset<a.end.offset,h=a.start.offset<r.end.offset&&r.end.offset<a.end.offset;if(c||u||f||h){if(u&&u||f&&h)continue;throw new Ct(`Decorations ${JSON.stringify(r.start)} and ${JSON.stringify(a.start)} intersect.`)}}}}function Rx(e){return e.type==="text"?e.value:e.type==="element"?e.children.map(Rx).join(""):""}const Z2=[X2()];function Go(e){return[...e.transformers||[],...Z2]}var Mr=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],Nu={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",9:"strikethrough"};function eC(e,t){const r=e.indexOf("\x1B[",t);if(r!==-1){const i=e.indexOf("m",r);return{sequence:e.substring(r+2,i).split(";"),startPosition:r,position:i+1}}return{position:e.length}}function Ug(e,t){let r=1;const i=e[t+r++];let a;if(i==="2"){const c=[e[t+r++],e[t+r++],e[t+r]].map(u=>Number.parseInt(u));c.length===3&&!c.some(u=>Number.isNaN(u))&&(a={type:"rgb",rgb:c})}else if(i==="5"){const c=Number.parseInt(e[t+r]);Number.isNaN(c)||(a={type:"table",index:Number(c)})}return[r,a]}function tC(e){const t=[];for(let r=0;r<e.length;r++){const i=e[r],a=Number.parseInt(i);if(!Number.isNaN(a))if(a===0)t.push({type:"resetAll"});else if(a<=9)Nu[a]&&t.push({type:"setDecoration",value:Nu[a]});else if(a<=29){const c=Nu[a-20];c&&t.push({type:"resetDecoration",value:c})}else if(a<=37)t.push({type:"setForegroundColor",value:{type:"named",name:Mr[a-30]}});else if(a===38){const[c,u]=Ug(e,r);u&&t.push({type:"setForegroundColor",value:u}),r+=c}else if(a===39)t.push({type:"resetForegroundColor"});else if(a<=47)t.push({type:"setBackgroundColor",value:{type:"named",name:Mr[a-40]}});else if(a===48){const[c,u]=Ug(e,r);u&&t.push({type:"setBackgroundColor",value:u}),r+=c}else a===49?t.push({type:"resetBackgroundColor"}):a>=90&&a<=97?t.push({type:"setForegroundColor",value:{type:"named",name:Mr[a-90+8]}}):a>=100&&a<=107&&t.push({type:"setBackgroundColor",value:{type:"named",name:Mr[a-100+8]}})}return t}function nC(){let e=null,t=null,r=new Set;return{parse(i){const a=[];let c=0;do{const u=eC(i,c),f=u.sequence?i.substring(c,u.startPosition):i.substring(c);if(f.length>0&&a.push({value:f,foreground:e,background:t,decorations:new Set(r)}),u.sequence){const h=tC(u.sequence);for(const m of h)m.type==="resetAll"?(e=null,t=null,r.clear()):m.type==="resetForegroundColor"?e=null:m.type==="resetBackgroundColor"?t=null:m.type==="resetDecoration"&&r.delete(m.value);for(const m of h)m.type==="setForegroundColor"?e=m.value:m.type==="setBackgroundColor"?t=m.value:m.type==="setDecoration"&&r.add(m.value)}c=u.position}while(c<i.length);return a}}}var rC={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function sC(e=rC){function t(f){return e[f]}function r(f){return`#${f.map(h=>Math.max(0,Math.min(h,255)).toString(16).padStart(2,"0")).join("")}`}let i;function a(){if(i)return i;i=[];for(let m=0;m<Mr.length;m++)i.push(t(Mr[m]));let f=[0,95,135,175,215,255];for(let m=0;m<6;m++)for(let y=0;y<6;y++)for(let x=0;x<6;x++)i.push(r([f[m],f[y],f[x]]));let h=8;for(let m=0;m<24;m++,h+=10)i.push(r([h,h,h]));return i}function c(f){return a()[f]}function u(f){switch(f.type){case"named":return t(f.name);case"rgb":return r(f.rgb);case"table":return c(f.index)}}return{value:u}}function iC(e,t,r){const i=Wo(e,r),a=al(t),c=sC(Object.fromEntries(Mr.map(f=>{var h;return[f,(h=e.colors)==null?void 0:h[`terminal.ansi${f[0].toUpperCase()}${f.substring(1)}`]]}))),u=nC();return a.map(f=>u.parse(f[0]).map(h=>{let m,y;h.decorations.has("reverse")?(m=h.background?c.value(h.background):e.bg,y=h.foreground?c.value(h.foreground):e.fg):(m=h.foreground?c.value(h.foreground):e.fg,y=h.background?c.value(h.background):void 0),m=Or(m,i),y=Or(y,i),h.decorations.has("dim")&&(m=aC(m));let x=Fn.None;return h.decorations.has("bold")&&(x|=Fn.Bold),h.decorations.has("italic")&&(x|=Fn.Italic),h.decorations.has("underline")&&(x|=Fn.Underline),{content:h.value,offset:f[1],color:m,bgColor:y,fontStyle:x}}))}function aC(e){const t=e.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);if(t)if(t[3]){const i=Math.round(Number.parseInt(t[3],16)/2).toString(16).padStart(2,"0");return`#${t[1]}${t[2]}${i}`}else return t[2]?`#${t[1]}${t[2]}80`:`#${Array.from(t[1]).map(i=>`${i}${i}`).join("")}80`;const r=e.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return r?`var(${r[1]}-dim)`:e}function rf(e,t,r={}){const{lang:i="text",theme:a=e.getLoadedThemes()[0]}=r;if(tf(i)||nf(a))return al(t).map(h=>[{content:h[0],offset:h[1]}]);const{theme:c,colorMap:u}=e.setTheme(a);if(i==="ansi")return iC(c,t,r);const f=e.getLanguage(i);if(r.grammarState){if(r.grammarState.lang!==f.name)throw new Un(`Grammar state language "${r.grammarState.lang}" does not match highlight language "${f.name}"`);if(!r.grammarState.themes.includes(c.name))throw new Un(`Grammar state themes "${r.grammarState.themes}" do not contain highlight theme "${c.name}"`)}return lC(t,f,c,u,r)}function oC(...e){if(e.length===2)return Wi(e[1]);const[t,r,i={}]=e,{lang:a="text",theme:c=t.getLoadedThemes()[0]}=i;if(tf(a)||nf(c))throw new Un("Plain language does not have grammar state");if(a==="ansi")throw new Un("ANSI language does not have grammar state");const{theme:u,colorMap:f}=t.setTheme(c),h=t.getLanguage(a);return new As(Ho(r,h,u,f,i).stateStack,h.name,u.name)}function lC(e,t,r,i,a){const c=Ho(e,t,r,i,a),u=new As(Ho(e,t,r,i,a).stateStack,t.name,r.name);return ol(c.tokens,u),c.tokens}function Ho(e,t,r,i,a){const c=Wo(r,a),{tokenizeMaxLineLength:u=0,tokenizeTimeLimit:f=500}=a,h=al(e);let m=a.grammarState?Q2(a.grammarState,r.name)??rd:a.grammarContextCode!=null?Ho(a.grammarContextCode,t,r,i,{...a,grammarState:void 0,grammarContextCode:void 0}).stateStack:rd,y=[];const x=[];for(let v=0,w=h.length;v<w;v++){const[_,k]=h[v];if(_===""){y=[],x.push([]);continue}if(u>0&&_.length>=u){y=[],x.push([{content:_,offset:k,color:"",fontStyle:0}]);continue}let S,N,T;a.includeExplanation&&(S=t.tokenizeLine(_,m),N=S.tokens,T=0);const E=t.tokenizeLine2(_,m,f),R=E.tokens.length/2;for(let I=0;I<R;I++){const G=E.tokens[2*I],F=I+1<R?E.tokens[2*I+2]:_.length;if(G===F)continue;const z=E.tokens[2*I+1],te=Or(i[Cs.getForeground(z)],c),ge=Cs.getFontStyle(z),Pe={content:_.substring(G,F),offset:k+G,color:te,fontStyle:ge};if(a.includeExplanation){const Ae=[];if(a.includeExplanation!=="scopeName")for(const Se of r.settings){let ue;switch(typeof Se.scope){case"string":ue=Se.scope.split(/,/).map(pe=>pe.trim());break;case"object":ue=Se.scope;break;default:continue}Ae.push({settings:Se,selectors:ue.map(pe=>pe.split(/ /))})}Pe.explanation=[];let Le=0;for(;G+Le<F;){const Se=N[T],ue=_.substring(Se.startIndex,Se.endIndex);Le+=ue.length,Pe.explanation.push({content:ue,scopes:a.includeExplanation==="scopeName"?cC(Se.scopes):uC(Ae,Se.scopes)}),T+=1}}y.push(Pe)}x.push(y),y=[],m=E.ruleStack}return{tokens:x,stateStack:m}}function cC(e){return e.map(t=>({scopeName:t}))}function uC(e,t){const r=[];for(let i=0,a=t.length;i<a;i++){const c=t[i];r[i]={scopeName:c,themeMatches:fC(e,c,t.slice(0,i))}}return r}function Wg(e,t){return e===t||t.substring(0,e.length)===e&&t[e.length]==="."}function dC(e,t,r){if(!Wg(e[e.length-1],t))return!1;let i=e.length-2,a=r.length-1;for(;i>=0&&a>=0;)Wg(e[i],r[a])&&(i-=1),a-=1;return i===-1}function fC(e,t,r){const i=[];for(const{selectors:a,settings:c}of e)for(const u of a)if(dC(u,t,r)){i.push(c);break}return i}function Lx(e,t,r){const i=Object.entries(r.themes).filter(h=>h[1]).map(h=>({color:h[0],theme:h[1]})),a=i.map(h=>{const m=rf(e,t,{...r,theme:h.theme}),y=Wi(m),x=typeof h.theme=="string"?h.theme:h.theme.name;return{tokens:m,state:y,theme:x}}),c=hC(...a.map(h=>h.tokens)),u=c[0].map((h,m)=>h.map((y,x)=>{const v={content:y.content,variants:{},offset:y.offset};return"includeExplanation"in r&&r.includeExplanation&&(v.explanation=y.explanation),c.forEach((w,_)=>{const{content:k,explanation:S,offset:N,...T}=w[m][x];v.variants[i[_].color]=T}),v})),f=a[0].state?new As(Object.fromEntries(a.map(h=>{var m;return[h.theme,(m=h.state)==null?void 0:m.getInternalStack(h.theme)]})),a[0].state.lang):void 0;return f&&ol(u,f),u}function hC(...e){const t=e.map(()=>[]),r=e.length;for(let i=0;i<e[0].length;i++){const a=e.map(h=>h[i]),c=t.map(()=>[]);t.forEach((h,m)=>h.push(c[m]));const u=a.map(()=>0),f=a.map(h=>h[0]);for(;f.every(h=>h);){const h=Math.min(...f.map(m=>m.content.length));for(let m=0;m<r;m++){const y=f[m];y.content.length===h?(c[m].push(y),u[m]+=1,f[m]=a[m][u[m]]):(c[m].push({...y,content:y.content.slice(0,h)}),f[m]={...y,content:y.content.slice(h),offset:y.offset+h})}}}return t}function Ko(e,t,r){let i,a,c,u,f,h;if("themes"in r){const{defaultColor:m="light",cssVariablePrefix:y="--shiki-"}=r,x=Object.entries(r.themes).filter(S=>S[1]).map(S=>({color:S[0],theme:S[1]})).sort((S,N)=>S.color===m?-1:N.color===m?1:0);if(x.length===0)throw new Un("`themes` option must not be empty");const v=Lx(e,t,r);if(h=Wi(v),m&&!x.find(S=>S.color===m))throw new Un(`\`themes\` option must contain the defaultColor key \`${m}\``);const w=x.map(S=>e.getTheme(S.theme)),_=x.map(S=>S.color);c=v.map(S=>S.map(N=>pC(N,_,y,m))),h&&ol(c,h);const k=x.map(S=>Wo(S.theme,r));a=x.map((S,N)=>(N===0&&m?"":`${y+S.color}:`)+(Or(w[N].fg,k[N])||"inherit")).join(";"),i=x.map((S,N)=>(N===0&&m?"":`${y+S.color}-bg:`)+(Or(w[N].bg,k[N])||"inherit")).join(";"),u=`shiki-themes ${w.map(S=>S.name).join(" ")}`,f=m?void 0:[a,i].join(";")}else if("theme"in r){const m=Wo(r.theme,r);c=rf(e,t,r);const y=e.getTheme(r.theme);i=Or(y.bg,m),a=Or(y.fg,m),u=y.name,h=Wi(c)}else throw new Un("Invalid options, either `theme` or `themes` must be provided");return{tokens:c,fg:a,bg:i,themeName:u,rootStyle:f,grammarState:h}}function pC(e,t,r,i){const a={content:e.content,explanation:e.explanation,offset:e.offset},c=t.map(h=>Tx(e.variants[h])),u=new Set(c.flatMap(h=>Object.keys(h))),f={};return c.forEach((h,m)=>{for(const y of u){const x=h[y]||"inherit";if(m===0&&i)f[y]=x;else{const v=y==="color"?"":y==="background-color"?"-bg":`-${y}`,w=r+t[m]+(y==="color"?"":v);f[w]=x}}}),a.htmlStyle=f,a}function qo(e,t,r,i={meta:{},options:r,codeToHast:(a,c)=>qo(e,a,c),codeToTokens:(a,c)=>Ko(e,a,c)}){var w,_;let a=t;for(const k of Go(r))a=((w=k.preprocess)==null?void 0:w.call(i,a,r))||a;let{tokens:c,fg:u,bg:f,themeName:h,rootStyle:m,grammarState:y}=Ko(e,a,r);const{mergeWhitespaces:x=!0}=r;x===!0?c=gC(c):x==="never"&&(c=yC(c));const v={...i,get source(){return a}};for(const k of Go(r))c=((_=k.tokens)==null?void 0:_.call(v,c))||c;return mC(c,{...r,fg:u,bg:f,themeName:h,rootStyle:m},v,y)}function mC(e,t,r,i=Wi(e)){var _,k,S;const a=Go(t),c=[],u={type:"root",children:[]},{structure:f="classic",tabindex:h="0"}=t;let m={type:"element",tagName:"pre",properties:{class:`shiki ${t.themeName||""}`,style:t.rootStyle||`background-color:${t.bg};color:${t.fg}`,...h!==!1&&h!=null?{tabindex:h.toString()}:{},...Object.fromEntries(Array.from(Object.entries(t.meta||{})).filter(([N])=>!N.startsWith("_")))},children:[]},y={type:"element",tagName:"code",properties:{},children:c};const x=[],v={...r,structure:f,addClassToHast:Ex,get source(){return r.source},get tokens(){return e},get options(){return t},get root(){return u},get pre(){return m},get code(){return y},get lines(){return x}};if(e.forEach((N,T)=>{var I,G;T&&(f==="inline"?u.children.push({type:"element",tagName:"br",properties:{},children:[]}):f==="classic"&&c.push({type:"text",value:`
`}));let E={type:"element",tagName:"span",properties:{class:"line"},children:[]},R=0;for(const F of N){let z={type:"element",tagName:"span",properties:{...F.htmlAttrs},children:[{type:"text",value:F.content}]};F.htmlStyle;const te=q2(F.htmlStyle||Tx(F));te&&(z.properties.style=te);for(const ge of a)z=((I=ge==null?void 0:ge.span)==null?void 0:I.call(v,z,T+1,R,E,F))||z;f==="inline"?u.children.push(z):f==="classic"&&E.children.push(z),R+=F.content.length}if(f==="classic"){for(const F of a)E=((G=F==null?void 0:F.line)==null?void 0:G.call(v,E,T+1))||E;x.push(E),c.push(E)}}),f==="classic"){for(const N of a)y=((_=N==null?void 0:N.code)==null?void 0:_.call(v,y))||y;m.children.push(y);for(const N of a)m=((k=N==null?void 0:N.pre)==null?void 0:k.call(v,m))||m;u.children.push(m)}let w=u;for(const N of a)w=((S=N==null?void 0:N.root)==null?void 0:S.call(v,w))||w;return i&&ol(w,i),w}function gC(e){return e.map(t=>{const r=[];let i="",a=0;return t.forEach((c,u)=>{const h=!(c.fontStyle&&c.fontStyle&Fn.Underline);h&&c.content.match(/^\s+$/)&&t[u+1]?(a||(a=c.offset),i+=c.content):i?(h?r.push({...c,offset:a,content:i+c.content}):r.push({content:i,offset:a},c),a=0,i=""):r.push(c)}),r})}function yC(e){return e.map(t=>t.flatMap(r=>{if(r.content.match(/^\s+$/))return r;const i=r.content.match(/^(\s*)(.*?)(\s*)$/);if(!i)return r;const[,a,c,u]=i;if(!a&&!u)return r;const f=[{...r,offset:r.offset+a.length,content:c}];return a&&f.unshift({content:a,offset:r.offset}),u&&f.push({content:u,offset:r.offset+a.length+c.length}),f}))}function xC(e,t,r){var c;const i={meta:{},options:r,codeToHast:(u,f)=>qo(e,u,f),codeToTokens:(u,f)=>Ko(e,u,f)};let a=$2(qo(e,t,r,i));for(const u of Go(r))a=((c=u.postprocess)==null?void 0:c.call(i,a,r))||a;return a}const Gg={light:"#333333",dark:"#bbbbbb"},Hg={light:"#fffffe",dark:"#1e1e1e"},Kg="__shiki_resolved";function sf(e){var f,h,m,y,x;if(e!=null&&e[Kg])return e;const t={...e};t.tokenColors&&!t.settings&&(t.settings=t.tokenColors,delete t.tokenColors),t.type||(t.type="dark"),t.colorReplacements={...t.colorReplacements},t.settings||(t.settings=[]);let{bg:r,fg:i}=t;if(!r||!i){const v=t.settings?t.settings.find(w=>!w.name&&!w.scope):void 0;(f=v==null?void 0:v.settings)!=null&&f.foreground&&(i=v.settings.foreground),(h=v==null?void 0:v.settings)!=null&&h.background&&(r=v.settings.background),!i&&((m=t==null?void 0:t.colors)!=null&&m["editor.foreground"])&&(i=t.colors["editor.foreground"]),!r&&((y=t==null?void 0:t.colors)!=null&&y["editor.background"])&&(r=t.colors["editor.background"]),i||(i=t.type==="light"?Gg.light:Gg.dark),r||(r=t.type==="light"?Hg.light:Hg.dark),t.fg=i,t.bg=r}t.settings[0]&&t.settings[0].settings&&!t.settings[0].scope||t.settings.unshift({settings:{foreground:t.fg,background:t.bg}});let a=0;const c=new Map;function u(v){var _;if(c.has(v))return c.get(v);a+=1;const w=`#${a.toString(16).padStart(8,"0").toLowerCase()}`;return(_=t.colorReplacements)!=null&&_[`#${w}`]?u(v):(c.set(v,w),w)}t.settings=t.settings.map(v=>{var S,N;const w=((S=v.settings)==null?void 0:S.foreground)&&!v.settings.foreground.startsWith("#"),_=((N=v.settings)==null?void 0:N.background)&&!v.settings.background.startsWith("#");if(!w&&!_)return v;const k={...v,settings:{...v.settings}};if(w){const T=u(v.settings.foreground);t.colorReplacements[T]=v.settings.foreground,k.settings.foreground=T}if(_){const T=u(v.settings.background);t.colorReplacements[T]=v.settings.background,k.settings.background=T}return k});for(const v of Object.keys(t.colors||{}))if((v==="editor.foreground"||v==="editor.background"||v.startsWith("terminal.ansi"))&&!((x=t.colors[v])!=null&&x.startsWith("#"))){const w=u(t.colors[v]);t.colorReplacements[w]=t.colors[v],t.colors[v]=w}return Object.defineProperty(t,Kg,{enumerable:!1,writable:!1,value:!0}),t}async function Dx(e){return Array.from(new Set((await Promise.all(e.filter(t=>!Nx(t)).map(async t=>await Px(t).then(r=>Array.isArray(r)?r:[r])))).flat()))}async function Ix(e){return(await Promise.all(e.map(async r=>Cx(r)?null:sf(await Px(r))))).filter(r=>!!r)}class vC extends EN{constructor(r,i,a,c={}){super(r);H(this,"_resolvedThemes",new Map);H(this,"_resolvedGrammars",new Map);H(this,"_langMap",new Map);H(this,"_langGraph",new Map);H(this,"_textmateThemeCache",new WeakMap);H(this,"_loadedThemesCache",null);H(this,"_loadedLanguagesCache",null);this._resolver=r,this._themes=i,this._langs=a,this._alias=c,this._themes.map(u=>this.loadTheme(u)),this.loadLanguages(this._langs)}getTheme(r){return typeof r=="string"?this._resolvedThemes.get(r):this.loadTheme(r)}loadTheme(r){const i=sf(r);return i.name&&(this._resolvedThemes.set(i.name,i),this._loadedThemesCache=null),i}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(r){let i=this._textmateThemeCache.get(r);i||(i=Fo.createFromRawTheme(r),this._textmateThemeCache.set(r,i)),this._syncRegistry.setTheme(i)}getGrammar(r){if(this._alias[r]){const i=new Set([r]);for(;this._alias[r];){if(r=this._alias[r],i.has(r))throw new Ct(`Circular alias \`${Array.from(i).join(" -> ")} -> ${r}\``);i.add(r)}}return this._resolvedGrammars.get(r)}loadLanguage(r){var u,f,h,m;if(this.getGrammar(r.name))return;const i=new Set([...this._langMap.values()].filter(y=>{var x;return(x=y.embeddedLangsLazy)==null?void 0:x.includes(r.name)}));this._resolver.addLanguage(r);const a={balancedBracketSelectors:r.balancedBracketSelectors||["*"],unbalancedBracketSelectors:r.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(r.scopeName,r);const c=this.loadGrammarWithConfiguration(r.scopeName,1,a);if(c.name=r.name,this._resolvedGrammars.set(r.name,c),r.aliases&&r.aliases.forEach(y=>{this._alias[y]=r.name}),this._loadedLanguagesCache=null,i.size)for(const y of i)this._resolvedGrammars.delete(y.name),this._loadedLanguagesCache=null,(f=(u=this._syncRegistry)==null?void 0:u._injectionGrammars)==null||f.delete(y.scopeName),(m=(h=this._syncRegistry)==null?void 0:h._grammars)==null||m.delete(y.scopeName),this.loadLanguage(this._langMap.get(y.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(r){for(const c of r)this.resolveEmbeddedLanguages(c);const i=Array.from(this._langGraph.entries()),a=i.filter(([c,u])=>!u);if(a.length){const c=i.filter(([u,f])=>{var h;return f&&((h=f.embeddedLangs)==null?void 0:h.some(m=>a.map(([y])=>y).includes(m)))}).filter(u=>!a.includes(u));throw new Ct(`Missing languages ${a.map(([u])=>`\`${u}\``).join(", ")}, required by ${c.map(([u])=>`\`${u}\``).join(", ")}`)}for(const[c,u]of i)this._resolver.addLanguage(u);for(const[c,u]of i)this.loadLanguage(u)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(r){if(this._langMap.set(r.name,r),this._langGraph.set(r.name,r),r.embeddedLangs)for(const i of r.embeddedLangs)this._langGraph.set(i,this._langMap.get(i))}}class wC{constructor(t,r){H(this,"_langs",new Map);H(this,"_scopeToLang",new Map);H(this,"_injections",new Map);H(this,"_onigLib");this._onigLib={createOnigScanner:i=>t.createScanner(i),createOnigString:i=>t.createString(i)},r.forEach(i=>this.addLanguage(i))}get onigLib(){return this._onigLib}getLangRegistration(t){return this._langs.get(t)}loadGrammar(t){return this._scopeToLang.get(t)}addLanguage(t){this._langs.set(t.name,t),t.aliases&&t.aliases.forEach(r=>{this._langs.set(r,t)}),this._scopeToLang.set(t.scopeName,t),t.injectTo&&t.injectTo.forEach(r=>{this._injections.get(r)||this._injections.set(r,[]),this._injections.get(r).push(t.scopeName)})}getInjections(t){const r=t.split(".");let i=[];for(let a=1;a<=r.length;a++){const c=r.slice(0,a).join(".");i=[...i,...this._injections.get(c)||[]]}return i}}let wi=0;function _C(e){wi+=1,e.warnings!==!1&&wi>=10&&wi%10===0&&console.warn(`[Shiki] ${wi} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let t=!1;if(!e.engine)throw new Ct("`engine` option is required for synchronous mode");const r=(e.langs||[]).flat(1),i=(e.themes||[]).flat(1).map(sf),a=new wC(e.engine,r),c=new vC(a,i,r,e.langAlias);let u;function f(T){S();const E=c.getGrammar(typeof T=="string"?T:T.name);if(!E)throw new Ct(`Language \`${T}\` not found, you may need to load it first`);return E}function h(T){if(T==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};S();const E=c.getTheme(T);if(!E)throw new Ct(`Theme \`${T}\` not found, you may need to load it first`);return E}function m(T){S();const E=h(T);u!==T&&(c.setTheme(E),u=T);const R=c.getColorMap();return{theme:E,colorMap:R}}function y(){return S(),c.getLoadedThemes()}function x(){return S(),c.getLoadedLanguages()}function v(...T){S(),c.loadLanguages(T.flat(1))}async function w(...T){return v(await Dx(T))}function _(...T){S();for(const E of T.flat(1))c.loadTheme(E)}async function k(...T){return S(),_(await Ix(T))}function S(){if(t)throw new Ct("Shiki instance has been disposed")}function N(){t||(t=!0,c.dispose(),wi-=1)}return{setTheme:m,getTheme:h,getLanguage:f,getLoadedThemes:y,getLoadedLanguages:x,loadLanguage:w,loadLanguageSync:v,loadTheme:k,loadThemeSync:_,dispose:N,[Symbol.dispose]:N}}async function bC(e={}){e.loadWasm;const[t,r,i]=await Promise.all([Ix(e.themes||[]),Dx(e.langs||[]),e.engine||Xy(e.loadWasm||$S())]);return _C({...e,themes:t,langs:r,engine:i})}async function kC(e={}){const t=await bC(e);return{getLastGrammarState:(...r)=>oC(t,...r),codeToTokensBase:(r,i)=>rf(t,r,i),codeToTokensWithThemes:(r,i)=>Lx(t,r,i),codeToTokens:(r,i)=>Ko(t,r,i),codeToHast:(r,i)=>qo(t,r,i),codeToHtml:(r,i)=>xC(t,r,i),...t,getInternalContext:()=>t}}function jC(e,t,r){let i,a,c;{const f=e;i=f.langs,a=f.themes,c=f.engine}async function u(f){function h(w){if(typeof w=="string"){if(Nx(w))return[];const _=i[w];if(!_)throw new Un(`Language \`${w}\` is not included in this bundle. You may want to load it from external source.`);return _}return w}function m(w){if(Cx(w))return"none";if(typeof w=="string"){const _=a[w];if(!_)throw new Un(`Theme \`${w}\` is not included in this bundle. You may want to load it from external source.`);return _}return w}const y=(f.themes??[]).map(w=>m(w)),x=(f.langs??[]).map(w=>h(w)),v=await kC({engine:f.engine??c(),...f,themes:y,langs:x});return{...v,loadLanguage(...w){return v.loadLanguage(...w.map(h))},loadTheme(...w){return v.loadTheme(...w.map(m))}}}return u}function SC(e){let t;async function r(i={}){if(t){const a=await t;return await Promise.all([a.loadTheme(...i.themes||[]),a.loadLanguage(...i.langs||[])]),a}else return t=e({...i,themes:i.themes||[],langs:i.langs||[]}),t}return r}function NC(e){const t=SC(e);return{getSingletonHighlighter(r){return t(r)},async codeToHtml(r,i){return(await t({langs:[i.lang],themes:"theme"in i?[i.theme]:Object.values(i.themes)})).codeToHtml(r,i)},async codeToHast(r,i){return(await t({langs:[i.lang],themes:"theme"in i?[i.theme]:Object.values(i.themes)})).codeToHast(r,i)},async codeToTokens(r,i){return(await t({langs:[i.lang],themes:"theme"in i?[i.theme]:Object.values(i.themes)})).codeToTokens(r,i)},async codeToTokensBase(r,i){return(await t({langs:[i.lang],themes:[i.theme]})).codeToTokensBase(r,i)},async codeToTokensWithThemes(r,i){return(await t({langs:[i.lang],themes:Object.values(i.themes).filter(Boolean)})).codeToTokensWithThemes(r,i)},async getLastGrammarState(r,i){return(await t({langs:[i.lang],themes:[i.theme]})).getLastGrammarState(r,i)}}}const CC=jC({langs:bS,themes:jS,engine:()=>Xy(C(()=>import("./wasm-CG6Dc4jp.js"),[]))}),{codeToHtml:EC}=NC(CC),qg=new Map;function PC(){const[e,t]=j.useState(null),[r,i]=j.useState(!1),[a,c]=j.useState(null),u=j.useCallback(async(h,m)=>{const y=`${m}:${h}`,x=qg.get(y);if(x){t(x),c(null);return}i(!0),c(null);try{const v=new URLSearchParams({path:h,workspace:m}),w=await fetch(`/api/workspace/file?${v}`),_=await w.json();if(!w.ok)throw new Error(_.error||"Failed to fetch file");qg.set(y,_),t(_)}catch(v){c(v instanceof Error?v.message:"Failed to load file"),t(null)}finally{i(!1)}},[]),f=j.useCallback(()=>{t(null),c(null)},[]);return{content:e,isLoading:r,error:a,fetchFile:u,clearContent:f}}function Yg(e){return e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`}function TC(e){return e.split("/").pop()||e}function Ox({isOpen:e,onClose:t,filePath:r,workspacePath:i}){const{content:a,isLoading:c,error:u,fetchFile:f,clearContent:h}=PC(),[m,y]=j.useState(!1),[x,v]=j.useState(""),[w,_]=j.useState(!1);j.useEffect(()=>{e&&r&&i&&f(r,i)},[e,r,i,f]),j.useEffect(()=>{e||(h(),v(""),y(!1))},[e,h]),j.useEffect(()=>{async function N(){if(!a||a.binary||!a.content){v("");return}_(!0);try{const E={plaintext:"text",gitignore:"text",dotenv:"shell",dockerfile:"docker"}[a.language]||a.language,R=await EC(a.content,{lang:E,theme:"github-dark"});v(R)}catch(T){console.warn("Syntax highlighting failed:",T),v("")}finally{_(!1)}}N()},[a]);const k=j.useCallback(async()=>{if(a!=null&&a.content)try{await navigator.clipboard.writeText(a.content),y(!0),setTimeout(()=>y(!1),2e3)}catch(N){console.error("Failed to copy:",N)}},[a]);j.useEffect(()=>{if(!e)return;const N=T=>{T.key==="Escape"&&t()};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[e,t]);const S=j.useMemo(()=>c||w?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[o.jsx(rt,{className:"w-8 h-8 animate-spin mb-3"}),o.jsx("p",{children:c?"Loading file...":"Applying syntax highlighting..."})]}):u?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-red-400",children:[o.jsx(jt,{className:"w-12 h-12 mb-3"}),o.jsx("p",{className:"font-medium",children:"Failed to load file"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:u})]}):a?a.binary?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[o.jsx(Cn,{className:"w-12 h-12 mb-3"}),o.jsx("p",{className:"font-medium",children:"Binary file"}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["This file cannot be displayed (",Yg(a.size),")"]})]}):x?o.jsx("div",{className:"shiki-container overflow-auto text-sm leading-relaxed",dangerouslySetInnerHTML:{__html:x}}):o.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-300 font-mono leading-relaxed overflow-auto",children:a.content}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[o.jsx(rl,{className:"w-12 h-12 mb-3 opacity-50"}),o.jsx("p",{children:"No file selected"})]}),[c,w,u,a,x]);return e?o.jsx(Ue,{children:e&&o.jsxs(o.Fragment,{children:[o.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[60]"}),o.jsxs(ie.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-4 md:inset-8 lg:inset-12 bg-gray-900 rounded-xl border border-gray-700 shadow-2xl z-[60] flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-700 bg-gray-800/50",children:[o.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[o.jsx(Cn,{className:"w-5 h-5 text-blue-400 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("h2",{className:"text-base font-medium text-gray-100 truncate",children:TC(r)}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[o.jsx("span",{className:"truncate",children:r}),a&&!a.binary&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx("span",{children:Yg(a.size)}),o.jsx("span",{children:""}),o.jsx("span",{className:"px-1.5 py-0.5 bg-gray-700 rounded text-gray-400",children:a.language})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[a&&!a.binary&&a.content&&o.jsx("button",{onClick:k,className:"flex items-center gap-1.5 px-3 py-1.5 text-sm bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors text-gray-300",title:"Copy to clipboard",children:m?o.jsxs(o.Fragment,{children:[o.jsx(Qe,{className:"w-4 h-4 text-green-400"}),o.jsx("span",{className:"text-green-400",children:"Copied"})]}):o.jsxs(o.Fragment,{children:[o.jsx(Wd,{className:"w-4 h-4"}),o.jsx("span",{children:"Copy"})]})}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors text-gray-400 hover:text-gray-200",title:"Close (Esc)",children:o.jsx(pn,{className:"w-5 h-5"})})]})]}),o.jsx("div",{className:"flex-1 overflow-auto p-4 bg-[#0d1117]",children:S})]})]})}):null}const Qg=new Set,AC={answer:{fill:"url(#answerGradient)",stroke:"#60A5FA",glow:"rgba(59, 130, 246, 0.4)"},vote:{fill:"url(#voteGradient)",stroke:"#FBBF24",glow:"rgba(245, 158, 11, 0.4)"},final:{fill:"url(#finalGradient)",stroke:"#FDE047",glow:"rgba(234, 179, 8, 0.5)"}};function RC({node:e,x:t,y:r,size:i,onClick:a}){const[c,u]=j.useState(!1),f=AC[e.type],h=i/2,m=!Qg.has(e.id);j.useEffect(()=>{Qg.add(e.id)},[e.id]);const y=x=>x?new Date(x).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"";return o.jsxs("g",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:a,style:{cursor:a?"pointer":"default"},children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"answerGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),o.jsx("stop",{offset:"100%",stopColor:"#2563EB"})]}),o.jsxs("linearGradient",{id:"voteGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#F59E0B"}),o.jsx("stop",{offset:"100%",stopColor:"#D97706"})]}),o.jsxs("linearGradient",{id:"finalGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#EAB308"}),o.jsx("stop",{offset:"100%",stopColor:"#CA8A04"})]}),o.jsxs("filter",{id:`glow-${e.id}`,children:[o.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),o.jsxs("feMerge",{children:[o.jsx("feMergeNode",{in:"coloredBlur"}),o.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),c&&o.jsx("circle",{cx:t,cy:r,r:h+6,fill:f.glow,opacity:.6}),o.jsx(ie.circle,{cx:t,cy:r,r:h,fill:f.fill,stroke:f.stroke,strokeWidth:2,initial:m?{scale:0}:!1,animate:{scale:c?1.15:1},transition:{type:"spring",stiffness:300,damping:20},filter:e.type==="final"?`url(#glow-${e.id})`:void 0}),o.jsxs("text",{x:t,y:r+1,textAnchor:"middle",dominantBaseline:"middle",className:"fill-white text-xs font-bold select-none pointer-events-none",children:[e.type==="answer"&&"A",e.type==="vote"&&"V",e.type==="final"&&""]}),o.jsx("text",{x:t,y:r+h+14,textAnchor:"middle",className:"fill-gray-400 text-xs font-medium select-none pointer-events-none",children:e.label}),c&&o.jsx("g",{children:(()=>{const x=t+h+10,v=r-40,w=14;let _=v+16,k=2;e.type==="vote"&&e.votedFor&&(k+=1),e.type==="vote"&&e.contextSources.length>0?(k+=1,k+=e.contextSources.length):e.contextSources.length>0&&(k+=1,k+=Math.min(e.contextSources.length,4));const S=20+k*w;return o.jsxs(o.Fragment,{children:[o.jsx("rect",{x,y:v,width:150,height:S,rx:6,fill:"rgba(31, 41, 55, 0.95)",stroke:"rgba(75, 85, 99, 0.5)",strokeWidth:1}),o.jsx("text",{x:x+8,y:_,className:"fill-gray-200 text-xs font-medium",children:e.label}),o.jsx("text",{x:x+8,y:_+=w,className:"fill-gray-400 text-xs",children:y(e.timestamp)}),e.type==="vote"&&e.votedFor&&o.jsxs("text",{x:x+8,y:_+=w,className:"fill-amber-400 text-xs font-medium",children:["Voted: ",e.votedFor]}),e.type==="vote"&&e.contextSources.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("text",{x:x+8,y:_+=w,className:"fill-gray-500 text-xs",children:"Options:"}),e.contextSources.map(T=>{const E=T===e.votedFor||T.includes(e.votedFor||"");return o.jsxs("text",{x:x+12,y:_+=w,className:E?"fill-amber-300 text-xs font-medium":"fill-gray-400 text-xs",children:[E?" ":" ",T]},T)})]}),e.type!=="vote"&&e.contextSources.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("text",{x:x+8,y:_+=w,className:"fill-gray-500 text-xs",children:"Context:"}),e.contextSources.slice(0,4).map(T=>o.jsxs("text",{x:x+12,y:_+=w,className:"fill-blue-400 text-xs",children:[" ",T]},T)),e.contextSources.length>4&&o.jsxs("text",{x:x+12,y:_+=w,className:"fill-gray-500 text-xs",children:["+",e.contextSources.length-4," more..."]})]})]})})()})]})}const LC={context:{stroke:"#3B82F6",fill:"#3B82F6"},vote:{stroke:"#F59E0B",fill:"#F59E0B"}};function Cu({from:e,to:t,type:r}){const i=LC[r],a=j.useMemo(()=>{const u=(e.x+t.x)/2,f=(e.y+t.y)/2,h=t.x-e.x,m=t.y-e.y,y=Math.min(50,Math.abs(h)*.3),x=u,v=m>0?f-y:f+y;return Math.abs(h)<10?`M ${e.x} ${e.y} Q ${e.x+40} ${f} ${t.x} ${t.y}`:`M ${e.x} ${e.y} Q ${x} ${v} ${t.x} ${t.y}`},[e,t]),c=`arrowhead-${r}-${e.x}-${e.y}-${t.x}-${t.y}`;return o.jsxs("g",{children:[o.jsx("defs",{children:o.jsx("marker",{id:c,markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:o.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:i.fill})})}),o.jsx("path",{d:a,fill:"none",stroke:i.stroke,strokeWidth:r==="vote"?2.5:2,strokeOpacity:.6,strokeDasharray:r==="context"?"none":"5 3",markerEnd:`url(#${c})`})]})}function DC(){return o.jsxs("div",{className:"flex items-center gap-6 px-4 py-2 bg-gray-800/50 border-b border-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Nodes:"}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 border border-blue-400"}),o.jsx("span",{className:"text-xs text-gray-400",children:"Answer"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-br from-amber-500 to-amber-600 border border-amber-400"}),o.jsx("span",{className:"text-xs text-gray-400",children:"Vote"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-br from-yellow-500 to-yellow-600 border border-yellow-400 shadow-[0_0_8px_rgba(234,179,8,0.4)]"}),o.jsx("span",{className:"text-xs text-gray-400",children:"Final"})]})]}),o.jsx("div",{className:"h-4 w-px bg-gray-600"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Arrows:"}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsxs("svg",{width:"24",height:"12",className:"overflow-visible",children:[o.jsx("defs",{children:o.jsx("marker",{id:"legend-context-arrow",markerWidth:"6",markerHeight:"5",refX:"5",refY:"2.5",orient:"auto",children:o.jsx("polygon",{points:"0 0, 6 2.5, 0 5",fill:"#3B82F6"})})}),o.jsx("line",{x1:"0",y1:"6",x2:"18",y2:"6",stroke:"#3B82F6",strokeWidth:"2",markerEnd:"url(#legend-context-arrow)"})]}),o.jsx("span",{className:"text-xs text-gray-400",children:"Context"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsxs("svg",{width:"24",height:"12",className:"overflow-visible",children:[o.jsx("defs",{children:o.jsx("marker",{id:"legend-vote-arrow",markerWidth:"6",markerHeight:"5",refX:"5",refY:"2.5",orient:"auto",children:o.jsx("polygon",{points:"0 0, 6 2.5, 0 5",fill:"#F59E0B"})})}),o.jsx("line",{x1:"0",y1:"6",x2:"18",y2:"6",stroke:"#F59E0B",strokeWidth:"2.5",strokeDasharray:"4 2",markerEnd:"url(#legend-vote-arrow)"})]}),o.jsx("span",{className:"text-xs text-gray-400",children:"Vote"})]})]})]})}const Xg=40,Jg=80,dn=150,Eu=60,_n=40;function Mx({onNodeClick:e}){const[t,r]=j.useState(null),[i,a]=j.useState(!0),[c,u]=j.useState(null),f=ye(w=>w.sessionId),h=ye(qd),m=j.useMemo(()=>(t==null?void 0:t.nodes.some(w=>w.type==="final"))??!1,[t]),y=j.useCallback(async()=>{if(!f){a(!1);return}t||a(!0),u(null);try{const w=await fetch(`/api/sessions/${f}/timeline`);if(!w.ok)throw new Error("Failed to fetch timeline");const _=await w.json();r(_)}catch(w){u(w instanceof Error?w.message:"Failed to load timeline")}finally{a(!1)}},[f,t]);j.useEffect(()=>{y();const w=setInterval(y,3e3);return()=>clearInterval(w)},[f]);const x=j.useMemo(()=>{if(!t||t.nodes.length===0)return new Map;const w=new Map,{nodes:_,agents:k}=t,S=new Map;return k.forEach(N=>S.set(N,[])),_.forEach(N=>{const T=S.get(N.agentId);T&&T.push(N)}),k.forEach((N,T)=>{const E=S.get(N)||[];E.sort((R,I)=>R.timestamp-I.timestamp),E.forEach((R,I)=>{const G=_n+T*dn+dn/2,F=Eu+_n+I*Jg;w.set(R.id,{x:G,y:F})})}),w},[t]),v=j.useMemo(()=>{if(!t)return{width:600,height:400};const w=Math.max(600,_n*2+t.agents.length*dn);let _=Eu+_n;x.forEach(S=>{_=Math.max(_,S.y)});const k=Math.max(400,_+Jg+_n);return{width:w,height:k}},[t,x]);return i?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[o.jsx(rt,{className:"w-8 h-8 animate-spin mb-3"}),o.jsx("p",{children:"Loading timeline..."})]}):c?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-red-400",children:[o.jsx(jo,{className:"w-12 h-12 mb-3 opacity-50"}),o.jsx("p",{className:"font-medium",children:"Failed to load timeline"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:c}),o.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Retrying automatically..."})]}):f?!t||t.nodes.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[o.jsx(jo,{className:"w-12 h-12 mb-3 opacity-50"}),o.jsx("p",{children:"No timeline data yet"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Timeline will populate as agents submit answers and votes"})]}):o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx(DC,{}),(h||m)&&o.jsxs("div",{className:"mx-4 mb-2 px-4 py-3 bg-gradient-to-r from-green-900/50 to-emerald-900/50 border border-green-600/50 rounded-lg flex items-center gap-3",children:[o.jsx(Aj,{className:"w-5 h-5 text-green-400 shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-green-300 font-medium text-sm",children:"Coordination Complete"}),o.jsx("p",{className:"text-green-400/70 text-xs",children:"Final answer has been selected"})]})]}),o.jsx("div",{className:"flex-1 overflow-auto p-4",children:o.jsxs("svg",{width:v.width,height:v.height,className:"min-w-full",children:[t.agents.map((w,_)=>o.jsx("line",{x1:_n+_*dn+dn/2,y1:Eu,x2:_n+_*dn+dn/2,y2:v.height-_n,stroke:"rgba(75, 85, 99, 0.3)",strokeWidth:"1",strokeDasharray:"4 4"},`grid-${_}`)),t.agents.map((w,_)=>{const k=_n+_*dn+dn/2,S=_+1;return o.jsxs("g",{children:[o.jsx("rect",{x:k-50,y:10,width:100,height:36,rx:8,fill:"rgba(59, 130, 246, 0.2)",stroke:"rgba(59, 130, 246, 0.5)",strokeWidth:"1"}),o.jsxs("text",{x:k,y:32,textAnchor:"middle",className:"fill-blue-400 text-sm font-medium",children:["Agent ",S]})]},`header-${w}`)}),t.nodes.filter(w=>w.type!=="vote").map(w=>{const _=x.get(w.id);return _?w.contextSources.map(k=>{const S=t.nodes.find(T=>T.label===k);if(!S||S.type==="vote")return null;const N=x.get(S.id);return N?o.jsx(Cu,{from:N,to:_,type:"context"},`arrow-${S.id}-${w.id}`):null}):null}),t.nodes.filter(w=>w.type==="vote"&&w.votedFor).map(w=>{const _=x.get(w.id);if(!_||!w.votedFor)return null;const k=t.nodes.find(N=>N.type==="answer"&&N.agentId===w.votedFor);if(!k){const N=t.agents.indexOf(w.votedFor);if(N===-1)return null;const T=_n+N*dn+dn/2;return o.jsx(Cu,{from:_,to:{x:T,y:_.y-40},type:"vote"},`vote-arrow-${w.id}`)}const S=x.get(k.id);return S?o.jsx(Cu,{from:_,to:S,type:"vote"},`vote-arrow-${w.id}`):null}),t.nodes.map(w=>{const _=x.get(w.id);if(!_)return null;const k=w.type==="final"?Xg*1.4:Xg;return o.jsx(RC,{node:w,x:_.x,y:_.y,size:k,onClick:()=>e==null?void 0:e(w)},w.id)})]})})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[o.jsx(jo,{className:"w-12 h-12 mb-3 opacity-50"}),o.jsx("p",{children:"No active session"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Start a coordination to see the timeline"})]})}function Pu(e,t){const r=e.match(/workspace(\d+)/);if(r){const i=parseInt(r[1],10)-1;return t[i]}}function IC(e){return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function OC(e){const t=[];e.forEach(i=>{const a=i.path.split("/").filter(Boolean);let c=t;a.forEach((u,f)=>{const h=f===a.length-1;let m=c.find(y=>y.name===u);m||(m={name:u,path:a.slice(0,f+1).join("/"),isDirectory:!h,children:[],size:h?i.size:void 0,modified:h?i.modified:void 0},c.push(m)),h||(m.isDirectory=!0,c=m.children)})});const r=i=>i.sort((a,c)=>a.isDirectory&&!c.isDirectory?-1:!a.isDirectory&&c.isDirectory?1:a.name.localeCompare(c.name)).map(a=>({...a,children:r(a.children)}));return r(t)}function MC(e){return e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`}function Vx({node:e,depth:t,onFileClick:r}){const[i,a]=j.useState(!1),c=()=>{e.isDirectory?a(!i):r&&r(e.path)};return o.jsxs("div",{children:[o.jsxs(ie.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:`
          flex items-center gap-1 py-1 px-2 hover:bg-gray-700/30 dark:hover:bg-gray-700/30 rounded cursor-pointer
          text-sm text-gray-700 dark:text-gray-300
          ${!e.isDirectory&&r?"hover:bg-blue-900/30":""}
        `,style:{paddingLeft:`${t*16+8}px`},onClick:c,children:[e.isDirectory?i?o.jsx(Nn,{className:"w-4 h-4 text-gray-500"}):o.jsx(Qi,{className:"w-4 h-4 text-gray-500"}):o.jsx("span",{className:"w-4"}),e.isDirectory?o.jsx(hn,{className:"w-4 h-4 text-blue-400"}):o.jsx(rl,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"flex-1",children:e.name}),!e.isDirectory&&e.size!==void 0&&o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-500",children:MC(e.size)}),!e.isDirectory&&r&&o.jsx(Ii,{className:"w-3.5 h-3.5 text-gray-500 hover:text-blue-400 opacity-0 group-hover:opacity-100 transition-opacity"})]}),o.jsx(Ue,{children:e.isDirectory&&i&&o.jsx(ie.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:e.children.map(u=>o.jsx(Vx,{node:u,depth:t+1,onFileClick:r},u.path))})})]})}function Fx({isOpen:e,onClose:t,initialTab:r="answers"}){const i=ye(Kd),a=ye(zr),c=ye(Zi),u=ye($r),f=ye(qy),h=ye(Ky),[m,y]=j.useState(r);j.useEffect(()=>{e&&y(r)},[e,r]);const[x,v]=j.useState("all"),[w,_]=j.useState(null);j.useEffect(()=>{if(e&&m==="answers"&&!w){const K=i.find(U=>U.answerNumber===0);K&&_(K.id)}},[e,m,i,w]);const[k,S]=j.useState({current:[],historical:[]}),[N,T]=j.useState([]),[E,R]=j.useState(!1),[I,G]=j.useState(!1),[F,z]=j.useState(null),[te,ge]=j.useState(null),[Pe,Ae]=j.useState(null),[Le,Se]=j.useState([]),[ue,pe]=j.useState("current"),[ve,q]=j.useState(!1),[oe,O]=j.useState(""),L=j.useCallback(K=>{O(K),q(!0)},[]),W=j.useCallback(K=>{if(K.type==="answer"||K.type==="final"){y("answers");const U=i.find(se=>{const Re=c.indexOf(se.agentId)+1,Be=se.answerNumber===0?"final":`agent${Re}.${se.answerNumber}`;return K.label===Be||K.label===`answer${Re}.${se.answerNumber}`});U&&_(U.id)}else K.type==="vote"&&y("votes")},[i,c]),J=j.useCallback(async()=>{R(!0),z(null);try{const K=await fetch("/api/workspaces");if(!K.ok)throw new Error("Failed to fetch workspaces");const U=await K.json();if(S(U),U.current.length>0&&!te){const se=U.current[0],Re=Pu(se.name,c);Re&&ge(Re)}}catch(K){z(K instanceof Error?K.message:"Failed to load workspaces")}finally{R(!1)}},[te,c]),le=j.useCallback(async K=>{G(!0),z(null);try{const U=await fetch(`/api/workspace/browse?path=${encodeURIComponent(K.path)}`);if(!U.ok)throw new Error("Failed to fetch workspace files");const se=await U.json();T(se.files||[])}catch(U){z(U instanceof Error?U.message:"Failed to load files"),T([])}finally{G(!1)}},[]),ke=j.useCallback(async()=>{const K=ye.getState().sessionId;if(K)try{const U=await fetch(`/api/sessions/${K}/answer-workspaces`);if(U.ok){const se=await U.json();Se(se.workspaces||[])}}catch(U){console.error("Failed to fetch answer workspaces:",U)}},[]),B=j.useCallback(async K=>{try{const U=await fetch("/api/workspace/open",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:K})});if(!U.ok){const se=await U.json();z(se.error||"Failed to open workspace")}}catch(U){z(U instanceof Error?U.message:"Failed to open workspace")}},[]),ee=j.useMemo(()=>{const K={};return c.forEach(U=>{K[U]={historical:[]}}),k.current.forEach(U=>{const se=Pu(U.name,c);se&&K[se]&&(K[se].current=U)}),k.historical.forEach(U=>{const se=Pu(U.name,c);se&&K[se]&&K[se].historical.push(U)}),K},[k,c]),re=j.useMemo(()=>{var K;return te&&(Pe||((K=ee[te])==null?void 0:K.current))||null},[te,Pe,ee]);j.useEffect(()=>{e&&m==="workspace"&&(J(),ke())},[e,m,J,ke]),j.useEffect(()=>{re&&le(re)},[re,le]);const Ce=j.useMemo(()=>{let K=[...i];return x!=="all"&&(K=K.filter(U=>U.agentId===x)),K.sort((U,se)=>se.timestamp-U.timestamp)},[i,x]),We=j.useMemo(()=>{const K={};return i.forEach(U=>{K[U.agentId]||(K[U.agentId]=[]),K[U.agentId].push(U)}),K},[i]),It=j.useMemo(()=>c.map((K,U)=>{const se=a[K];if(!(se!=null&&se.voteTarget))return null;const Re=c.indexOf(se.voteTarget),Be=a[se.voteTarget],Pn=(Be==null?void 0:Be.answerCount)||1,tn=`answer${Re+1}.${Pn}`,yr=c.map((xr,he)=>{const Ge=a[xr],mn=(Ge==null?void 0:Ge.answerCount)||1;return`answer${he+1}.${mn}`});return{voterId:K,voterIndex:U+1,voterModel:se.modelName,targetId:se.voteTarget,targetIndex:Re+1,targetModel:Be==null?void 0:Be.modelName,votedAnswerLabel:tn,availableAnswers:yr,reason:se.voteReason||"No reason provided"}}).filter(Boolean),[a,c]),En=j.useMemo(()=>Object.entries(h).sort(([,K],[,U])=>U-K).map(([K,U])=>{var Re;const se=c.indexOf(K);return{agentId:K,agentIndex:se+1,modelName:(Re=a[K])==null?void 0:Re.modelName,votes:U,isWinner:K===u}}),[h,a,c,u]),Ut=j.useMemo(()=>OC(N),[N]),Wt=k.current.length+k.historical.length;return e?o.jsxs(Ue,{children:[e&&o.jsxs(o.Fragment,{children:[o.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50"}),o.jsxs(ie.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-4 md:inset-10 lg:inset-20 bg-gray-800 rounded-xl border border-gray-600 shadow-2xl z-50 flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-700 bg-gray-900/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Cn,{className:"w-6 h-6 text-blue-400"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-100",children:"Browser"})]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:o.jsx(pn,{className:"w-5 h-5 text-gray-400"})})]}),o.jsxs("div",{className:"flex border-b border-gray-700 bg-gray-800/50",children:[o.jsxs("button",{onClick:()=>y("answers"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition-colors border-b-2 ${m==="answers"?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:[o.jsx(Cn,{className:"w-4 h-4"}),"Answers",o.jsx("span",{className:"px-1.5 py-0.5 bg-gray-700 rounded-full text-xs",children:i.length})]}),o.jsxs("button",{onClick:()=>y("votes"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition-colors border-b-2 ${m==="votes"?"border-amber-500 text-amber-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:[o.jsx($n,{className:"w-4 h-4"}),"Votes",o.jsx("span",{className:"px-1.5 py-0.5 bg-gray-700 rounded-full text-xs",children:It.length})]}),o.jsxs("button",{onClick:()=>y("workspace"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition-colors border-b-2 ${m==="workspace"?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:[o.jsx(hn,{className:"w-4 h-4"}),"Workspace",o.jsx("span",{className:"px-1.5 py-0.5 bg-gray-700 rounded-full text-xs",children:Wt})]}),o.jsxs("button",{onClick:()=>y("timeline"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition-colors border-b-2 ${m==="timeline"?"border-green-500 text-green-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:[o.jsx(jo,{className:"w-4 h-4"}),"Timeline"]})]}),m==="answers"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"px-6 py-3 border-b border-gray-700 bg-gray-800/50 flex items-center gap-4",children:[o.jsx("span",{className:"text-sm text-gray-400",children:"Filter by agent:"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:x,onChange:K=>v(K.target.value),className:"appearance-none bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 pr-10 text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Agents"}),c.map(K=>{var U;return o.jsxs("option",{value:K,children:[K," (",((U=We[K])==null?void 0:U.length)||0," answers)"]},K)})]}),o.jsx(Nn,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4",children:Ce.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[o.jsx(Cn,{className:"w-12 h-12 mb-4 opacity-50"}),o.jsx("p",{children:"No answers yet"}),o.jsx("p",{className:"text-sm mt-1",children:"Answers will appear here as agents submit them"})]}):o.jsx("div",{className:"space-y-3",children:Ce.map(K=>{const U=w===K.id,se=K.agentId===u;return o.jsxs(ie.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`
                              bg-gray-700/50 rounded-lg border overflow-hidden cursor-pointer
                              transition-colors hover:bg-gray-700/70
                              ${se?"border-yellow-500/50":"border-gray-600"}
                            `,onClick:()=>_(U?null:K.id),children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${se?"bg-yellow-900/50":"bg-blue-900/50"}`,children:se?o.jsx(hr,{className:"w-4 h-4 text-yellow-400"}):o.jsx(So,{className:"w-4 h-4 text-blue-400"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-gray-200",children:K.agentId}),o.jsx("span",{className:"text-gray-500 text-sm",children:K.answerNumber===0?"Final Answer":`Answer #${K.answerNumber}`}),K.answerNumber===0&&o.jsx("span",{className:"px-2 py-0.5 bg-green-900/50 text-green-300 rounded-full text-xs",children:"Final"}),se&&K.answerNumber!==0&&o.jsx("span",{className:"px-2 py-0.5 bg-yellow-900/50 text-yellow-300 rounded-full text-xs",children:"Winner"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-0.5",children:[o.jsx(nl,{className:"w-3 h-3"}),o.jsx("span",{children:IC(K.timestamp)})]})]})]}),o.jsx(ie.div,{animate:{rotate:U?180:0},className:"text-gray-400",children:o.jsx(Nn,{className:"w-5 h-5"})})]}),o.jsx(Ue,{children:U&&o.jsx(ie.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"border-t border-gray-600",children:o.jsx("div",{className:"p-4 bg-gray-800/50",children:o.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-300 font-mono leading-relaxed max-h-96 overflow-y-auto custom-scrollbar",children:eS(K,a,f)})})})})]},K.id)})})})]}):m==="votes"?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4",children:[En.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-sm font-medium text-gray-400 mb-3 flex items-center gap-2",children:[o.jsx(hr,{className:"w-4 h-4"}),"Vote Distribution"]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:En.map(({agentId:K,agentIndex:U,modelName:se,votes:Re,isWinner:Be})=>o.jsxs("div",{className:`
                              flex items-center justify-between px-4 py-3 rounded-lg
                              ${Be?"bg-yellow-500/20 border border-yellow-500/50":"bg-gray-700/50 border border-gray-600"}
                            `,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(So,{className:`w-4 h-4 ${Be?"text-yellow-400":"text-gray-400"}`}),o.jsxs("div",{children:[o.jsxs("span",{className:`font-medium ${Be?"text-yellow-300":"text-gray-200"}`,children:["Agent ",U]}),se&&o.jsx("span",{className:"text-xs text-gray-500 block",children:se})]}),Be&&o.jsx("span",{className:"text-sm",children:""})]}),o.jsx("span",{className:`text-lg font-bold ${Be?"text-yellow-400":"text-gray-300"}`,children:Re})]},K))})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-sm font-medium text-gray-400 mb-3 flex items-center gap-2",children:[o.jsx($n,{className:"w-4 h-4"}),"Individual Votes"]}),It.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx($n,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"No votes cast yet"})]}):o.jsx("div",{className:"space-y-3",children:It.map(K=>o.jsxs(ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gray-700/50 rounded-lg border border-gray-600 overflow-hidden",children:[o.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-gray-700/50",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[o.jsx(So,{className:"w-4 h-4 text-blue-400"}),o.jsxs("span",{className:"font-medium",children:["Agent ",K.voterIndex]}),K.voterModel&&o.jsxs("span",{className:"text-xs text-gray-500",children:["(",K.voterModel,")"]})]}),o.jsx(My,{className:"w-4 h-4 text-amber-500"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`font-medium px-2 py-0.5 rounded ${K.targetId===u?"bg-yellow-500/30 text-yellow-300":"bg-green-500/20 text-green-300"}`,children:K.votedAnswerLabel}),K.targetId===u&&o.jsx("span",{className:"text-sm",children:""})]})]}),o.jsxs("div",{className:"px-4 py-3 border-t border-gray-600 space-y-2",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-gray-500",children:"Voted for: "}),o.jsxs("span",{className:"text-gray-300",children:["Agent ",K.targetIndex,K.targetModel&&` (${K.targetModel})`]})]}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-gray-500",children:"From choices: "}),o.jsx("span",{className:"text-gray-400",children:K.availableAnswers.join(", ")})]}),o.jsx("div",{className:"mt-2 pt-2 border-t border-gray-600/50",children:o.jsx("p",{className:"text-sm text-gray-400 italic",children:K.reason})})]})]},K.voterId))})]})]})}):m==="workspace"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"px-6 py-3 border-b border-gray-700 bg-gray-800/50 flex items-center gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(hn,{className:"w-4 h-4 text-blue-400"}),o.jsx("span",{className:"text-sm text-gray-400",children:"Agent:"}),o.jsx("div",{className:"flex gap-1",children:c.map(K=>{const U=ee[K];return(U==null?void 0:U.current)||(U==null?void 0:U.historical.length)>0?o.jsx("button",{onClick:()=>{ge(K),Ae(null),pe("current"),J(),ke()},className:`px-3 py-1 text-sm rounded transition-colors ${te===K?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:K},K):null})})]}),te&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fy,{className:"w-4 h-4 text-amber-400"}),o.jsx("span",{className:"text-sm text-gray-400",children:"Version:"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:ue,onChange:K=>{var se;const U=K.target.value;if(pe(U),Ae(null),J(),ke(),U==="current"){const Re=(se=ee[te])==null?void 0:se.current;Re&&le(Re)}else{const Re=Le.find(Be=>Be.answerLabel===U);Re&&le({name:Re.answerLabel,path:Re.workspacePath,type:"historical"})}},className:"appearance-none bg-gray-700 border border-gray-600 rounded-lg px-3 py-1 pr-8 text-sm text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"current",children:"Current"}),Le.filter(K=>K.agentId===te).map(K=>o.jsx("option",{value:K.answerLabel,children:K.answerLabel},K.answerId))]}),o.jsx(Nn,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400 pointer-events-none"})]})]}),re&&o.jsxs("button",{onClick:()=>B(re.path),className:"ml-auto flex items-center gap-2 px-3 py-1.5 bg-blue-600 hover:bg-blue-500 rounded-lg transition-colors text-white text-sm",title:"Open workspace in file browser",children:[o.jsx(Xi,{className:"w-4 h-4"}),o.jsx("span",{children:"Open Folder"})]}),o.jsx("button",{onClick:()=>{J(),ke(),re&&le(re)},disabled:E||I,className:`${re?"":"ml-auto"} p-2 hover:bg-gray-700 rounded-lg transition-colors text-gray-400 hover:text-gray-200`,title:"Refresh workspaces",children:o.jsx(mr,{className:`w-4 h-4 ${E||I?"animate-spin":""}`})})]}),F&&o.jsx("div",{className:"px-6 py-2 bg-red-900/30 border-b border-red-700 text-red-300 text-sm",children:F}),o.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4",children:E||I?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[o.jsx(mr,{className:"w-8 h-8 mb-4 animate-spin"}),o.jsx("p",{children:"Loading..."})]}):Wt===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[o.jsx(hn,{className:"w-12 h-12 mb-4 opacity-50"}),o.jsx("p",{children:"No workspaces found"}),o.jsx("p",{className:"text-sm mt-1",children:"Workspaces will appear when agents create files"})]}):re?N.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[o.jsx(hn,{className:"w-12 h-12 mb-4 opacity-50"}),o.jsx("p",{children:"No files in this workspace"})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"mb-3 text-sm text-gray-400",children:[te,"  ",re.name,"  ",N.length," files",Pe&&o.jsx("span",{className:"ml-2 text-amber-400",children:"(historical)"})]}),Ut.map(K=>o.jsx(Vx,{node:K,depth:0,onFileClick:L},K.path))]}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[o.jsx(hn,{className:"w-12 h-12 mb-4 opacity-50"}),o.jsx("p",{children:"Select an agent to browse their workspace"})]})}),re&&N.length>0&&o.jsxs("div",{className:"border-t border-gray-700 px-6 py-3 text-sm text-gray-400 flex items-center justify-between",children:[o.jsxs("span",{children:[N.length," files in ",re.name]}),o.jsx("span",{className:"text-xs text-gray-500",children:re.path})]})]}):m==="timeline"?o.jsx("div",{className:"flex-1 overflow-hidden",children:o.jsx(Mx,{onNodeClick:W})}):null,o.jsxs("div",{className:"px-6 py-3 border-t border-gray-700 bg-gray-900/50 flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-4 text-gray-400",children:[o.jsxs("span",{children:["Total: ",i.length," answers"]}),o.jsxs("span",{children:["Agents: ",Object.keys(We).length]})]}),u&&o.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[o.jsx(hr,{className:"w-4 h-4"}),o.jsxs("span",{children:["Winner: ",u]})]})]})]})]}),o.jsx(Ox,{isOpen:ve,onClose:()=>q(!1),filePath:oe,workspacePath:(re==null?void 0:re.path)||""})]}):null}function Bx({onViewResponse:e}){const t=ye(_=>_.conversationHistory),[r,i]=j.useState(!1),[a,c]=j.useState(new Set),u=j.useRef(null);j.useEffect(()=>{const _=k=>{u.current&&!u.current.contains(k.target)&&i(!1)};return r&&document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[r]);const f=j.useMemo(()=>{const _=[];for(const k of t)_.push({role:k.role,content:k.content,turn:k.turn||1});return _},[t]),h=j.useMemo(()=>{const _=new Set;for(const k of f)_.add(k.turn);return _},[f]),m=j.useMemo(()=>{var k,S;const _=new Set;for(let N=0;N<f.length-1;N+=2)((k=f[N])==null?void 0:k.role)==="user"&&((S=f[N+1])==null?void 0:S.role)==="assistant"&&_.add(f[N].turn);return _},[f]),y=h.size;if(f.length===0)return null;const x=_=>_.split(`
`).length>5||_.length>500,v=_=>{const S=_.split(`
`).slice(0,5).join(`
`);return S.length>500?S.slice(0,500)+"...":_.split(`
`).length>5?S+"...":S},w=_=>{c(k=>{const S=new Set(k);return S.has(_)?S.delete(_):S.add(_),S})};return o.jsxs("div",{className:"relative",ref:u,children:[o.jsxs("button",{onClick:()=>i(!r),className:`flex items-center gap-2 px-3 py-1.5 bg-gray-200/80 dark:bg-gray-700/80
                   rounded-full hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors text-sm`,children:[o.jsx(Io,{className:"w-3.5 h-3.5 text-blue-500"}),o.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[y," ",y===1?"turn":"turns"]}),r?o.jsx(Tj,{className:"w-3.5 h-3.5 text-gray-500"}):o.jsx(Nn,{className:"w-3.5 h-3.5 text-gray-500"})]}),o.jsx(Ue,{children:r&&o.jsxs(ie.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:`absolute top-full left-0 mt-2 w-[650px] max-w-[90vw] bg-white dark:bg-gray-800
                       rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50 overflow-hidden`,children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/80",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Conversation History"}),o.jsx("button",{onClick:()=>i(!1),className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",children:o.jsx(pn,{className:"w-4 h-4 text-gray-500"})})]}),o.jsx("div",{className:"max-h-[400px] overflow-y-auto p-4 space-y-3",children:f.map((_,k)=>{const S=_.role==="user",N=_.role==="assistant",T=N&&x(_.content),E=a.has(k),R=T&&!E?v(_.content):_.content;return o.jsx("div",{className:`flex ${S?"justify-start":"justify-end"}`,children:o.jsxs("div",{className:`max-w-[90%] rounded-lg px-3 py-2 ${S?"bg-blue-50 dark:bg-blue-900/30 border-l-2 border-blue-400":"bg-gray-100 dark:bg-gray-700/50 border-r-2 border-green-400"}`,children:[o.jsx("div",{className:`flex items-center gap-1.5 mb-1 ${S?"":"justify-end"}`,children:S?o.jsxs(o.Fragment,{children:[o.jsx(So,{className:"w-3 h-3 text-blue-500"}),o.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:"You"}),o.jsxs("span",{className:"text-xs text-gray-400",children:[" Turn ",_.turn]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"text-xs text-gray-400",children:["Turn ",_.turn," "]}),o.jsx("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"MassGen"}),o.jsx(Di,{className:"w-3 h-3 text-green-500"})]})}),o.jsx("p",{className:`text-sm whitespace-pre-wrap ${S?"text-gray-800 dark:text-gray-200":"text-gray-700 dark:text-gray-300"}`,children:R}),N&&o.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[T&&o.jsx("button",{onClick:()=>w(k),className:"text-xs text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:E?" Show less":" Show more"}),e&&m.has(_.turn)&&o.jsxs("button",{onClick:()=>e(_.turn),className:"flex items-center gap-1 text-xs text-blue-500 hover:text-blue-400 transition-colors",children:[o.jsx(Xi,{className:"w-3 h-3"}),"Browser"]})]})]})},`${_.turn}-${_.role}-${k}`)})})]})})]})}function VC(e,t){const r=e.match(/workspace(\d+)/);if(r){const i=parseInt(r[1],10)-1;return t[i]}}function FC(e){return e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`}function BC(e){const t=[];e.forEach(i=>{const a=i.path.split("/").filter(Boolean);let c=t;a.forEach((u,f)=>{const h=f===a.length-1;let m=c.find(y=>y.name===u);m||(m={name:u,path:a.slice(0,f+1).join("/"),isDirectory:!h,children:[],size:h?i.size:void 0,modified:h?i.modified:void 0},c.push(m)),h||(m.isDirectory=!0,c=m.children)})});const r=i=>i.sort((a,c)=>a.isDirectory&&!c.isDirectory?-1:!a.isDirectory&&c.isDirectory?1:a.name.localeCompare(c.name)).map(a=>({...a,children:r(a.children)}));return r(t)}function zx({node:e,depth:t,onFileClick:r}){const[i,a]=j.useState(!1),c=()=>{e.isDirectory?a(!i):r&&r(e.path)};return o.jsxs("div",{children:[o.jsxs(ie.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:`
          flex items-center gap-1 py-1.5 px-2 hover:bg-gray-100 dark:hover:bg-gray-700/30 rounded cursor-pointer
          text-sm text-gray-700 dark:text-gray-300
          ${!e.isDirectory&&r?"hover:bg-blue-100 dark:hover:bg-blue-900/30":""}
        `,style:{paddingLeft:`${t*16+8}px`},onClick:c,children:[e.isDirectory?i?o.jsx(Nn,{className:"w-4 h-4 text-gray-500"}):o.jsx(Qi,{className:"w-4 h-4 text-gray-500"}):o.jsx("span",{className:"w-4"}),e.isDirectory?o.jsx(hn,{className:"w-4 h-4 text-blue-400"}):o.jsx(rl,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{className:"flex-1",children:e.name}),!e.isDirectory&&e.size!==void 0&&o.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-500",children:FC(e.size)})]}),o.jsx(Ue,{children:e.isDirectory&&i&&o.jsx(ie.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},children:e.children.map(u=>o.jsx(zx,{node:u,depth:t+1,onFileClick:r},u.path))})})]})}function zC({onBackToAgents:e,onFollowUp:t,onNewSession:r,isConnected:i=!0}){const[a,c]=j.useState("answer"),[u,f]=j.useState(!1),[h,m]=j.useState(""),y=ye(Zj),x=ye($r),v=ye(zr),w=ye(Zi),_=x?v[x]:null,k=_!=null&&_.modelName?`${x} (${_.modelName})`:x,[S,N]=j.useState({current:[],historical:[]}),[T,E]=j.useState([]),[R,I]=j.useState(!1),[G,F]=j.useState(!1),[z,te]=j.useState(null),[ge,Pe]=j.useState([]),[Ae,Le]=j.useState("current"),[Se,ue]=j.useState(!1),[pe,ve]=j.useState(""),q=j.useCallback(ee=>{ve(ee),ue(!0)},[]),oe=j.useCallback(async()=>{I(!0),te(null);try{const ee=await fetch("/api/workspaces");if(!ee.ok)throw new Error("Failed to fetch workspaces");const re=await ee.json();N(re)}catch(ee){te(ee instanceof Error?ee.message:"Failed to load workspaces")}finally{I(!1)}},[]),O=j.useCallback(async ee=>{F(!0),te(null);try{const re=await fetch(`/api/workspace/browse?path=${encodeURIComponent(ee.path)}`);if(!re.ok)throw new Error("Failed to fetch workspace files");const Ce=await re.json();E(Ce.files||[])}catch(re){te(re instanceof Error?re.message:"Failed to load files"),E([])}finally{F(!1)}},[]),L=j.useCallback(async()=>{const ee=ye.getState().sessionId;if(ee)try{const re=await fetch(`/api/sessions/${ee}/answer-workspaces`);if(re.ok){const Ce=await re.json();Pe(Ce.workspaces||[])}}catch(re){console.error("Failed to fetch answer workspaces:",re)}},[]),W=j.useCallback(async ee=>{try{const re=await fetch("/api/workspace/open",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:ee})});if(!re.ok){const Ce=await re.json();te(Ce.error||"Failed to open workspace")}}catch(re){te(re instanceof Error?re.message:"Failed to open workspace")}},[]),J=j.useMemo(()=>x&&S.current.find(re=>VC(re.name,w)===x)||null,[S,x,w]);j.useEffect(()=>{a==="workspace"&&(oe(),L())},[a,oe,L]),j.useEffect(()=>{J&&a==="workspace"&&O(J)},[J,a,O]);const le=j.useMemo(()=>BC(T),[T]),ke=j.useCallback(async()=>{y&&y!=="__PENDING__"&&(await navigator.clipboard.writeText(y),f(!0),setTimeout(()=>f(!1),2e3))},[y]),B=j.useCallback(ee=>{ee.preventDefault(),h.trim()&&t&&(t(h.trim()),m(""))},[h,t]);return o.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3,delay:.1},className:"fixed inset-0 bg-white dark:bg-gray-900 z-40 flex flex-col",children:[o.jsxs("header",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[o.jsxs("button",{onClick:e,className:`flex items-center gap-2 px-4 py-2 bg-gray-200 dark:bg-gray-700
                     hover:bg-gray-300 dark:hover:bg-gray-600 rounded-lg transition-colors
                     text-gray-700 dark:text-gray-200`,children:[o.jsx(Oy,{className:"w-4 h-4"}),"Back to Agents"]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(hr,{className:"w-6 h-6 text-yellow-500"}),o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Final Answer"}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["from ",o.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 font-medium",children:k})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:ke,className:`flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500
                       rounded-lg transition-colors text-white`,children:u?o.jsxs(o.Fragment,{children:[o.jsx(Qe,{className:"w-4 h-4"}),"Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(Wd,{className:"w-4 h-4"}),"Copy"]})}),r&&o.jsxs("button",{onClick:r,className:`flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-500
                         rounded-lg transition-colors text-white`,children:[o.jsx(sl,{className:"w-4 h-4"}),"New Session"]})]})]}),o.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 px-6 bg-gray-50 dark:bg-gray-800/50",children:[o.jsxs("button",{onClick:()=>c("answer"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition-colors border-b-2 ${a==="answer"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-200"}`,children:[o.jsx(Cn,{className:"w-4 h-4"}),"Answer"]}),o.jsxs("button",{onClick:()=>c("workspace"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition-colors border-b-2 ${a==="workspace"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-gray-200"}`,children:[o.jsx(hn,{className:"w-4 h-4"}),"Workspace"]})]}),o.jsx("main",{className:"flex-1 overflow-hidden",children:o.jsx(Ue,{mode:"wait",children:a==="answer"?o.jsx(ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"h-full overflow-y-auto custom-scrollbar p-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsx(Bx,{}),o.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:!y||y==="__PENDING__"?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[o.jsx(rt,{className:"w-8 h-8 mb-4 animate-spin text-blue-500"}),o.jsx("p",{children:"Loading final answer..."})]}):o.jsx("pre",{className:"whitespace-pre-wrap text-gray-800 dark:text-gray-200 font-mono text-sm leading-relaxed",children:y})})]})},"answer"):o.jsxs(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"h-full flex flex-col",children:[o.jsxs("div",{className:"px-6 py-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fy,{className:"w-4 h-4 text-amber-500"}),o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Version:"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:Ae,onChange:ee=>{const re=ee.target.value;if(Le(re),re==="current"&&J)O(J);else{const Ce=ge.find(We=>We.answerLabel===re);Ce&&O({name:Ce.answerLabel,path:Ce.workspacePath,type:"historical"})}},className:`appearance-none bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600
                                 rounded-lg px-3 py-1.5 pr-8 text-sm text-gray-700 dark:text-gray-200
                                 focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[o.jsx("option",{value:"current",children:"Current"}),ge.filter(ee=>ee.agentId===x).map(ee=>o.jsx("option",{value:ee.answerLabel,children:ee.answerLabel},ee.answerId))]}),o.jsx(Nn,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400 pointer-events-none"})]})]}),J&&o.jsxs("button",{onClick:()=>W(J.path),className:`ml-auto flex items-center gap-2 px-3 py-1.5 bg-blue-600 hover:bg-blue-500
                               rounded-lg transition-colors text-white text-sm`,title:"Open workspace in file browser",children:[o.jsx(Xi,{className:"w-4 h-4"}),o.jsx("span",{children:"Open Folder"})]}),o.jsx("button",{onClick:()=>{oe(),L()},disabled:R,className:`${J?"":"ml-auto"} p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors
                             text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200`,title:"Refresh workspaces",children:o.jsx(mr,{className:`w-4 h-4 ${R?"animate-spin":""}`})})]}),z&&o.jsx("div",{className:"px-6 py-2 bg-red-50 dark:bg-red-900/30 border-b border-red-200 dark:border-red-700 text-red-600 dark:text-red-300 text-sm",children:z}),o.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:R||G?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[o.jsx(mr,{className:"w-8 h-8 mb-4 animate-spin"}),o.jsx("p",{children:"Loading workspace..."})]}):J?T.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[o.jsx(hn,{className:"w-12 h-12 mb-4 opacity-50"}),o.jsx("p",{children:"No files in workspace"})]}):o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[o.jsxs("div",{className:"mb-3 text-sm text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[o.jsx(hn,{className:"w-4 h-4"}),o.jsx("span",{children:J.name}),o.jsx("span",{className:"text-gray-400",children:"-"}),o.jsxs("span",{children:[T.length," files"]})]}),le.map(ee=>o.jsx(zx,{node:ee,depth:0,onFileClick:q},ee.path))]}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[o.jsx(hn,{className:"w-12 h-12 mb-4 opacity-50"}),o.jsx("p",{children:"No workspace found for winner"})]})})})]},"workspace")})}),t&&o.jsx("footer",{className:"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 px-6 py-4",children:o.jsxs("form",{onSubmit:B,className:"max-w-4xl mx-auto flex gap-4",children:[o.jsx("input",{type:"text",value:h,onChange:ee=>m(ee.target.value),placeholder:"Ask a follow-up question...",disabled:!i,className:`flex-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3
                       text-gray-900 dark:text-gray-100 placeholder-gray-500
                       focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                       disabled:opacity-50 disabled:cursor-not-allowed`}),o.jsxs("button",{type:"submit",disabled:!h.trim()||!i,className:`px-6 py-3 bg-blue-600 hover:bg-blue-500 disabled:bg-gray-400 dark:disabled:bg-gray-600
                       disabled:cursor-not-allowed rounded-lg transition-colors text-white
                       flex items-center gap-2`,children:[o.jsx(Ku,{className:"w-5 h-5"}),o.jsx("span",{children:"Continue"})]})]})}),o.jsx(Ox,{isOpen:Se,onClose:()=>ue(!1),filePath:pe,workspacePath:(J==null?void 0:J.path)||""})]})}function $C(){const e=we(gS),t=we(k=>k.addContextPath),r=we(k=>k.removeContextPath),i=we(k=>k.updateContextPath),[a,c]=j.useState(""),[u,f]=j.useState("read"),[h,m]=j.useState(!1),[y,x]=j.useState(null),v=()=>{a.trim()&&(t(a.trim(),u),c(""))},w=k=>{k.key==="Enter"&&v()},_=async k=>{m(!0),x(null);try{const S=await fetch("/api/browse/files",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mode:k,multiple:k==="files",title:k==="files"?"Select Files":"Select Directory"})});if(!S.ok){const E=await S.json();throw new Error(E.error||"Failed to open file picker")}const T=(await S.json()).paths||[];for(const E of T)E&&t(E,u)}catch(S){x(S instanceof Error?S.message:"Failed to open file picker")}finally{m(!1)}};return o.jsxs(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Context Paths"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add files or directories that agents can access. Read paths are for reference, write paths allow agents to create and modify files."})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{type:"button",onClick:()=>_("files"),disabled:h,className:`flex-1 flex items-center justify-center gap-2 p-4 border-2 border-dashed
                     border-gray-300 dark:border-gray-600 rounded-lg
                     hover:border-blue-400 dark:hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20
                     disabled:opacity-50 disabled:cursor-not-allowed transition-all`,children:[h?o.jsx(rt,{className:"w-6 h-6 text-blue-500 animate-spin"}):o.jsx(rl,{className:"w-6 h-6 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Browse Files"})]}),o.jsxs("button",{type:"button",onClick:()=>_("directory"),disabled:h,className:`flex-1 flex items-center justify-center gap-2 p-4 border-2 border-dashed
                     border-gray-300 dark:border-gray-600 rounded-lg
                     hover:border-blue-400 dark:hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20
                     disabled:opacity-50 disabled:cursor-not-allowed transition-all`,children:[h?o.jsx(rt,{className:"w-6 h-6 text-blue-500 animate-spin"}):o.jsx(Gd,{className:"w-6 h-6 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Browse Directory"})]})]}),y&&o.jsx("div",{className:"text-sm text-red-500 dark:text-red-400 bg-red-50 dark:bg-red-900/20 p-2 rounded",children:y}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"flex-1",children:o.jsx("input",{type:"text",value:a,onChange:k=>c(k.target.value),onKeyDown:w,placeholder:"Enter path (relative or absolute)",className:`w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600
                       rounded-lg text-gray-800 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500
                       focus:outline-none focus:ring-2 focus:ring-blue-500`})}),o.jsxs("select",{value:u,onChange:k=>f(k.target.value),className:`px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600
                     rounded-lg text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[o.jsx("option",{value:"read",children:"Read"}),o.jsx("option",{value:"write",children:"Write"})]}),o.jsx("button",{type:"button",onClick:v,disabled:!a.trim(),className:`px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600
                     disabled:opacity-50 disabled:cursor-not-allowed transition-colors`,children:o.jsx(sl,{className:"w-5 h-5"})})]}),e.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Added Paths (",e.length,")"]}),o.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:e.map((k,S)=>o.jsxs(ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[k.type==="read"?o.jsx(Pj,{className:"w-4 h-4 text-green-500 flex-shrink-0"}):o.jsx(Ij,{className:"w-4 h-4 text-amber-500 flex-shrink-0"}),o.jsx("span",{className:"flex-1 text-sm text-gray-700 dark:text-gray-300 font-mono truncate",children:k.path}),o.jsx("button",{type:"button",onClick:()=>i(S,k.path,k.type==="read"?"write":"read"),className:`
                    px-2 py-1 text-xs rounded transition-colors
                    ${k.type==="read"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/50":"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 hover:bg-amber-200 dark:hover:bg-amber-900/50"}
                  `,children:k.type}),o.jsx("button",{type:"button",onClick:()=>r(S),className:"p-1 text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(Gy,{className:"w-4 h-4"})})]},S))})]}),e.length===0&&o.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"No paths added yet. This step is optional - you can proceed without adding any paths."}),o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-4",children:"Tip: Use relative paths from where MassGen is launched, or absolute paths for any location."})]})}function UC(){const e=we(a=>a.useDocker),t=we(a=>a.setUseDocker),r=we(a=>a.setupStatus),i=(r==null?void 0:r.docker_available)??!1;return o.jsxs(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Execution Mode"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Choose how agents execute code and commands."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("button",{onClick:()=>i&&t(!0),disabled:!i,className:`p-6 rounded-lg border-2 text-left transition-all ${e&&i?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":i?"border-gray-300 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600":"border-gray-200 dark:border-gray-700 opacity-50 cursor-not-allowed"}`,children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(Vy,{className:`w-8 h-8 ${e&&i?"text-blue-500":"text-gray-500"}`}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg font-medium text-gray-800 dark:text-gray-200",children:"Docker"}),i&&o.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded",children:"Recommended"})]}),e&&i&&o.jsx(Qe,{className:"w-5 h-5 text-blue-500 ml-auto"})]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Full code execution in isolated containers. Agents can run commands, install packages, and use tools safely."}),!i&&o.jsxs("div",{className:"mt-3 flex items-center gap-2 text-amber-600 dark:text-amber-400 text-sm",children:[o.jsx(Hy,{className:"w-4 h-4"}),o.jsxs("span",{children:["Docker images not found. Run ",o.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"massgen --setup-docker"})]})]})]}),o.jsxs("button",{onClick:()=>t(!1),className:`p-6 rounded-lg border-2 text-left transition-all ${e?"border-gray-300 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600":"border-blue-500 bg-blue-50 dark:bg-blue-900/20"}`,children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx($y,{className:`w-8 h-8 ${e?"text-gray-500":"text-blue-500"}`}),o.jsx("span",{className:"text-lg font-medium text-gray-800 dark:text-gray-200",children:"Local"}),!e&&o.jsx(Qe,{className:"w-5 h-5 text-blue-500 ml-auto"})]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"File operations only. Agents can create and edit files but cannot execute commands or install packages."})]})]}),o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500 mt-4",children:"You can change this later in the config file."})]})}function WC(){const e=we(u=>u.providers),t=we(u=>u.isLoading),r=we(u=>u.fetchProviders),i=e.filter(u=>u.has_api_key),a=e.filter(u=>!u.has_api_key),c=()=>{r()};return o.jsxs(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"API Keys"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"MassGen needs API keys to access LLM providers. Set up at least one provider to continue."})]}),i.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Available Providers"}),o.jsx("div",{className:"space-y-2",children:i.map(u=>o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[o.jsx(Qe,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),o.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:u.name}),o.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:"API key configured"})]},u.id))})]}),a.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Not Configured"}),o.jsx("div",{className:"space-y-2",children:a.map(u=>o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[o.jsx(Hy,{className:"w-5 h-5 text-amber-500"}),o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:u.name}),u.env_var&&o.jsx("code",{className:"text-xs bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded",children:u.env_var})]},u.id))})]}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(zy,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),o.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"How to Set API Keys"})]}),o.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-2",children:[o.jsx("p",{children:"In your terminal, set environment variables before running MassGen:"}),o.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/40 rounded p-3 font-mono text-xs overflow-x-auto",children:[o.jsx("div",{children:"# OpenAI"}),o.jsx("div",{children:"export OPENAI_API_KEY=sk-your-key-here"}),o.jsx("div",{className:"mt-2",children:"# Anthropic (Claude)"}),o.jsx("div",{children:"export ANTHROPIC_API_KEY=sk-ant-your-key-here"}),o.jsx("div",{className:"mt-2",children:"# Google (Gemini)"}),o.jsx("div",{children:"export GOOGLE_API_KEY=your-key-here"})]}),o.jsx("p",{className:"text-xs",children:"Then restart the MassGen server for changes to take effect."})]}),o.jsxs("a",{href:"https://massgen.readthedocs.io/en/latest/quickstart/setup.html",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-blue-600 dark:text-blue-400 hover:underline",children:[o.jsx(Xi,{className:"w-4 h-4"}),"View full setup guide"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("button",{onClick:c,disabled:t,className:`flex items-center gap-2 px-4 py-2 text-sm text-gray-600 dark:text-gray-400
                   hover:text-gray-800 dark:hover:text-gray-200 transition-colors
                   disabled:opacity-50 disabled:cursor-not-allowed`,children:[o.jsx(mr,{className:`w-4 h-4 ${t?"animate-spin":""}`}),o.jsx("span",{children:"Refresh"})]}),i.length===0&&o.jsx("span",{className:"text-sm text-amber-600 dark:text-amber-400",children:"Set at least one API key to continue"})]})]})}const GC=[{count:1,label:"1 agent",description:"Single agent"},{count:2,label:"2 agents",description:"Basic collaboration"},{count:3,label:"3 agents",description:"Recommended for most tasks",recommended:!0},{count:4,label:"4 agents",description:"More diverse perspectives"},{count:5,label:"5 agents",description:"Maximum collaboration"}];function HC(){const e=we(r=>r.agentCount),t=we(r=>r.setAgentCount);return o.jsxs(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"How many agents?"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"More agents provide diverse perspectives but use more API credits."})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:GC.map(r=>o.jsxs("button",{onClick:()=>t(r.count),className:`p-4 rounded-lg border-2 text-left transition-all ${e===r.count?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Hd,{className:`w-5 h-5 ${e===r.count?"text-blue-500":"text-gray-500"}`}),o.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:r.label})]}),e===r.count&&o.jsx(Qe,{className:"w-5 h-5 text-blue-500"})]}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:r.description}),r.recommended&&o.jsx("span",{className:"inline-block mt-2 text-xs px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded",children:"Recommended"})]},r.count))})]})}function KC(){const e=we(i=>i.setupMode),t=we(i=>i.setSetupMode),r=we(i=>i.agentCount);return o.jsxs(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Setup Mode"}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Configure how your ",r," agents will be set up."]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("button",{onClick:()=>t("same"),className:`p-6 rounded-lg border-2 text-left transition-all ${e==="same"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600"}`,children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(Wd,{className:`w-8 h-8 ${e==="same"?"text-blue-500":"text-gray-500"}`}),o.jsx("span",{className:"text-lg font-medium text-gray-800 dark:text-gray-200",children:"Same for all"}),e==="same"&&o.jsx(Qe,{className:"w-5 h-5 text-blue-500 ml-auto"})]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Use the same provider and model for all agents. Quick setup for comparing agent responses."})]}),o.jsxs("button",{onClick:()=>t("different"),className:`p-6 rounded-lg border-2 text-left transition-all ${e==="different"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600"}`,children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(Vj,{className:`w-8 h-8 ${e==="different"?"text-blue-500":"text-gray-500"}`}),o.jsx("span",{className:"text-lg font-medium text-gray-800 dark:text-gray-200",children:"Different per agent"}),e==="different"&&o.jsx(Qe,{className:"w-5 h-5 text-blue-500 ml-auto"})]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Configure each agent with a different provider and model. Great for diverse perspectives."})]})]})]})}function Zg({provider:e,isSelected:t,onSelect:r,disabled:i}){return o.jsxs("button",{onClick:r,disabled:i,className:`w-full p-4 rounded-xl border-2 text-left transition-all ${i?"opacity-50 cursor-not-allowed border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-gray-800/50":t?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 ring-2 ring-blue-500/20":"border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("div",{className:"font-semibold text-gray-800 dark:text-gray-200",children:e.name}),t&&o.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx(Qe,{className:"w-4 h-4 text-white"})})]}),i&&o.jsxs("div",{className:"mt-1 text-xs text-red-500",children:["Needs ",e.env_var]})]})}function qC({model:e,isSelected:t,isDefault:r,onSelect:i}){return o.jsx("button",{onClick:i,className:`w-full p-3 rounded-lg border-2 text-left transition-all ${t?"border-green-500 bg-green-50 dark:bg-green-900/30 ring-2 ring-green-500/20":"border-gray-200 dark:border-gray-700 hover:border-green-300 dark:hover:border-green-600 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200 text-sm",children:e}),r&&o.jsxs("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-0.5 bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 rounded-full",children:[o.jsx(Mo,{className:"w-3 h-3"}),"Recommended"]})]}),t&&o.jsx("div",{className:"flex-shrink-0 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:o.jsx(Qe,{className:"w-3 h-3 text-white"})})]})})}function e0({enabled:e,onChange:t,icon:r,label:i,description:a}){return o.jsxs("label",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:r}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:i}),a&&o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:a})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"checkbox",checked:e,onChange:c=>t(c.target.checked),className:"sr-only peer"}),o.jsx("div",{className:"w-10 h-6 bg-gray-200 dark:bg-gray-700 rounded-full peer-checked:bg-blue-500 transition-colors"}),o.jsx("div",{className:"absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow peer-checked:translate-x-4 transition-transform"})]})]})}function YC(){const e=we(O=>O.providers),t=we(O=>O.agents),r=we(O=>O.setupMode),i=we(O=>O.useDocker),a=we(O=>O.setAgentConfig),c=we(O=>O.setAllAgentsConfig),u=we(O=>O.setAgentWebSearch),f=we(O=>O.setAgentCodeExecution),h=we(O=>O.setAgentSystemMessage),m=we(O=>O.dynamicModels),y=we(O=>O.loadingModels),x=we(O=>O.fetchDynamicModels),v=we(O=>O.providerCapabilities),w=we(O=>O.loadingCapabilities),_=we(O=>O.fetchProviderCapabilities),[k,S]=j.useState(""),[N,T]=j.useState(""),[E,R]=j.useState(0),I=e.filter(O=>O.has_api_key),G=e.filter(O=>!O.has_api_key),F=r==="same"?t[0]:t[E],z=e.find(O=>O.id===(F==null?void 0:F.provider));j.useEffect(()=>{F!=null&&F.provider&&!m[F.provider]&&x(F.provider)},[F==null?void 0:F.provider,m,x]),j.useEffect(()=>{F!=null&&F.provider&&!v[F.provider]&&_(F.provider)},[F==null?void 0:F.provider,v,_]);const te=F!=null&&F.provider&&v[F.provider]||null,ge=F!=null&&F.provider&&w[F.provider]||!1,Pe=F!=null&&F.provider?(m[F.provider]||(z==null?void 0:z.models)||[]).filter(O=>O!=="custom"):[],Ae=k?I.filter(O=>O.name.toLowerCase().includes(k.toLowerCase())||O.id.toLowerCase().includes(k.toLowerCase())):I,Le=k?G.filter(O=>O.name.toLowerCase().includes(k.toLowerCase())||O.id.toLowerCase().includes(k.toLowerCase())):G,Se=N?Pe.filter(O=>O.toLowerCase().includes(N.toLowerCase())):Pe,ue=O=>{const L=e.find(J=>J.id===O),W=(L==null?void 0:L.default_model)==="custom"?"":(L==null?void 0:L.default_model)||"";r==="same"?c(O,W,!1):a(E,O,W,!1),T("")},pe=O=>{r==="same"?t.forEach((L,W)=>{u(W,O)}):u(E,O)},ve=O=>{r==="same"?t.forEach((L,W)=>{f(W,O)}):f(E,O)},q=O=>{r==="same"?t.forEach((L,W)=>{h(W,O)}):h(E,O)},oe=O=>{r==="same"?c((F==null?void 0:F.provider)||"",O):a(E,(F==null?void 0:F.provider)||"",O)};return I.length===0?o.jsx(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:o.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(jt,{className:"w-6 h-6 text-amber-500"}),o.jsx("h3",{className:"text-lg font-semibold text-amber-700 dark:text-amber-400",children:"No API Keys Found"})]}),o.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-400 mb-4",children:"Please set up API keys for at least one provider. You can do this by:"}),o.jsxs("ul",{className:"text-sm text-amber-600 dark:text-amber-400 list-disc list-inside space-y-1",children:[o.jsx("li",{children:"Setting environment variables (e.g., OPENAI_API_KEY)"}),o.jsxs("li",{children:["Running ",o.jsx("code",{className:"bg-amber-100 dark:bg-amber-900/40 px-1 rounded",children:"massgen --setup"})," in terminal"]}),o.jsxs("li",{children:["Creating a ",o.jsx("code",{className:"bg-amber-100 dark:bg-amber-900/40 px-1 rounded",children:"~/.massgen/.env"})," file"]})]})]})}):o.jsxs(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2",children:r==="same"?"Configure All Agents":"Configure Each Agent"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r==="same"?`All ${t.length} agents will use the same provider and model.`:"Select a provider and model for each agent."})]}),r==="different"&&t.length>1&&o.jsx("div",{className:"flex gap-2 flex-wrap",children:t.map((O,L)=>{const W=O.id.replace("agent_","").toUpperCase(),J=O.provider&&O.model;return o.jsxs("button",{onClick:()=>R(L),className:`px-4 py-2 rounded-lg font-medium text-sm transition-all flex items-center gap-2 ${E===L?"bg-blue-500 text-white":J?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 border border-green-300 dark:border-green-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-700"}`,children:[o.jsx(Di,{className:"w-4 h-4"}),"Agent ",W,J&&E!==L&&o.jsx(Qe,{className:"w-4 h-4"})]},O.id)})}),(F==null?void 0:F.provider)&&o.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Di,{className:"w-5 h-5 text-blue-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Current selection: "}),o.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:(z==null?void 0:z.name)||F.provider}),F.model&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-400 mx-2",children:"/"}),o.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:F.model})]}),F.enable_web_search&&o.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 text-xs px-2 py-0.5 bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300 rounded-full",children:[o.jsx(xg,{className:"w-3 h-3"}),"Web Search"]}),F.enable_code_execution&&o.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 text-xs px-2 py-0.5 bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 rounded-full",children:[o.jsx(Hu,{className:"w-3 h-3"}),"Code Execution"]}),F.system_message&&o.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 text-xs px-2 py-0.5 bg-amber-100 dark:bg-amber-900/40 text-amber-700 dark:text-amber-300 rounded-full",children:[o.jsx(Io,{className:"w-3 h-3"}),"Custom Instructions"]})]})]}),F.provider&&F.model&&o.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[o.jsx(Qe,{className:"w-5 h-5"}),o.jsx("span",{className:"text-sm font-medium",children:"Ready"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"1. Select Provider"}),o.jsxs("span",{className:"text-xs text-gray-500",children:[I.length," available"]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Oo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",value:k,onChange:O=>S(O.target.value),placeholder:"Search providers...",className:`w-full pl-10 pr-10 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600
                       rounded-lg text-gray-800 dark:text-gray-200 text-sm
                       focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),k&&o.jsx("button",{onClick:()=>S(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.jsx(pn,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-2",children:[Ae.map(O=>o.jsx(Zg,{provider:O,isSelected:(F==null?void 0:F.provider)===O.id,onSelect:()=>ue(O.id)},O.id)),Le.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide pt-4 pb-2",children:"Unavailable (need API key)"}),Le.map(O=>o.jsx(Zg,{provider:O,isSelected:!1,onSelect:()=>{},disabled:!0},O.id))]}),Ae.length===0&&Le.length===0&&o.jsxs("div",{className:"text-center py-8 text-gray-500",children:['No providers match "',k,'"']})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"2. Select Model"}),Pe.length>0&&o.jsxs("span",{className:"text-xs text-gray-500",children:[Pe.length," models"]})]}),F!=null&&F.provider?y[F.provider]?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[o.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mb-3"}),o.jsx("p",{className:"text-sm",children:"Loading models..."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative",children:[o.jsx(Oo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",value:N,onChange:O=>T(O.target.value),placeholder:"Search models or type custom name...",className:`w-full pl-10 pr-10 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600
                           rounded-lg text-gray-800 dark:text-gray-200 text-sm
                           focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent`,onKeyDown:O=>{O.key==="Enter"&&N.trim()&&oe(N.trim())}}),N&&o.jsx("button",{onClick:()=>T(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.jsx(pn,{className:"w-4 h-4"})})]}),N&&!Se.includes(N)&&o.jsx("button",{onClick:()=>oe(N.trim()),className:`w-full p-3 rounded-lg border-2 border-dashed border-blue-300 dark:border-blue-700
                           bg-blue-50 dark:bg-blue-900/20 text-left hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-all`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-blue-600 dark:text-blue-400 text-sm",children:"Press Enter or click to use custom model:"}),o.jsx("span",{className:"font-medium text-blue-700 dark:text-blue-300",children:N})]})}),o.jsxs("div",{className:"space-y-2 max-h-[350px] overflow-y-auto pr-2",children:[Se.map(O=>o.jsx(qC,{model:O,isSelected:(F==null?void 0:F.model)===O,isDefault:O===(z==null?void 0:z.default_model),onSelect:()=>oe(O)},O)),Se.length===0&&N&&o.jsxs("div",{className:"text-center py-4 text-gray-500 text-sm",children:['No models match "',N,'"']})]}),(F==null?void 0:F.model)&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"3. Agent Options"}),ge?o.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm p-3",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Loading options..."})]}):o.jsxs("div",{className:"space-y-3",children:[((te==null?void 0:te.supports_web_search)||!i&&(te==null?void 0:te.supports_code_execution))&&o.jsxs("div",{className:"space-y-2",children:[(te==null?void 0:te.supports_web_search)&&o.jsx(e0,{enabled:F.enable_web_search??!1,onChange:pe,icon:o.jsx(xg,{className:"w-4 h-4"}),label:"Web Search",description:"Search the web for up-to-date information"}),!i&&(te==null?void 0:te.supports_code_execution)&&o.jsx(e0,{enabled:F.enable_code_execution??!1,onChange:ve,icon:o.jsx(Hu,{className:"w-4 h-4"}),label:"Code Execution",description:"Run code in provider's cloud sandbox"})]}),o.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Io,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"System Message"}),o.jsx("span",{className:"text-xs text-gray-400",children:"(optional)"})]}),o.jsx("textarea",{value:F.system_message??"",onChange:O=>q(O.target.value),placeholder:"Add custom instructions for this agent...",rows:3,className:`w-full px-3 py-2 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600
                                   rounded-lg text-gray-800 dark:text-gray-200 text-sm
                                   focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                                   resize-none placeholder-gray-400 dark:placeholder-gray-500`}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Custom instructions to guide the agent's behavior and responses"})]})]})]})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500 bg-gray-50 dark:bg-gray-800/50 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-700",children:[o.jsx(Di,{className:"w-12 h-12 mb-3 opacity-50"}),o.jsx("p",{className:"text-sm",children:"Select a provider first"})]})]})]})]})}const QC=[{value:"lenient",label:"Lenient",description:"Agents accept answers more easily"},{value:"balanced",label:"Balanced",description:"Moderate scrutiny of answers"},{value:"strict",label:"Strict",description:"Agents are highly critical"}],XC=[{value:"lenient",label:"Lenient",description:"Similar answers are accepted"},{value:"balanced",label:"Balanced",description:"Some differentiation required"},{value:"strict",label:"Strict",description:"Answers must be substantially different"}];function t0({label:e,description:t,icon:r,value:i,options:a,onChange:c}){return o.jsxs("div",{className:"p-5 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:r}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium text-gray-800 dark:text-gray-200",children:e}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:t})]})]}),o.jsx("select",{value:i,onChange:u=>c(u.target.value),className:`w-full px-4 py-2.5 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600
                   rounded-lg text-gray-800 dark:text-gray-200 text-sm
                   focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                   cursor-pointer`,children:a.map(u=>o.jsxs("option",{value:u.value,children:[u.label," - ",u.description]},u.value))})]})}function JC(){const e=we(c=>c.coordinationSettings),t=we(c=>c.setCoordinationSettings),r=we(c=>c.agentCount),i=c=>{t({voting_sensitivity:c})},a=c=>{t({answer_novelty_requirement:c})};return o.jsxs(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Wy,{className:"w-5 h-5 text-blue-500"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"Coordination Settings"}),o.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-full",children:"Optional"})]}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Configure how your ",r," agents coordinate and evaluate answers. These settings affect all agents."]})]}),o.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[o.jsx(By,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[o.jsx("strong",{children:"Tip:"}),' Start with "Lenient" settings for faster consensus. Use "Strict" settings when you need more thorough deliberation.']})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(t0,{label:"Voting Sensitivity",description:"How critical are agents when voting on proposed answers?",icon:o.jsx($n,{className:"w-5 h-5 text-blue-500"}),value:e.voting_sensitivity,options:QC,onChange:i}),o.jsx(t0,{label:"Answer Novelty Requirement",description:"How different must new answers be from existing proposals?",icon:o.jsx(Mo,{className:"w-5 h-5 text-blue-500"}),value:e.answer_novelty_requirement,options:XC,onChange:a})]}),o.jsx("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg",children:o.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Current settings: "}),"Voting is ",o.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:e.voting_sensitivity}),", answer novelty is ",o.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:e.answer_novelty_requirement}),"."]})})]})}function ZC(){var _;const e=we(k=>k.generatedYaml),t=we(k=>k.isLoading),r=we(k=>k.error),i=we(k=>k.setupStatus),a=we(k=>k.configFilename),c=we(k=>k.setConfigFilename),u=we(k=>k.setGeneratedYaml),[f,h]=j.useState(!1),[m,y]=j.useState(e||"");e&&m===""&&e!==m&&y(e);const x=()=>{u(m),h(!1)},v=()=>{y(e||""),h(!1)};if(t)return o.jsxs(ie.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-12",children:[o.jsx(rt,{className:"w-12 h-12 text-blue-500 animate-spin mb-4"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Generating configuration..."})]});if(r)return o.jsx(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:o.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(jt,{className:"w-6 h-6 text-red-500"}),o.jsx("h3",{className:"text-lg font-semibold text-red-700 dark:text-red-400",children:"Error Generating Config"})]}),o.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:r})]})});const w=((_=i==null?void 0:i.config_path)==null?void 0:_.replace(/\/[^/]+$/,""))||"~/.config/massgen";return o.jsxs(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Review Configuration"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Review and customize your configuration before saving."})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o.jsx(Uy,{className:"w-4 h-4 inline mr-1"}),"Config Name"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",value:a,onChange:k=>c(k.target.value),placeholder:"config",className:`flex-1 px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600
                     rounded-lg text-gray-800 dark:text-gray-200 text-sm
                     focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),o.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:".yaml"})]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Will be saved to:"," ",o.jsxs("code",{className:"bg-gray-100 dark:bg-gray-700 px-1 rounded",children:[w,"/",a||"config",".yaml"]})]})]}),e&&o.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-800 border-b border-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Cn,{className:"w-4 h-4 text-gray-400"}),o.jsxs("span",{className:"text-sm text-gray-300",children:[a||"config",".yaml"]})]}),o.jsx("div",{className:"flex items-center gap-2",children:f?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:v,className:"px-3 py-1 text-xs text-gray-400 hover:text-gray-200 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:x,className:"px-3 py-1 text-xs bg-green-600 hover:bg-green-500 text-white rounded transition-colors",children:"Apply Changes"})]}):o.jsxs("button",{onClick:()=>h(!0),className:`flex items-center gap-1 px-3 py-1 text-xs text-gray-400 hover:text-gray-200
                           bg-gray-700 hover:bg-gray-600 rounded transition-colors`,children:[o.jsx(Hu,{className:"w-3 h-3"}),"Edit YAML"]})})]}),f?o.jsx("textarea",{value:m,onChange:k=>y(k.target.value),className:`w-full h-[350px] p-4 bg-gray-900 text-gray-300 font-mono text-sm
                       resize-none focus:outline-none border-none`,spellCheck:!1}):o.jsx("pre",{className:"p-4 text-sm text-gray-300 overflow-x-auto max-h-[350px] overflow-y-auto",children:o.jsx("code",{children:e})})]}),o.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qe,{className:"w-5 h-5 text-green-500"}),o.jsx("span",{className:"text-sm text-green-700 dark:text-green-400",children:'Click "Save & Start" to save this configuration and begin using MassGen.'})]})})]})}const eE={docker:{title:"Execution Mode",subtitle:"Step 1 of 8"},apiKeys:{title:"API Keys",subtitle:"Step 2 of 8"},agentCount:{title:"Number of Agents",subtitle:"Step 3 of 8"},setupMode:{title:"Setup Mode",subtitle:"Step 4 of 8"},agentConfig:{title:"Agent Configuration",subtitle:"Step 5 of 8"},coordination:{title:"Coordination Settings",subtitle:"Step 6 of 8"},context:{title:"Context Paths",subtitle:"Step 7 of 8"},preview:{title:"Review & Save",subtitle:"Step 8 of 8"}};function tE({onConfigSaved:e}){const t=we(E=>E.isOpen),r=we(E=>E.currentStep),i=we(E=>E.isLoading),a=we(E=>E.agents),c=we(E=>E.agentCount),u=we(E=>E.closeWizard),f=we(E=>E.nextStep),h=we(E=>E.prevStep),m=we(E=>E.saveConfig),y=we(E=>E.reset),x=j.useCallback(()=>{u(),y()},[u,y]),v=j.useCallback(async()=>{if(await m()){const R=we.getState().savedConfigPath;x(),R&&e&&e(R)}},[m,x,e]),w=we(E=>E.providers),_=j.useCallback(()=>{switch(r){case"context":return!0;case"docker":return!0;case"apiKeys":return w.some(E=>E.has_api_key);case"agentCount":return c>=1&&c<=5;case"setupMode":return!0;case"agentConfig":return a.every(E=>E.provider&&E.model);case"coordination":return!0;case"preview":return!0;default:return!1}},[r,c,a,w]),k=()=>{switch(r){case"context":return o.jsx($C,{});case"docker":return o.jsx(UC,{});case"apiKeys":return o.jsx(WC,{});case"agentCount":return o.jsx(HC,{});case"setupMode":return o.jsx(KC,{});case"agentConfig":return o.jsx(YC,{});case"coordination":return o.jsx(JC,{});case"preview":return o.jsx(ZC,{});default:return null}},S=eE[r],N=r==="docker",T=r==="preview";return o.jsx(Ue,{children:t&&o.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:o.jsxs(ie.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:`relative w-full max-w-6xl mx-4 h-[90vh] bg-white dark:bg-gray-900
                       rounded-xl shadow-2xl flex flex-col`,children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:o.jsx(qu,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:"Quickstart Setup"}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[S.subtitle," - ",S.title]})]})]}),o.jsx("button",{onClick:x,className:`p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400
                         dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800`,children:o.jsx(pn,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"px-6 py-2 bg-gray-50 dark:bg-gray-800/50",children:o.jsx("div",{className:"flex items-center gap-2",children:["docker","apiKeys","agentCount","setupMode","agentConfig","coordination","context","preview"].map((E,R)=>{const G=["docker","apiKeys","agentCount","setupMode","agentConfig","coordination","context","preview"].indexOf(r),F=R===G,z=R<G;return E==="apiKeys"&&w.some(te=>te.has_api_key)||E==="setupMode"&&c===1?null:o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:`h-1.5 rounded-full transition-colors ${z?"bg-blue-500":F?"bg-blue-300 dark:bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`})},E)})})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:o.jsx(Ue,{mode:"wait",children:k()})}),o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:[o.jsxs("button",{onClick:N?x:h,className:`flex items-center gap-2 px-4 py-2 text-gray-600 dark:text-gray-400
                         hover:text-gray-800 dark:hover:text-gray-200 transition-colors`,children:[o.jsx($d,{className:"w-4 h-4"}),o.jsx("span",{children:N?"Cancel":"Back"})]}),T?o.jsx("button",{onClick:v,disabled:i||!_(),className:`flex items-center gap-2 px-6 py-2 bg-green-600 hover:bg-green-500
                           disabled:bg-gray-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed
                           text-white rounded-lg transition-colors`,children:i?o.jsxs(o.Fragment,{children:[o.jsx(rt,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Saving..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(qu,{className:"w-4 h-4"}),o.jsx("span",{children:"Save & Start"})]})}):o.jsxs("button",{onClick:f,disabled:!_(),className:`flex items-center gap-2 px-6 py-2 bg-blue-600 hover:bg-blue-500
                           disabled:bg-gray-400 dark:disabled:bg-gray-600 disabled:cursor-not-allowed
                           text-white rounded-lg transition-colors`,children:[o.jsx("span",{children:"Next"}),o.jsx(Qi,{className:"w-4 h-4"})]})]})]})})})}const nE={answer:Io,vote:$n,info:By,error:jt},rE={answer:"border-blue-500 bg-blue-500/10",vote:"border-amber-500 bg-amber-500/10",info:"border-gray-500 bg-gray-500/10",error:"border-red-500 bg-red-500/10"},sE={answer:"text-blue-400",vote:"text-amber-400",info:"text-gray-400",error:"text-red-400"};function iE({notification:e,onClick:t}){const r=Vo(u=>u.removeNotification),i=nE[e.type],a=()=>{t&&(t(e),r(e.id))},c=u=>{u.stopPropagation(),r(e.id)};return o.jsxs(ie.div,{layout:!0,initial:{opacity:0,x:100,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.9},transition:{type:"spring",stiffness:400,damping:30},onClick:a,className:`
        relative flex items-start gap-3 p-4 rounded-lg border-l-4 shadow-lg
        bg-gray-800/95 backdrop-blur-sm min-w-[280px] max-w-[360px]
        ${rE[e.type]}
        ${t?"cursor-pointer hover:bg-gray-700/95":""}
      `,children:[o.jsx(i,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${sE[e.type]}`}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-gray-100 text-sm",children:e.title}),e.modelName&&o.jsxs("span",{className:"text-xs text-gray-400",children:["(",e.modelName,")"]})]}),o.jsx("p",{className:"text-sm text-gray-300 mt-1 line-clamp-2",children:e.message}),t&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to view details"})]}),o.jsx("button",{onClick:c,className:"p-1 hover:bg-gray-600 rounded transition-colors flex-shrink-0",children:o.jsx(pn,{className:"w-4 h-4 text-gray-400"})})]})}function aE({onNotificationClick:e}){const t=Vo(r=>r.notifications);return o.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:o.jsx(Ue,{mode:"popLayout",children:t.map(r=>o.jsx(iE,{notification:r,onClick:e},r.id))})})}function oE(e={}){const{onOpenAnswerBrowser:t,onOpenVoteBrowser:r,onOpenWorkspaceBrowser:i,onOpenTimeline:a,onOpenShortcutsHelp:c,onSelectAgent:u,enabled:f=!0}=e,h=ye(w=>w.agentOrder),[m,y]=j.useState(!1),x=[{key:"a",description:"Open Answer Browser",action:()=>t==null?void 0:t(),category:"navigation"},{key:"v",description:"Open Vote Browser",action:()=>r==null?void 0:r(),category:"navigation"},{key:"w",description:"Open Workspace Browser",action:()=>i==null?void 0:i(),category:"navigation"},{key:"t",description:"Open Timeline",action:()=>a==null?void 0:a(),category:"navigation"},...h.slice(0,9).map((w,_)=>({key:String(_+1),description:`Navigate to Agent ${_+1}`,action:()=>{u==null||u(w)},category:"agents"})),{key:"?",description:"Show keyboard shortcuts",action:()=>c==null?void 0:c(),category:"general"},{key:"Escape",description:"Close modal / Deselect",action:()=>{},category:"modal"}],v=j.useCallback(w=>{if(!f)return;const _=w.target;if(_.tagName==="INPUT"||_.tagName==="TEXTAREA"||_.isContentEditable||m&&w.key!=="Escape")return;const k=x.find(S=>!(S.key.toLowerCase()!==w.key.toLowerCase()||S.modifier==="ctrl"&&!w.ctrlKey||S.modifier==="alt"&&!w.altKey||S.modifier==="shift"&&!w.shiftKey||S.modifier==="meta"&&!w.metaKey||!S.modifier&&S.key!=="?"&&(w.ctrlKey||w.altKey||w.metaKey)));k&&(w.preventDefault(),k.action())},[f,m,x]);return j.useEffect(()=>{if(f)return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[f,v]),{shortcuts:x,isModalOpen:m,setIsModalOpen:y}}function lE(e){const t={navigation:[],agents:[],modal:[],general:[]};return e.forEach(r=>{t[r.category].push(r)}),t}const cE={navigation:"Navigation",agents:"Agent Selection",modal:"Modal Controls",general:"General"},uE=["navigation","agents","general","modal"];function dE({keyName:e,modifier:t}){return o.jsxs("div",{className:"flex items-center gap-1",children:[t&&o.jsxs(o.Fragment,{children:[o.jsxs("kbd",{className:"px-2 py-1 bg-gray-700 border border-gray-600 rounded text-xs font-mono text-gray-300 min-w-[28px] text-center",children:[t==="ctrl"&&"Ctrl",t==="alt"&&"Alt",t==="shift"&&"Shift",t==="meta"&&""]}),o.jsx("span",{className:"text-gray-500",children:"+"})]}),o.jsx("kbd",{className:"px-2 py-1 bg-gray-700 border border-gray-600 rounded text-xs font-mono text-gray-300 min-w-[28px] text-center",children:e==="Escape"?"Esc":e})]})}function fE({isOpen:e,onClose:t,shortcuts:r}){const i=lE(r);return o.jsx(Ue,{children:e&&o.jsxs(o.Fragment,{children:[o.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50"}),o.jsxs(ie.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-lg bg-gray-800 rounded-xl border border-gray-600 shadow-2xl z-50 overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-700 bg-gray-900/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Lj,{className:"w-5 h-5 text-blue-400"}),o.jsx("h2",{className:"text-lg font-semibold text-gray-100",children:"Keyboard Shortcuts"})]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:o.jsx(pn,{className:"w-5 h-5 text-gray-400"})})]}),o.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto custom-scrollbar space-y-6",children:uE.map(a=>{const c=i[a];return!c||c.length===0?null:o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3 uppercase tracking-wider",children:cE[a]}),o.jsx("div",{className:"space-y-2",children:c.map(u=>o.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-700/30 rounded-lg",children:[o.jsx("span",{className:"text-sm text-gray-300",children:u.description}),o.jsx(dE,{keyName:u.key,modifier:u.modifier})]},u.key+u.description))})]},a)})}),o.jsxs("div",{className:"px-6 py-3 border-t border-gray-700 bg-gray-900/50 text-center text-xs text-gray-500",children:["Press ",o.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-700 border border-gray-600 rounded text-gray-400",children:"?"})," anytime to show this help"]})]})]})})}function hE({onSessionChange:e,sessionFromUrl:t}){var Se;const r=ye(zr),i=ye(Zi),a=ye(Yd),c=ye(Yj),u=ye(qd),f=ye($r),h=ye(ue=>ue.sessionId),m=ye(Kd),[y,x]=j.useState(!1),[v,w]=j.useState("answers"),[_,k]=j.useState([]),[S,N]=j.useState(null),T=j.useRef(null),E=Object.keys(m).length,R=Object.values(r).filter(ue=>ue.voteTarget).length,[I,G]=j.useState(0);j.useEffect(()=>{if(u)return;const ue=setInterval(()=>G(pe=>pe+1),1e3);return()=>clearInterval(ue)},[u]);const F=j.useCallback(async()=>{try{const pe=await(await fetch("/api/sessions")).json();k(pe.sessions||[]),N(null)}catch{N("Failed to fetch sessions")}},[]);j.useEffect(()=>{const ue=i.length>0;return!ue&&!T.current?(F(),T.current=setInterval(F,2e3)):ue&&T.current&&(clearInterval(T.current),T.current=null),()=>{T.current&&(clearInterval(T.current),T.current=null)}},[i.length,F]);const z=j.useMemo(()=>_.filter(ue=>ue.is_running||ue.has_display),[_]),te=j.useRef(!1);j.useEffect(()=>{if(te.current||t||i.length>0||z.length===0)return;const ue=z[0];ue.session_id!==h&&e&&(console.log("[AutomationView] Auto-connecting to running session:",ue.session_id),te.current=!0,e(ue.session_id))},[z,h,i.length,e,t]);const ge=j.useMemo(()=>{const ue=Object.values(r).map(pe=>pe.status);return u?"COMPLETE":ue.some(pe=>pe==="completed"&&f)?"PRESENTING":ue.some(pe=>pe==="voting")?"VOTING":ue.some(pe=>pe==="working")?"ANSWERING":i.length===0&&z.length>0?"STARTING":"IDLE"},[r,u,f,i.length,z.length]),Pe=ue=>{const pe=Math.floor(ue/60),ve=ue%60;return`${pe.toString().padStart(2,"0")}:${ve.toString().padStart(2,"0")}`},Ae=j.useMemo(()=>{switch(ge){case"STARTING":return"text-purple-400";case"ANSWERING":return"text-blue-400";case"VOTING":return"text-amber-400";case"PRESENTING":return"text-yellow-400";case"COMPLETE":return"text-green-400";default:return"text-gray-400"}},[ge]),Le=i.length>0||a;return o.jsxs("div",{className:"h-screen flex flex-col bg-gray-900",children:[o.jsxs("div",{className:"border-b border-gray-700 px-6 py-4 shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs font-bold rounded uppercase tracking-wide",children:"Automation"}),o.jsxs("span",{className:`text-sm font-medium ${Ae}`,children:["Phase: ",ge]}),o.jsxs("span",{className:"text-gray-500 text-sm",children:[i.length," agents"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[E>0&&o.jsxs("button",{onClick:()=>{w("answers"),x(!0)},className:"flex items-center gap-1.5 px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs text-gray-300",children:[o.jsx(Cn,{className:"w-3.5 h-3.5"}),E," Answers"]}),R>0&&o.jsxs("button",{onClick:()=>{w("votes"),x(!0)},className:"flex items-center gap-1.5 px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs text-gray-300",children:[o.jsx($n,{className:"w-3.5 h-3.5"}),R," Votes"]}),o.jsxs("span",{className:"text-gray-400 text-sm font-mono",children:["Elapsed: ",Pe(I)]})]})]}),a?o.jsx("div",{className:"text-gray-300 text-sm mb-1 truncate",title:a,children:a}):z.length>0&&z[0].question?o.jsx("div",{className:"text-gray-300 text-sm mb-1 truncate",title:z[0].question,children:z[0].question}):null,c&&o.jsxs("div",{className:"text-gray-500 text-xs font-mono truncate",title:`${c}/status.json`,children:["Status: ",c,"/status.json"]})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:Le?o.jsx(Mx,{}):o.jsx("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:z.length>0?o.jsxs(o.Fragment,{children:[o.jsx(rt,{className:"w-12 h-12 mb-4 animate-spin text-purple-400"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-200 mb-2",children:"Coordination Starting..."}),o.jsx("p",{className:"text-gray-500 mb-4",children:"Waiting for agents to initialize"}),o.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 max-w-md",children:[o.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[o.jsx(Hd,{className:"w-4 h-4 text-blue-400"}),o.jsxs("span",{className:"text-gray-300",children:[z.length," active session",z.length!==1?"s":""]})]}),((Se=z[0])==null?void 0:Se.question)&&o.jsxs("div",{className:"flex items-start gap-3 text-sm mt-2",children:[o.jsx(Cn,{className:"w-4 h-4 text-green-400 mt-0.5"}),o.jsx("span",{className:"text-gray-400 truncate",children:z[0].question})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(nl,{className:"w-12 h-12 mb-4 text-gray-600"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-300 mb-2",children:"Waiting for Coordination"}),o.jsxs("p",{className:"text-gray-500 text-center max-w-md",children:["No active sessions detected.",S&&o.jsx("span",{className:"block mt-2 text-amber-500 text-sm",children:S})]}),o.jsxs("div",{className:"mt-4 text-xs text-gray-600",children:["Session ID: ",h==null?void 0:h.slice(0,8),"..."]})]})})}),o.jsx(Fx,{isOpen:y,onClose:()=>x(!1),initialTab:v})]})}function pE({isOpen:e,onClose:t,configPath:r,onConfigChange:i,onConfigSaved:a}){const[c,u]=j.useState(""),[f,h]=j.useState(""),[m,y]=j.useState(!1),[x,v]=j.useState(!1),[w,_]=j.useState(null),[k,S]=j.useState(null),[N,T]=j.useState([]),[E,R]=j.useState(!1),[I,G]=j.useState(""),[F,z]=j.useState(!1),[te,ge]=j.useState(""),[Pe,Ae]=j.useState(null),[Le,Se]=j.useState(!1),[ue,pe]=j.useState(""),[ve,q]=j.useState(null),[oe,O]=j.useState(!1),[L,W]=j.useState(null),[J,le]=j.useState(null),ke=c!==f,B=(J==null?void 0:J.includes(".config/massgen"))??!1,ee=j.useCallback(async()=>{R(!0);try{const U=await fetch("/api/config/user-configs");if(U.ok){const se=await U.json();T(se.configs||[]),G(se.config_dir||"")}}catch(U){console.error("Failed to fetch user configs:",U)}finally{R(!1)}},[]),re=j.useCallback(async U=>{y(!0),_(null);try{const se=await fetch(`/api/config/content?path=${encodeURIComponent(U)}`);if(se.ok){const Re=await se.json();u(Re.content||""),h(Re.content||""),le(U)}else{const Re=await se.json();_(Re.error||"Failed to load config")}}catch(se){_("Error loading config content"),console.error("Failed to fetch config content:",se)}finally{y(!1)}},[]);j.useEffect(()=>{e&&(ee(),r&&re(r))},[e,r,re,ee]),j.useEffect(()=>{e||(u(""),h(""),le(null),_(null),S(null),z(!1),Se(!1),O(!1))},[e]),j.useEffect(()=>{if(k){const U=setTimeout(()=>S(null),3e3);return()=>clearTimeout(U)}},[k]);const Ce=async()=>{if(!(!J||!B)){v(!0),_(null);try{const U=await fetch("/api/config/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:J,content:c})});if(U.ok)h(c),S("Config saved successfully"),a==null||a(J);else{const se=await U.json();_(se.error||"Failed to save config")}}catch(U){_("Error saving config"),console.error("Failed to save config:",U)}finally{v(!1)}}},We=async()=>{if(!(!J||!te.trim())){Ae(null);try{const U=await fetch("/api/config/rename",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:J,new_name:te.trim()})});if(U.ok){const se=await U.json();le(se.new_path),z(!1),ge(""),S("Config renamed successfully"),ee(),i(se.new_path)}else{const se=await U.json();Ae(se.error||"Failed to rename config")}}catch(U){Ae("Error renaming config"),console.error("Failed to rename config:",U)}}},It=async()=>{if(ue.trim()){q(null);try{const U=`# MassGen Configuration
# Created: ${new Date().toISOString()}

agents:
  - id: agent_a
    type: openai
    model: gpt-4o
    backend_params:
      temperature: 0.7

orchestrator:
  timeout: 300
  voting_sensitivity: medium
`,se=await fetch("/api/config/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:{_raw_yaml:U},filename:ue.trim().endsWith(".yaml")?ue.trim():`${ue.trim()}.yaml`})});if(se.ok){const Re=await se.json();Se(!1),pe(""),S("Config created successfully"),ee(),re(Re.path),i(Re.path)}else{const Re=await se.json();q(Re.error||"Failed to create config")}}catch(U){q("Error creating config"),console.error("Failed to create config:",U)}}},En=async()=>{if(J){W(null);try{const U=await fetch(`/api/config/delete?path=${encodeURIComponent(J)}`,{method:"DELETE"});if(U.ok)if(O(!1),S("Config deleted successfully"),ee(),N.length>1){const se=N.find(Re=>Re.path!==J);se&&(re(se.path),i(se.path))}else le(null),u(""),h("");else{const se=await U.json();W(se.error||"Failed to delete config")}}catch(U){W("Error deleting config"),console.error("Failed to delete config:",U)}}},Ut=(J==null?void 0:J.split("/").pop())||"No config selected",Wt=U=>U<1024?`${U} B`:`${(U/1024).toFixed(1)} KB`,K=U=>new Date(U*1e3).toLocaleString();return o.jsx(Ue,{children:e&&o.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:t,children:o.jsxs(ie.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-6xl h-[85vh] flex",onClick:U=>U.stopPropagation(),children:[o.jsxs("div",{className:"w-64 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[o.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Your Configs"}),o.jsx("button",{onClick:ee,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",title:"Refresh",children:o.jsx(mr,{className:`w-4 h-4 text-gray-500 ${E?"animate-spin":""}`})})]}),o.jsx("p",{className:"text-xs text-gray-500 truncate",title:I,children:I})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:N.length===0&&!E?o.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No configs found"}):N.map(U=>o.jsxs("button",{onClick:()=>re(U.path),className:`w-full text-left p-2 rounded-lg mb-1 transition-colors ${J===U.path?"bg-blue-100 dark:bg-blue-900/40 border border-blue-300 dark:border-blue-700":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(yg,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}),o.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 truncate",children:U.name})]}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1 pl-6",children:[Wt(U.size)," - ",K(U.modified)]})]},U.path))}),o.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:o.jsxs("button",{onClick:()=>Se(!0),className:`w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500
                           text-white rounded-lg transition-colors text-sm`,children:[o.jsx(sl,{className:"w-4 h-4"}),"New Config"]})})]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[o.jsx(Gd,{className:"w-5 h-5 text-blue-500 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 truncate",children:Ut}),J&&o.jsx("p",{className:"text-xs text-gray-500 truncate max-w-lg",title:J,children:J})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[B&&J&&o.jsx("button",{onClick:()=>{ge(Ut.replace(".yaml","").replace(".yml","")),z(!0)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Rename",children:o.jsx(Uy,{className:"w-4 h-4 text-gray-500"})}),B&&J&&N.length>1&&o.jsx("button",{onClick:()=>O(!0),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete",children:o.jsx(Gy,{className:"w-4 h-4 text-red-500"})}),B&&ke&&o.jsxs("button",{onClick:Ce,disabled:x,className:`flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-500
                               disabled:bg-gray-400 text-white rounded-lg transition-colors text-sm`,children:[x?o.jsx(rt,{className:"w-4 h-4 animate-spin"}):o.jsx(Mj,{className:"w-4 h-4"}),"Save"]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:o.jsx(pn,{className:"w-5 h-5 text-gray-500"})})]})]}),o.jsxs(Ue,{children:[w&&o.jsx(ie.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-red-100 dark:bg-red-900/30 border-b border-red-200 dark:border-red-800 px-4 py-2",children:o.jsxs("div",{className:"flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[o.jsx(jt,{className:"w-4 h-4"}),w]})}),k&&o.jsx(ie.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-green-100 dark:bg-green-900/30 border-b border-green-200 dark:border-green-800 px-4 py-2",children:o.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-400 text-sm",children:[o.jsx(Qe,{className:"w-4 h-4"}),k]})})]}),o.jsx("div",{className:"flex-1 overflow-hidden p-4",children:m?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx(rt,{className:"w-8 h-8 text-blue-500 animate-spin"})}):J?o.jsxs("div",{className:"h-full flex flex-col",children:[!B&&o.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-800 rounded-lg px-4 py-2 mb-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-amber-700 dark:text-amber-400 text-sm",children:[o.jsx(jt,{className:"w-4 h-4"}),"This config is read-only. Only configs in ~/.config/massgen/ can be edited."]})}),o.jsx("textarea",{value:c,onChange:U=>u(U.target.value),readOnly:!B,className:`flex-1 w-full bg-gray-900 text-gray-100 font-mono text-sm p-4 rounded-lg
                               resize-none focus:outline-none focus:ring-2 focus:ring-blue-500
                               ${B?"":"cursor-not-allowed opacity-80"}`,spellCheck:!1}),ke&&o.jsx("div",{className:"text-xs text-amber-500 mt-2",children:"Unsaved changes"})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[o.jsx(yg,{className:"w-16 h-16 mb-4 opacity-50"}),o.jsx("p",{children:"Select a config file to edit"}),o.jsx("p",{className:"text-sm mt-2",children:"or create a new one"})]})})]}),o.jsx(Ue,{children:F&&o.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 flex items-center justify-center rounded-xl",onClick:()=>z(!1),children:o.jsxs(ie.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-96",onClick:U=>U.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Rename Config"}),o.jsx("input",{type:"text",value:te,onChange:U=>ge(U.target.value),placeholder:"New name",className:`w-full px-3 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600
                               rounded-lg text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500`,autoFocus:!0,onKeyDown:U=>{U.key==="Enter"&&We(),U.key==="Escape"&&z(!1)}}),o.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Will be saved as: ",te.trim()||"config",".yaml"]}),Pe&&o.jsx("p",{className:"text-sm text-red-500 mt-2",children:Pe}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx("button",{onClick:()=>z(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"Cancel"}),o.jsx("button",{onClick:We,disabled:!te.trim(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-gray-400 text-white rounded-lg",children:"Rename"})]})]})})}),o.jsx(Ue,{children:Le&&o.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 flex items-center justify-center rounded-xl",onClick:()=>Se(!1),children:o.jsxs(ie.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-96",onClick:U=>U.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Create New Config"}),o.jsx("input",{type:"text",value:ue,onChange:U=>pe(U.target.value),placeholder:"Config name",className:`w-full px-3 py-2 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600
                               rounded-lg text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500`,autoFocus:!0,onKeyDown:U=>{U.key==="Enter"&&It(),U.key==="Escape"&&Se(!1)}}),o.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Will be created as: ",ue.trim()||"config",".yaml"]}),ve&&o.jsx("p",{className:"text-sm text-red-500 mt-2",children:ve}),o.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[o.jsx("button",{onClick:()=>Se(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"Cancel"}),o.jsx("button",{onClick:It,disabled:!ue.trim(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-gray-400 text-white rounded-lg",children:"Create"})]})]})})}),o.jsx(Ue,{children:oe&&o.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 flex items-center justify-center rounded-xl",onClick:()=>O(!1),children:o.jsxs(ie.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-96",onClick:U=>U.stopPropagation(),children:[o.jsx("h3",{className:"text-lg font-semibold text-red-600 dark:text-red-400 mb-4",children:"Delete Config"}),o.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["Are you sure you want to delete ",o.jsx("strong",{children:Ut}),"? This action cannot be undone."]}),L&&o.jsx("p",{className:"text-sm text-red-500 mb-4",children:L}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>O(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"Cancel"}),o.jsx("button",{onClick:En,className:"px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded-lg",children:"Delete"})]})]})})})]})})})}function mE({status:e}){const t={connecting:{icon:vg,color:"text-amber-500",text:"Connecting..."},connected:{icon:vg,color:"text-green-500",text:"Connected"},disconnected:{icon:Bj,color:"text-red-500",text:"Disconnected"},error:{icon:jt,color:"text-red-500",text:"Error"}},{icon:r,color:i,text:a}=t[e];return o.jsxs("div",{className:`flex items-center gap-2 text-sm ${i}`,children:[o.jsx(r,{className:"w-4 h-4"}),o.jsx("span",{children:a})]})}const ll=new URLSearchParams(window.location.search),_i=ll.get("prompt"),bi=ll.get("config"),dr=ll.get("session"),gE=ll.get("wizard")==="open";function yE(){var xr;const[e,t]=j.useState(()=>dr||crypto.randomUUID()),[r,i]=j.useState(bi),[a,c]=j.useState(_i||""),[u,f]=j.useState(""),h=ye(Yd),m=ye(qd),y=ye(Kd),x=ye(Yy),v=ye($r),w=ye(zr),_=ye(qy),k=ye(Hj),S=ye(Ky),N=ye(qj),T=ye(Qj),E=ye(he=>he.reset),R=ye(he=>he.backToCoordination),I=ye(he=>he.setViewMode),G=ye(he=>he.startContinuation),F=ye(he=>he.turnNumber),z=v?w[v]:null,te=j.useRef(0),ge=Fr(he=>he.getEffectiveTheme),Pe=Fr(he=>he.mode),Ae=we(he=>he.openWizard);j.useEffect(()=>{const he=ge(),Ge=document.documentElement;he==="dark"?Ge.classList.add("dark"):Ge.classList.remove("dark")},[ge,Pe]),j.useEffect(()=>{gE&&(Ae(),window.history.replaceState({},"",window.location.pathname))},[Ae]);const Le=j.useRef(_i||bi||dr?{prompt:_i,config:bi,session:dr}:null),Se=j.useRef(!1);j.useEffect(()=>{(_i||bi||dr)&&console.log("[WebUI] URL params detected:",{prompt:_i,config:bi,session:dr})},[]);const[ue,pe]=j.useState(!1),[ve,q]=j.useState("answers"),[oe,O]=j.useState(!1),[L,W]=j.useState(!1),{shortcuts:J}=oE({onOpenAnswerBrowser:j.useCallback(()=>{q("answers"),pe(!0)},[]),onOpenVoteBrowser:j.useCallback(()=>{q("votes"),pe(!0)},[]),onOpenWorkspaceBrowser:j.useCallback(()=>{q("workspace"),pe(!0)},[]),onOpenTimeline:j.useCallback(()=>{q("timeline"),pe(!0)},[]),onOpenShortcutsHelp:j.useCallback(()=>{O(!0)},[]),enabled:!ue&&!oe&&!L}),{status:le,startCoordination:ke,continueConversation:B,cancelCoordination:ee,error:re}=tS({sessionId:e,autoConnect:!0}),Ce=j.useRef(!1);j.useEffect(()=>{if(!Ce.current){if(dr){console.log("[WebUI] Using session from URL param:",dr),Ce.current=!0;return}Ce.current=!0,fetch("/api/sessions").then(he=>he.json()).then(he=>{var mn;const Ge=(mn=he.sessions)==null?void 0:mn.find(nn=>nn.is_running&&nn.has_display);Ge&&Ge.session_id!==e&&(console.log("[WebUI] Auto-connecting to active session:",Ge.session_id),t(Ge.session_id))}).catch(he=>{console.warn("[WebUI] Failed to fetch sessions for auto-connect:",he)})}},[]),j.useEffect(()=>{if(Se.current||!Le.current||le!=="connected")return;const{prompt:he,config:Ge}=Le.current;he&&Ge&&(console.log("[WebUI] Auto-starting coordination with URL params"),Se.current=!0,ke(he,Ge),window.history.replaceState({},"",window.location.pathname))},[le,ke]);const We=j.useCallback(()=>{R(),requestAnimationFrame(()=>{window.scrollTo(0,te.current)})},[R]),It=j.useCallback(()=>{I("finalComplete")},[I]),En=j.useCallback(()=>{ee(),E()},[ee,E]),Ut=j.useCallback(he=>{he.preventDefault(),a.trim()&&le==="connected"&&(ke(a.trim(),r||void 0),c(""))},[a,le,ke,r]),Wt=j.useCallback(()=>{E(),t(crypto.randomUUID())},[E]),K=j.useCallback(he=>{he.type==="answer"?(q("answers"),pe(!0)):he.type==="vote"&&(q("votes"),pe(!0))},[]),U=j.useCallback(he=>{q("answers"),pe(!0)},[]),se=j.useCallback(he=>{he.preventDefault(),u.trim()&&le==="connected"&&(G(u.trim()),B(u.trim()),f(""))},[u,le,G,B]),Re=j.useCallback(he=>{he.trim()&&le==="connected"&&(G(he.trim()),B(he.trim()))},[le,G,B]),Be=j.useCallback(he=>{i(he)},[]),Pn=j.useCallback(()=>{W(!0)},[]),tn=j.useCallback(he=>{he!==e&&t(he)},[e]),yr=r?((xr=r.split("/").pop())==null?void 0:xr.replace(".yaml",""))||"Selected":"No config";return N?o.jsx(hE,{onSessionChange:tn,sessionFromUrl:!!dr}):o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 flex flex-col",children:[o.jsx("header",{className:"bg-gray-100/50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"MassGen"}),o.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Multi-Agent Coordination"}),o.jsx(mE,{status:le})]}),o.jsx(yS,{currentSessionId:e,selectedConfig:r,onConfigChange:Be,onSessionChange:tn,onNewSession:Wt,onOpenAnswerBrowser:()=>{q("answers"),pe(!0)},onOpenVoteBrowser:()=>{q("votes"),pe(!0)},onViewConfig:Pn,answerCount:y.length,voteCount:Object.values(S).reduce((he,Ge)=>he+Ge,0)})]})}),h&&o.jsx("div",{className:"bg-gray-100/30 dark:bg-gray-800/30 border-b border-gray-200 dark:border-gray-700 px-6 py-3",children:o.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[F>1&&o.jsx(Bx,{onViewResponse:U}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-500 text-sm",children:"Question: "}),o.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:h})]})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Config: ",o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:yr})]})]})}),o.jsx(hS,{}),o.jsx("main",{className:"flex-1 p-6 overflow-hidden",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 h-full flex flex-col",children:[re&&o.jsxs(ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-900/30 border border-red-700 rounded-lg p-4 flex items-center gap-3",children:[o.jsx(jt,{className:"w-5 h-5 text-red-500"}),o.jsx("span",{className:"text-red-200",children:re})]}),T&&o.jsxs(ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-blue-900/30 border border-blue-700 rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx(rt,{className:"w-6 h-6 text-blue-400 animate-spin"}),o.jsx("span",{className:"text-blue-100 text-lg font-medium",children:T.message})]}),o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:o.jsx(ie.div,{className:"bg-blue-500 h-2.5 rounded-full",initial:{width:0},animate:{width:`${T.progress}%`},transition:{duration:.3,ease:"easeOut"}})}),o.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[T.step==="config"&&"Loading and validating configuration...",T.step==="agents"&&"Setting up agent containers and connections...",T.step==="agents_ready"&&"Agents initialized successfully",T.step==="orchestrator"&&"Preparing coordination engine...",T.step==="starting"&&"Ready to begin coordination"]})]}),!r&&!h&&!T&&o.jsxs(ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-amber-900/30 border border-amber-700 rounded-lg p-4 flex items-center gap-3",children:[o.jsx(jt,{className:"w-5 h-5 text-amber-500"}),o.jsx("span",{className:"text-amber-200",children:"Please select a configuration from the dropdown above before starting."})]}),o.jsx("div",{className:"flex-1 min-h-0",children:o.jsxs(Ue,{mode:"sync",children:[x==="coordination"&&!T&&o.jsxs(ie.section,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"relative",children:[o.jsx(cS,{}),o.jsx(Ue,{children:k&&o.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-gray-900/70 backdrop-blur-sm flex items-center justify-center z-20 rounded-lg",children:o.jsxs("div",{className:"flex flex-col items-center gap-4 text-white max-w-md",children:[o.jsx(hr,{className:"w-12 h-12 text-yellow-500 animate-pulse"}),o.jsx("span",{className:"text-xl font-semibold",children:"Selecting Winner"}),o.jsx("div",{className:"flex flex-col gap-2 w-full px-4",children:Object.entries(S).sort(([,he],[,Ge])=>Ge-he).map(([he,Ge],mn)=>{const nn=w[he],Wr=nn!=null&&nn.modelName?`${he} (${nn.modelName})`:he,Gr=mn===0;return o.jsxs(ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:mn*.1},className:`flex items-center justify-between px-3 py-2 rounded-lg ${Gr?"bg-yellow-500/30 border border-yellow-500/50":"bg-gray-700/50"}`,children:[o.jsx("span",{className:Gr?"font-medium":"",children:Wr}),o.jsxs("span",{className:`font-bold ${Gr?"text-yellow-400":"text-gray-400"}`,children:[Ge," vote",Ge!==1?"s":""]})]},he)})}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[o.jsx(rt,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Starting final answer generation..."})]})]})})})]},"coordination"),x==="finalStreaming"&&z&&o.jsxs(ie.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsxs("button",{onClick:We,className:`flex items-center gap-2 px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600
                             rounded-lg text-sm transition-colors`,children:[o.jsx(Oy,{className:"w-4 h-4"}),"Back"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(hr,{className:"w-6 h-6 text-yellow-500"}),o.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:["Winner: ",z.modelName?`${z.id} (${z.modelName})`:z.id]})]}),!m&&o.jsxs("div",{className:"flex items-center gap-2 text-blue-500 dark:text-blue-400 ml-auto",children:[o.jsx(rt,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{className:"text-sm",children:"Generating final answer..."})]})]}),o.jsx("div",{className:"h-[450px]",children:o.jsx(Xu,{agent:z,isWinner:!0,disableLayoutAnimation:!0})})]},"finalStreaming")]})})]})}),o.jsx("footer",{className:"bg-gray-100/50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 px-6 py-4",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:m?o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-center justify-center gap-4",children:[o.jsxs("span",{className:"text-green-500 dark:text-green-400",children:["Turn ",F," Complete!"]}),_&&x==="coordination"&&o.jsxs("button",{onClick:It,className:"flex items-center gap-2 px-4 py-2 bg-yellow-600 hover:bg-yellow-500 rounded-lg transition-colors text-white",children:[o.jsx(hr,{className:"w-4 h-4"}),"View Final Answer"]}),o.jsx("button",{onClick:Wt,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded-lg transition-colors text-white",children:"New Session"})]}),o.jsxs("form",{onSubmit:se,className:"flex gap-4",children:[o.jsx("input",{type:"text",value:u,onChange:he=>f(he.target.value),placeholder:"Ask a follow-up question...",disabled:le!=="connected",className:`flex-1 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3
                           text-gray-900 dark:text-gray-100 placeholder-gray-500
                           focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                           disabled:opacity-50 disabled:cursor-not-allowed`}),o.jsxs("button",{type:"submit",disabled:!u.trim()||le!=="connected",className:`px-6 py-3 bg-blue-600 hover:bg-blue-500 disabled:bg-gray-400 dark:disabled:bg-gray-600
                           disabled:cursor-not-allowed rounded-lg transition-colors text-white
                           flex items-center gap-2`,children:[o.jsx(Ku,{className:"w-5 h-5"}),o.jsx("span",{children:"Continue"})]})]})]}):h?o.jsxs("div",{className:"flex items-center justify-center gap-4",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Coordination in progress..."}),o.jsxs("button",{onClick:En,className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-500 rounded-lg transition-colors text-white",children:[o.jsx(Rj,{className:"w-5 h-5"}),"Cancel"]})]}):o.jsxs("form",{onSubmit:Ut,className:"flex gap-4",children:[o.jsx("input",{type:"text",value:a,onChange:he=>c(he.target.value),placeholder:r?"Enter your question for multi-agent coordination...":"Select a config first...",disabled:le!=="connected"||!r,className:`flex-1 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-4 py-3
                         text-gray-900 dark:text-gray-100 placeholder-gray-500
                         focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                         disabled:opacity-50 disabled:cursor-not-allowed`}),o.jsxs("button",{type:"submit",disabled:!a.trim()||le!=="connected"||!r,className:`px-6 py-3 bg-blue-600 hover:bg-blue-500 disabled:bg-gray-400 dark:disabled:bg-gray-600
                         disabled:cursor-not-allowed rounded-lg transition-colors text-white
                         flex items-center gap-2`,children:[o.jsx(Ku,{className:"w-5 h-5"}),o.jsx("span",{children:"Start"})]})]})})}),o.jsx(Ue,{children:x==="finalComplete"&&o.jsx(zC,{onBackToAgents:We,onFollowUp:Re,onNewSession:Wt,isConnected:le==="connected"})}),o.jsx(pS,{}),o.jsx(Fx,{isOpen:ue,onClose:()=>pe(!1),initialTab:ve}),o.jsx(tE,{onConfigSaved:Be}),o.jsx(pE,{isOpen:L,onClose:()=>W(!1),configPath:r,onConfigChange:Be,onConfigSaved:Be}),o.jsx(aE,{onNotificationClick:K}),o.jsx(fE,{isOpen:oe,onClose:()=>O(!1),shortcuts:J})]})}const ki=["apiKeys","docker","skills"],n0={currentStep:"apiKeys",isLoading:!1,error:null,dockerDiagnostics:null,dockerLoading:!1,isPulling:!1,pullProgress:{},pullJobId:null,pullError:null,pullComplete:!1,providers:[],apiKeyInputs:{},apiKeySaveLocation:"global",savingApiKeys:!1,apiKeySaveError:null,apiKeySaveSuccess:!1,skills:[],skillsLoading:!1,selectedSkills:[]},Ze=Ji()((e,t)=>({...n0,setStep:r=>{e({currentStep:r})},nextStep:()=>{const{currentStep:r}=t(),i=ki.indexOf(r);i<ki.length-1&&e({currentStep:ki[i+1]})},prevStep:()=>{const{currentStep:r}=t(),i=ki.indexOf(r);i>0&&e({currentStep:ki[i-1]})},fetchDockerDiagnostics:async()=>{e({dockerLoading:!0,error:null});try{const r=await fetch("/api/docker/diagnostics");if(!r.ok)throw new Error("Failed to fetch Docker diagnostics");const i=await r.json();e({dockerDiagnostics:i})}catch(r){e({error:r instanceof Error?r.message:"Unknown error"})}finally{e({dockerLoading:!1})}},startDockerPull:async r=>{e({isPulling:!0,pullProgress:{},pullError:null,pullComplete:!1});try{const i=await fetch("/api/docker/pull",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({images:r})});if(!i.ok){const u=await i.json();throw new Error(u.error||"Failed to start Docker pull")}const{job_id:a}=await i.json();e({pullJobId:a});const c=new EventSource(`/api/docker/pull/${a}/stream`);c.onmessage=u=>{try{const f=JSON.parse(u.data),{pullProgress:h}=t();f.event==="progress"&&f.image?e({pullProgress:{...h,[f.image]:{status:f.status||"",progress:f.progress||""}}}):f.event==="complete"&&f.image?e({pullProgress:{...h,[f.image]:{status:"Complete",progress:"100%"}}}):f.event==="error"?e({pullError:f.error||"Unknown error during pull"}):f.event==="done"&&(e({pullComplete:!0,isPulling:!1}),c.close(),t().fetchDockerDiagnostics())}catch{}},c.onerror=()=>{c.close(),e({isPulling:!1})}}catch(i){e({pullError:i instanceof Error?i.message:"Unknown error",isPulling:!1})}},cancelDockerPull:()=>{e({isPulling:!1,pullProgress:{},pullJobId:null})},fetchProviders:async()=>{e({isLoading:!0,error:null});try{const r=await fetch("/api/providers");if(!r.ok)throw new Error("Failed to fetch providers");const a=(await r.json()).providers.filter(c=>c.env_var||c.id==="claude_code");e({providers:a})}catch(r){e({error:r instanceof Error?r.message:"Unknown error"})}finally{e({isLoading:!1})}},setApiKeyInput:(r,i)=>{const{apiKeyInputs:a}=t();e({apiKeyInputs:{...a,[r]:i},apiKeySaveSuccess:!1,apiKeySaveError:null})},setApiKeySaveLocation:r=>{e({apiKeySaveLocation:r})},saveApiKeys:async()=>{const{apiKeyInputs:r,apiKeySaveLocation:i}=t(),a={};for(const[c,u]of Object.entries(r))u&&u.trim()&&(a[c]=u.trim());if(Object.keys(a).length===0)return e({apiKeySaveError:"No API keys to save"}),!1;e({savingApiKeys:!0,apiKeySaveError:null,apiKeySaveSuccess:!1});try{const c=await fetch("/api/setup/api-keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({keys:a,save_location:i})});if(!c.ok){const u=await c.json();throw new Error(u.error||"Failed to save API keys")}return e({apiKeySaveSuccess:!0,savingApiKeys:!1}),!0}catch(c){return e({apiKeySaveError:c instanceof Error?c.message:"Unknown error",savingApiKeys:!1}),!1}},clearApiKeyInputs:()=>{e({apiKeyInputs:{},apiKeySaveSuccess:!1,apiKeySaveError:null})},fetchSkills:async()=>{e({skillsLoading:!0,error:null});try{const r=await fetch("/api/skills");if(!r.ok)throw new Error("Failed to fetch skills");const i=await r.json();e({skills:i.skills,selectedSkills:i.skills.filter(a=>a.location==="builtin").map(a=>a.name)})}catch(r){e({error:r instanceof Error?r.message:"Unknown error"})}finally{e({skillsLoading:!1})}},toggleSkill:r=>{const{selectedSkills:i}=t();i.includes(r)?e({selectedSkills:i.filter(a=>a!==r)}):e({selectedSkills:[...i,r]})},selectAllSkills:()=>{const{skills:r}=t();e({selectedSkills:r.map(i=>i.name)})},deselectAllSkills:()=>{e({selectedSkills:[]})},reset:()=>{e(n0)}})),xE=e=>e.currentStep,vE=e=>e.dockerDiagnostics,wE=e=>e.dockerLoading,_E=e=>e.isPulling,bE=e=>e.pullProgress,kE=e=>e.pullComplete,jE=e=>e.providers,$x=e=>e.apiKeyInputs,SE=e=>e.apiKeySaveLocation,NE=e=>e.savingApiKeys,CE=e=>e.apiKeySaveSuccess,EE=e=>e.apiKeySaveError,wo=[{id:"apiKeys",title:"API Keys",icon:zy},{id:"docker",title:"Docker Setup",icon:Vy},{id:"skills",title:"Skills",icon:Oj}];function PE(){const e=Ze(jE),t=Ze($x),r=Ze(SE),i=Ze(CE),a=Ze(EE),c=Ze(E=>E.setApiKeyInput),u=Ze(E=>E.setApiKeySaveLocation),f=Ze(E=>E.fetchProviders),[h,m]=j.useState({});j.useEffect(()=>{f()},[f]);const y=E=>{m(R=>({...R,[E]:!R[E]}))},x=["openai","claude","gemini","grok"],v=e.find(E=>E.id==="claude_code"),w=e.filter(E=>E.id!=="claude_code"),_=w.filter(E=>E.has_api_key),S=[...w.filter(E=>!E.has_api_key)].sort((E,R)=>{const I=x.indexOf(E.id),G=x.indexOf(R.id);return I!==-1&&G!==-1?I-G:I!==-1?-1:G!==-1?1:E.name.localeCompare(R.name)}),[N,T]=j.useState(!1);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Configure API Keys"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Enter API keys for the providers you want to use. Keys are saved securely to your local environment."})]}),_.length>0&&o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Qe,{className:"w-5 h-5 text-green-600"}),o.jsxs("div",{children:[o.jsxs("span",{className:"font-medium text-green-800 dark:text-green-200",children:[_.length," API Key",_.length!==1?"s":""," Configured"]}),o.jsx("p",{className:"text-green-700 dark:text-green-300 text-sm",children:_.map(E=>E.name).join(", ")})]})]}),o.jsxs("button",{onClick:()=>T(!N),className:`flex items-center gap-1 px-3 py-1.5 text-sm text-green-700 dark:text-green-300
                       bg-green-100 dark:bg-green-900/50 hover:bg-green-200 dark:hover:bg-green-900
                       rounded-lg transition-colors`,children:[N?o.jsx(mu,{className:"w-4 h-4"}):o.jsx(Ii,{className:"w-4 h-4"}),N?"Hide":"Show"]})]}),N&&o.jsx("div",{className:"mt-4 grid gap-3 md:grid-cols-2",children:_.map(E=>o.jsx("div",{className:"bg-white dark:bg-gray-800 border border-green-200 dark:border-green-800 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:E.name}),o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:""})]})},E.id))})]}),v&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Claude Code"}),o.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(available if logged in via ",o.jsx("code",{className:"bg-gray-100 dark:bg-gray-700 px-1 rounded",children:"claude"})," CLI)"]})]})}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:h.CLAUDE_CODE_API_KEY?"text":"password",value:t.CLAUDE_CODE_API_KEY||"",onChange:E=>c("CLAUDE_CODE_API_KEY",E.target.value),placeholder:"CLAUDE_CODE_API_KEY (optional)",className:`w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg
                       bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200
                       focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),o.jsx("button",{type:"button",onClick:()=>y("CLAUDE_CODE_API_KEY"),className:`absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700
                       dark:text-gray-400 dark:hover:text-gray-200`,children:h.CLAUDE_CODE_API_KEY?o.jsx(mu,{className:"w-4 h-4"}):o.jsx(Ii,{className:"w-4 h-4"})})]})]}),S.length>0&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:"Add API Keys"}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:S.map(E=>o.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsx("label",{className:"font-medium text-gray-800 dark:text-gray-200",children:E.name})}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:h[E.env_var]?"text":"password",value:t[E.env_var]||"",onChange:R=>c(E.env_var,R.target.value),placeholder:E.env_var||"",className:"w-full bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 pr-10 text-sm"}),o.jsx("button",{type:"button",onClick:()=>y(E.env_var),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:h[E.env_var]?o.jsx(mu,{className:"w-4 h-4"}):o.jsx(Ii,{className:"w-4 h-4"})})]})]},E.id))})]}),(i||a)&&o.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[i&&o.jsxs("span",{className:"text-green-600 dark:text-green-400 flex items-center gap-2",children:[o.jsx(Qe,{className:"w-4 h-4"})," API keys saved successfully"]}),a&&o.jsxs("span",{className:"text-red-600 dark:text-red-400 flex items-center gap-2",children:[o.jsx(jt,{className:"w-4 h-4"})," ",a]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{children:"Save to:"}),o.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"saveLocation",checked:r==="global",onChange:()=>u("global"),className:"w-3.5 h-3.5 text-blue-600"}),o.jsx("span",{children:"~/.massgen/.env"})]}),o.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"saveLocation",checked:r==="local",onChange:()=>u("local"),className:"w-3.5 h-3.5 text-blue-600"}),o.jsx("span",{children:"./.env"})]})]}),o.jsx("span",{children:"(saved on Next)"})]})]})}function TE(){const e=Ze(vE),t=Ze(wE),r=Ze(_E),i=Ze(bE),a=Ze(kE),c=Ze(_=>_.fetchDockerDiagnostics),u=Ze(_=>_.startDockerPull),[f,h]=j.useState(["ghcr.io/massgen/mcp-runtime-sudo:latest"]);j.useEffect(()=>{c()},[c]);const m=[{name:"ghcr.io/massgen/mcp-runtime-sudo:latest",description:"Sudo image (recommended - allows package installation)"},{name:"ghcr.io/massgen/mcp-runtime:latest",description:"Standard image (no sudo access)"}],y=_=>{h(k=>k.includes(_)?k.filter(S=>S!==_):[...k,_])},x=()=>{u(f)},v=_=>_?"text-green-500":"text-red-500",w=_=>_?o.jsx(Qe,{className:"w-4 h-4"}):o.jsx(jt,{className:"w-4 h-4"});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Docker Setup"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Docker provides isolated execution environments for MassGen agents."})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:"Docker Status"}),o.jsx("button",{onClick:c,disabled:t,className:"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:o.jsx(mr,{className:`w-4 h-4 ${t?"animate-spin":""}`})})]}),t?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(rt,{className:"w-8 h-8 animate-spin text-blue-500"})}):e?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:v(e.binary_installed),children:w(e.binary_installed)}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Docker binary installed"}),e.docker_version&&o.jsxs("span",{className:"text-xs text-gray-500",children:["(",e.docker_version,")"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:v(e.pip_library_installed),children:w(e.pip_library_installed)}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Docker Python library"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:v(e.daemon_running),children:w(e.daemon_running)}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Docker daemon running"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:v(e.has_permissions),children:w(e.has_permissions)}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Permissions OK"})]})]}),!e.is_available&&e.error_message&&o.jsx("div",{className:"mt-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-2 text-red-800 dark:text-red-200",children:[o.jsx(jt,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:e.error_message}),e.resolution_steps.length>0&&o.jsxs("div",{className:"mt-3",children:[o.jsx("p",{className:"font-medium mb-2",children:"To fix this:"}),o.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:e.resolution_steps.map((_,k)=>o.jsx("li",{className:_.startsWith("  ")?"ml-4 list-none":"",children:_},k))})]})]})]})}),e.is_available&&o.jsxs("div",{className:"mt-4",children:[o.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Installed Images"}),Object.keys(e.images_available).length>0?o.jsx("div",{className:"space-y-1",children:Object.entries(e.images_available).map(([_,k])=>o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("span",{className:v(k),children:w(k)}),o.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-mono text-xs",children:_})]},_))}):o.jsx("p",{className:"text-gray-500 text-sm",children:"No MassGen images found"})]})]}):o.jsx("p",{className:"text-gray-500",children:"Unable to check Docker status"})]}),(e==null?void 0:e.daemon_running)&&(()=>{const _=m.filter(k=>!e.images_available[k.name]);return _.length===0?o.jsx("div",{className:"bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Qe,{className:"w-6 h-6 text-green-600"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-green-800 dark:text-green-200",children:"All Docker Images Installed"}),o.jsx("p",{className:"text-green-700 dark:text-green-300 text-sm",children:"Your Docker environment is fully configured and ready to use."})]})]})}):o.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Pull Missing Docker Images"}),o.jsx("div",{className:"space-y-3 mb-6",children:_.map(k=>o.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:f.includes(k.name),onChange:()=>y(k.name),disabled:r,className:"mt-1 w-4 h-4 text-blue-600 rounded"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-mono text-sm",children:k.name}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:k.description})]})]},k.name))}),r&&Object.keys(i).length>0&&o.jsx("div",{className:"mb-4 space-y-2",children:Object.entries(i).map(([k,S])=>o.jsxs("div",{className:"text-sm",children:[o.jsxs("div",{className:"flex items-center justify-between text-gray-600 dark:text-gray-400",children:[o.jsx("span",{className:"font-mono text-xs truncate max-w-xs",children:k}),o.jsx("span",{children:S.status})]}),S.progress&&o.jsx("p",{className:"text-xs text-gray-500 font-mono",children:S.progress})]},k))}),a&&o.jsx("div",{className:"mb-4 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-lg p-3",children:o.jsxs("span",{className:"text-green-800 dark:text-green-200 flex items-center gap-2",children:[o.jsx(Qe,{className:"w-4 h-4"})," Images pulled successfully!"]})}),o.jsx("button",{onClick:x,disabled:r||f.length===0,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-gray-400 text-white rounded-lg transition-colors flex items-center gap-2",children:r?o.jsxs(o.Fragment,{children:[o.jsx(rt,{className:"w-4 h-4 animate-spin"})," Pulling..."]}):o.jsx(o.Fragment,{children:"Pull Selected Images"})})]})})(),o.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 text-sm",children:"Docker is optional. You can skip this step if you prefer local execution mode."})]})}function AE(){const[e,t]=j.useState([]),[r,i]=j.useState(!0),[a,c]=j.useState(null),[u,f]=j.useState(null),[h,m]=j.useState(null),[y,x]=j.useState(!1),[v,w]=j.useState([{id:"anthropic",name:"Anthropic Skills Collection",description:"Official Anthropic skills including code analysis, research, and more. Requires npm/Node.js.",installed:!1},{id:"crawl4ai",name:"Crawl4AI",description:"Web crawling and scraping skill for extracting content from websites.",installed:!1}]),_=async()=>{try{const R=await fetch("/api/skills");if(!R.ok)throw new Error("Failed to fetch skills");const G=(await R.json()).skills||[];t(G),w(F=>F.map(z=>{if(z.id==="anthropic"){const te=G.filter(ge=>(ge.location==="user"||ge.location==="project")&&!ge.name.toLowerCase().includes("crawl4ai"));return{...z,installed:te.length>0,skillCount:te.length}}if(z.id==="crawl4ai"){const te=G.some(ge=>ge.name.toLowerCase().includes("crawl4ai"));return{...z,installed:te}}return z}))}catch(R){c(R instanceof Error?R.message:"Failed to load skills")}finally{i(!1)}};j.useEffect(()=>{_()},[]);const k=async R=>{f(R),m(null);try{const I=await fetch("/api/skills/install",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({package:R})});if(!I.ok){const G=await I.json();throw new Error(G.error||"Installation failed")}await _()}catch(I){m(I instanceof Error?I.message:"Installation failed")}finally{f(null)}},S=e.filter(R=>R.location==="builtin"),N=e.filter(R=>R.location==="user"),T=e.filter(R=>R.location==="project"),E=[...N,...T];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Skills"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Skills extend agent capabilities with specialized knowledge, workflows, and tools. Install skill packages below, then enable them in your YAML config."})]}),r?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(rt,{className:"w-8 h-8 animate-spin text-blue-500"})}):a?o.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-red-800 dark:text-red-200",children:[o.jsx(jt,{className:"w-5 h-5"}),o.jsx("span",{children:a})]})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Qe,{className:"w-5 h-5 text-green-600"}),o.jsxs("div",{children:[o.jsxs("span",{className:"font-medium text-green-800 dark:text-green-200",children:[e.length," Skill",e.length!==1?"s":""," Available"]}),o.jsxs("p",{className:"text-green-700 dark:text-green-300 text-sm",children:[S.length," built-in, ",E.length," installed"]})]})]}),e.length>0&&o.jsx("button",{onClick:()=>x(!y),className:"text-sm text-green-700 dark:text-green-300 hover:underline",children:y?"Hide Skills":"Browse Skills"})]})}),h&&o.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-red-800 dark:text-red-200",children:[o.jsx(jt,{className:"w-5 h-5"}),o.jsx("span",{children:h})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:"Skill Packages"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Install skill packages to add new capabilities. Requires CLI installation (run in terminal)."}),o.jsx("div",{className:"grid gap-4",children:v.map(R=>o.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:R.name}),R.installed?o.jsxs("span",{className:"px-2 py-0.5 text-xs bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 rounded",children:["installed",R.skillCount?` (${R.skillCount} skills)`:""]}):o.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded",children:"not installed"})]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:R.description})]}),R.installed?o.jsx(Qe,{className:"w-5 h-5 text-green-500 flex-shrink-0"}):o.jsx("button",{onClick:()=>k(R.id),disabled:u!==null,className:`px-3 py-1.5 text-sm bg-blue-600 hover:bg-blue-500 disabled:bg-gray-400
                                 text-white rounded-lg transition-colors flex items-center gap-2`,children:u===R.id?o.jsxs(o.Fragment,{children:[o.jsx(rt,{className:"w-4 h-4 animate-spin"}),"Installing..."]}):"Install"})]})},R.id))}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Or install via CLI: ",o.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"massgen --setup-skills"})]})]}),y&&e.length>0&&o.jsxs("div",{className:"space-y-3 border-t border-gray-200 dark:border-gray-700 pt-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:"Installed Skills"}),S.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Built-in"}),o.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:S.map(R=>o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:R.name}),o.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 rounded",children:"built-in"})]}),R.description&&o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-1",children:R.description})]},R.name))})]}),E.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Installed"}),o.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:E.map(R=>o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:R.name}),o.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-purple-100 dark:bg-purple-900/50 text-purple-600 dark:text-purple-400 rounded",children:R.location==="user"?"user":"project"})]}),R.description&&o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-1",children:R.description})]},R.name))})]})]}),e.length===0&&o.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:o.jsx("p",{className:"text-sm",children:"No skills installed yet. Install a package above to get started."})})]}),o.jsxs("p",{className:"text-center text-gray-500 dark:text-gray-400 text-sm",children:["Enable skills in your YAML config under"," ",o.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"coordination.use_skills"})," and"," ",o.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"coordination.massgen_skills"}),"."]})]})}function RE(){const e=Ze(xE),t=Ze(k=>k.nextStep),r=Ze(k=>k.prevStep),i=Ze(k=>k.setStep),a=Ze(k=>k.saveApiKeys),c=Ze($x),u=Ze(NE),f=Fr(k=>k.getEffectiveTheme),h=Fr(k=>k.mode);j.useEffect(()=>{const k=f(),S=document.documentElement;k==="dark"?S.classList.add("dark"):S.classList.remove("dark")},[f,h]);const m=wo.findIndex(k=>k.id===e),y=m===0,x=m===wo.length-1,v=Object.values(c).some(k=>k&&k.trim()),w=async()=>{e==="apiKeys"&&v&&await a(),t()},_=()=>{window.location.href="/?wizard=open"};return o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center gap-3",children:o.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"MassGen Setup"})}),o.jsxs("a",{href:"/",className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 flex items-center gap-1 text-sm",children:["Skip to App ",o.jsx(Xi,{className:"w-3 h-3"})]})]})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx("div",{className:"flex items-center justify-between",children:wo.map((k,S)=>{const N=k.icon,T=k.id===e,E=S<m;return o.jsxs("button",{onClick:()=>i(k.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${T?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":E?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${T?"bg-blue-600 text-white":E?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700"}`,children:E?o.jsx(Qe,{className:"w-4 h-4"}):o.jsx(N,{className:"w-4 h-4"})}),o.jsx("span",{className:"font-medium",children:k.title})]},k.id)})})})}),o.jsx("main",{className:"px-6 py-8 pb-24",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx(Ue,{mode:"wait",children:o.jsxs(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[e==="apiKeys"&&o.jsx(PE,{}),e==="docker"&&o.jsx(TE,{}),e==="skills"&&o.jsx(AE,{})]},e)})})}),o.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 px-6 py-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[o.jsxs("button",{onClick:r,disabled:y,className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[o.jsx($d,{className:"w-4 h-4"})," Back"]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Step ",m+1," of ",wo.length]}),x?o.jsxs("button",{onClick:_,className:"px-6 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg flex items-center gap-2",children:["Finish Setup ",o.jsx(Qe,{className:"w-4 h-4"})]}):o.jsx("button",{onClick:w,disabled:u,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-blue-400 text-white rounded-lg flex items-center gap-2",children:u?o.jsxs(o.Fragment,{children:[o.jsx(rt,{className:"w-4 h-4 animate-spin"})," Saving..."]}):o.jsxs(o.Fragment,{children:["Next ",o.jsx(Qi,{className:"w-4 h-4"})]})})]})})]})}function LE(){const e=window.location.pathname,[t,r]=j.useState(!0),[i,a]=j.useState(!1);return j.useEffect(()=>{if(e==="/setup"||e==="/setup/"){r(!1);return}if(new URLSearchParams(window.location.search).get("wizard")==="open"){r(!1);return}fetch("/api/setup/status").then(u=>u.json()).then(u=>{u.needs_setup&&a(!0),r(!1)}).catch(()=>{r(!1)})},[e]),e==="/setup"||e==="/setup/"?o.jsx(RE,{}):t?o.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:o.jsx("div",{className:"text-gray-400",children:"Loading..."})}):i?(window.location.href="/setup",o.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:o.jsx("div",{className:"text-gray-400",children:"Redirecting to setup..."})})):o.jsx(yE,{})}Q1.createRoot(document.getElementById("root")).render(o.jsx(ji.StrictMode,{children:o.jsx(LE,{})}));
//# sourceMappingURL=index-BEsvd6Ah.js.map
